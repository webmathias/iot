{"version":3,"sources":["webpack:///./src/modules/app/App.jsx","webpack:///./src/utils/config.js","webpack:///./src/utils/utils.jsx","webpack:///./src/modules/maps/mapsActions.js","webpack:///./src/modules/palette/paletteActions.js","webpack:///./src/modules/login/loginActions.js","webpack:///./src/modules/app/appReducers.jsx","webpack:///./src/ui/Map.jsx","webpack:///./src/modules/login/Login.jsx","webpack:///./src/modules/editor/mapActions.js","webpack:///./src/modules/sensor/sensorActions.js","webpack:///./src/ui/MapDetail.jsx","webpack:///./src/modules/maps/MapDetail.jsx","webpack:///./src/ui/MapList.jsx","webpack:///./src/modules/maps/MapList.jsx","webpack:///./src/ui/FastAddPalette.jsx","webpack:///./src/ui/FormPalette.jsx","webpack:///./src/ui/ListPalette.jsx","webpack:///./src/modules/palette/ListPalette.jsx","webpack:///./src/icons/ic_remove_circle_black_24px.svg","webpack:///./src/ui/PropertiesForm.jsx","webpack:///./src/ui/Properties.jsx","webpack:///./src/ui/Item.jsx","webpack:///./src/ui/Editor.jsx","webpack:///./src/modules/editor/Editor.jsx","webpack:///./src/icons/ic_show_chart_black_24px.svg","webpack:///./src/icons/ic_compare_arrows_red_24px.svg","webpack:///./src/icons/ic_compare_arrows_green_24px.svg","webpack:///./src/ui/SensorChart.jsx","webpack:///./src/ui/SensorList.jsx","webpack:///./src/modules/sensor/SensorList.jsx","webpack:///./src/ui/LoginScreen.jsx","webpack:///./src/modules/maps/mapsReducer.js","webpack:///./src/modules/editor/mapReducer.js","webpack:///./src/modules/palette/paletteReducer.js","webpack:///./src/modules/sensor/sensorReducer.js","webpack:///./src/modules/login/loginReducer.js","webpack:///./src/router/AppMenu.jsx","webpack:///./src/router/AppRouter.jsx"],"names":["__webpack_require__","_redux","_reactRedux","store","applyMiddleware","_reduxPromiseMiddleware2","default","createStore","appReducers","window","__REDUX_DEVTOOLS_EXTENSION__","props","_react2","createElement","Provider","_AppRouter2","BASE_URL","location","host","BASE_WS_URL","getImageURL","id","value","arguments","length","undefined","renderField","_ref","input","label","type","_ref$meta","meta","touched","error","help","className","_extends","placeholder","renderFieldSelect","_ref2","_ref2$meta","options","map","key","_react","FileField","handleDropOrClick","acceptedFiles","rejectedFiles","e","eventOrValue","_this$props$input","_this","onChange","onBlur","dataTransfer","files","React","Component","_props","this","_props$meta","_props2","accept","multiple","selectedFile","dropzoneProps","onDrop","disabled","name","_reactDropzone2","style","width","height","borderWidth","borderColor","borderStyle","borderRadius","src","preview","Modal","modal","_jquery2","_this3","_props3","children","title","buttons","ref","tabIndex","role","data-dismiss","aria-label","aria-hidden","_axios","_config","actions","FETCH_MAPS","SELECT_MAP","FETCH_MAP_DETAIL","WS_MAP_MESSAGE","WS_CONNECTED","WS_DISCONNECTED","wsStatus","fetchMaps","filter","payload","axios","get","selectMap","lastConnection","wsStatusStop","close","wsStatusStart","dispatch","sensors","every","v","i","console","log","WebSocket","JSON","stringify","onopen","s","onmessage","msg","parse","data","onclose","onerror","err","ADD_PALETTE","REMOVE_PALETTE","FETCH_PALETTE","FILTER_PALETTE","save","values","FormData","append","images","img","index","image","put","fetch","remove","delete","login","LOGIN","post","then","res","instance","defaultConfig","headers","authorization","_reduxForm","_mapsActions","goto","url","combineReducers","loginReducer","sensorReducer","palette","paletteReducer","mapReducer","maps","mapsReducer","form","menu","state","currentUrl","action","Object","assign","d3","Point","x","y","_classCallCheck","Map","_possibleConstructorReturn","__proto__","getPrototypeOf","call","baseX","comps","z","svg","select","node","attr","_this2","mode","rootsvg","root","mainsvg","grid","on","a","component","dragingElement","idx","indexOf","splice","event","preventDefault","button","selectElement","createRect","coords","mouse","currentTarget","p1","getTileCoordinates","isoTo2D","x1","Math","min","p2","x2","max","y1","y2","addItem","p","itemSelected","twoDToIso","get2dFromTileCoordinates","getRectPoints","selectAll","w","getBBox","parentNode","appendChild","teste","Image","onload","push","drag","b","c","coordinates","j","zoom","WheelEvent","scaleExtent","transform","zoomIdentity","translate","scale","createGrid","selectedItem","MapItem","_id","_p1","_p2","_p3","_p4","init","len","het","_loop","_p","_loop2","t","temp","sort","currentSelected","saveSvgAsPng","pt","tempPt","tileHeight","floor","_this4","isOver","canDrop","connectDropTarget","el","nextProps","isOverCurrent","connect","loginError","reduxForm","validate","errors","username","password","LoginForm","SELECT_ITEM","ADD_ITEM_ON_MAP","POINT_SELECTED","SAVE_PROPERTIES","SELECT_EDIT_PROPERTIES","SAVEMAP","CHANGE_NAME","selectItem","item","saveMap","itemPointSelected","saveProperties","selectProperties","prop","changeName","FETCH_SENSORS","SELECT_SENSOR","INVALID_FILTER","SENSOR_UPDATE","CLOSE_CHART","closeChart","selectSensor","sensorName","fetchSensors","Array","isArray","MapsDetail","checkConnections","messages","changed","currentMap","mapSensors","sensor","mapRef","getWrappedInstance","updateSliceImage","slice","position","startMonitoring","monitoring","_currentMap$name","_currentMap$map","_Map2","m","MapDetail","MapList","list","onClick","mapDispatchToProps","FastAddPalette","setState","bind","split","f","awesomeName","_utils","FileComponent","fields","submitFailed","member","Field","handleSubmit","show","FieldArray","ListPalette","_FastAddPalette2","_FormPalette2","onSubmit","_paletteActions","module","exports","selectedProperty","property","find","_PropertiesForm2","Item","filterText","mapName","target","removeIcon","data-toggle","data-target","aria-expanded","aria-controls","aria-labelledby","data-parent","overflowY","maxHeight","_Properties2","_mapActions","listFilterd","Editor","SensorChart","hasSelectedSensor","selectedSensor","reduce","r","Date","chartRef","load","columns","c3","generate","bindto","chart","size","axis","tick","format","setTimeout","resize","clientHeight","clientWidth","wsConnection","connectIconON","connectIconOFF","SensorItem","chartIcon","SensorList","Fragment","_SensorChart2","_sensorActions","currentFilter","selected","autoComplete","noValidate","DEFAULT_STATE","concat","_toConsumableArray","loading","toLowerCase","EMPTY_SENSOR","limit","newselectedSensor","_loginActions","isLoged","status","response","MenuApp","changeUrl","_props$url","routes","route","path","startsWith","_reactRouter","_appReducers","history","_createHashHistory2","queryKey","Login","hide","RouterConfig","pathname","Router","_AppMenu2","Route"],"mappings":"wJAAA,QAAAA,EAAA,QACAA,EAAA,MACAC,EAAAD,EAAA,IACAE,EAAAF,EAAA,QACAA,EAAA,SACAA,EAAA,KAEAA,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,MAEAA,EAAA,KACAA,EAAA,uDAGA,IAAIG,GAAQ,EAAAF,EAAAG,kBAAgB,EAAAC,EAAAC,WAAhB,CAAqCC,cAArC,CAAkDC,UAAYC,OAAOC,8BAAgCD,OAAOC,0CAE5G,SAAAC,GAAA,OACRC,EAAAN,QAAAO,cAACX,EAAAY,UAASX,MAAOA,GACbS,EAAAN,QAAAO,cAACE,EAAAT,QAAD,+FCnBR,IAAMU,EAAoC,mBAAzBP,OAAOQ,SAASC,KAA4B,4BAA8B,OACrFC,EAAuC,mBAAzBV,OAAOQ,SAASC,KAChC,0CACA,QAAUT,OAAOQ,SAASC,KAAO,yBAK5BF,aAAUG,gBAAaC,YAHZ,SAACC,GAAgB,IAAZC,EAAYC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,EAC3B,OAAOP,EAAW,UAAYK,EAAK,iBAAmBC,2iBCJ1CI,YAAT,SAAAC,GAA6E,IAAtDC,EAAsDD,EAAtDC,MAAOC,EAA+CF,EAA/CE,MAAOC,EAAwCH,EAAxCG,KAAwCC,EAAAJ,EAAlCK,KAAQC,EAA0BF,EAA1BE,QAASC,EAAiBH,EAAjBG,MAASC,EAAQR,EAARQ,KACxE,OACIvB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,eACXxB,EAAAN,QAAAO,cAAA,aAAQgB,GACRjB,EAAAN,QAAAO,cAAA,WACID,EAAAN,QAAAO,cAAA,QAAAwB,GAAOD,UAAU,gBAAmBR,GAAOU,YAAaT,EAAOC,KAAMA,KACpEK,GAAQvB,EAAAN,QAAAO,cAAA,SAAOuB,UAAU,cAAjB,KAAiCD,GACzCF,GAAWC,GAAStB,EAAAN,QAAAO,cAAA,SAAOuB,UAAU,yBAAjB,KAA4CF,QAKjEK,kBAAT,SAAAC,GAAsF,IAAzDZ,EAAyDY,EAAzDZ,MAAOC,EAAkDW,EAAlDX,MAAkDY,EAAAD,EAA3CR,KAAQC,EAAmCQ,EAAnCR,QAASC,EAA0BO,EAA1BP,MAASC,EAAiBK,EAAjBL,KAAMO,EAAWF,EAAXE,QAC9E,OAEI9B,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,eACXxB,EAAAN,QAAAO,cAAA,aAAQgB,GACRjB,EAAAN,QAAAO,cAAA,WACID,EAAAN,QAAAO,cAAA,SAAAwB,GAAQD,UAAU,gBAAoBR,GAAOU,YAAaT,IACrDa,EAAQC,IAAI,SAAArB,GAAA,OAASV,EAAAN,QAAAO,cAAA,UAAQ+B,IAAKtB,EAAOA,MAAOA,GAAQA,MAE5Da,GAAQvB,EAAAN,QAAAO,cAAA,SAAOuB,UAAU,cAAjB,KAAiCD,GACzCF,GAAWC,GAAStB,EAAAN,QAAAO,cAAA,SAAOuB,UAAU,yBAAjB,KAA4CF,MAzBjF,IAAAW,EAAA7C,EAAA,cACAA,EAAA,SACAA,EAAA,snBA6Ba8C,yNAETC,kBAAoB,SAACC,EAAeC,EAAeC,GAC/C,IAAIC,EAAeD,EADkCE,EAEfC,EAAK1C,MAArCiB,MAAS0B,EAFsCF,EAEtCE,SAAUC,EAF4BH,EAE5BG,OACV,SAAXL,EAAEpB,OAGEqB,EAFAH,EAAcxB,OAEE0B,EAAEM,cAAgBN,EAAEM,aAAaC,OAAUT,EAE5C,MAGvBO,EAAOJ,GACPG,EAASH,sBAdcO,UAAMC,+CAkBxB,IAAAC,EACqCC,KAAKlD,MAAzCiB,EADDgC,EACChC,MADDkC,EAAAF,EACQ5B,KADR+B,GAAAD,EACgB7B,QADhB6B,EACyB5B,MACH2B,KAAKlD,OAA1BqD,EAFDD,EAECC,OAAQC,EAFTF,EAESE,SACVC,EAAgBtC,GAASA,EAAMN,OAASM,EAAMN,MAAM,IAAO,KAC3D6C,GACAH,SACAC,WACAG,OAAQP,KAAKd,mBAUjB,OACInC,EAAAN,QAAAO,cAAA,WACID,EAAAN,QAAAO,cAAA,QAAAwB,GAAOP,KAAK,SAASuC,UAAA,GAAazC,IACjCsC,EAAetD,EAAAN,QAAAO,cAAA,YAAOqD,EAAaI,MAAe,uBACnD1D,EAAAN,QAAAO,cAAC0D,EAAAjE,QAAD+B,GAAUmC,OAXdC,MAAO,OACPC,OAAQ,OACRC,YAAa,MACbC,YAAa,qBACbC,YAAa,SACbC,aAAc,QAMmBX,GACxBD,EAAetD,EAAAN,QAAAO,cAAA,OAAK4D,MAAM,OAAOM,IAAKb,EAAac,UAAc,kBAOzEC,iIAActB,+CAEfE,KAAKqB,QACL,EAAAC,EAAA7E,SAAEuD,KAAKqB,OAAOA,yCAGb,IAAAE,EAAAvB,KAAAwB,EACgCxB,KAAKlD,MAAlC2E,EADHD,EACGC,SAAUC,EADbF,EACaE,MAAOC,EADpBH,EACoBG,QACzB,OACI5E,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,eAAeqD,IAAK,SAAAvC,GAAA,OAAKkC,EAAKF,MAAQhC,GAAGwC,SAAS,KAAKC,KAAK,UACvE/E,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,wBAAwBuD,KAAK,YACxC/E,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,iBACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,gBACXxB,EAAAN,QAAAO,cAAA,MAAIuB,UAAU,eAAemD,GAC7B3E,EAAAN,QAAAO,cAAA,UAAQiB,KAAK,SAASM,UAAU,QAAQwD,eAAa,QAAQC,aAAW,SACpEjF,EAAAN,QAAAO,cAAA,QAAMiF,cAAY,QAAlB,OAGRlF,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cACVkD,GAEL1E,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,gBACVoD,GACG5E,EAAAN,QAAAO,cAAA,UAAQiB,KAAK,SAASM,UAAU,oBAAoBwD,eAAa,SAAjE,0LCrGhC,MAAAG,EAAA/F,EAAA,wCACAgG,EAAAhG,EAAA,IACO,IAAMiG,aACTC,WAAW,aACXC,WAAW,aACXC,iBAAkB,mBAClBC,eAAgB,iBAChBC,aAAc,eACdC,gBAAiB,mBAgBjBC,GAZSC,YAAY,SAACC,GAAD,OACrB5E,KAAMmE,EAAQC,WACdS,QAASC,UAAMC,IAAI7F,WAAS,UAEnB8F,YAAY,SAACzF,GAAD,OACrBS,KAAMmE,EAAQG,iBACdO,QAASC,UAAMC,IAAI7F,WAAS,QAAQK,UAMzBI,GACXsF,KACSC,eAAe,WACpBR,GACAA,EAASS,SAGJC,gBAAgB,SAACC,EAAUC,GACpC,GAAKA,GAA8B,IAAnBA,EAAQ5F,OAAxB,CACA,GAAIgF,EAAU,CAEV,GAAIY,EAAQ5F,QAAUuF,EAAevF,QAAU4F,EAAQC,MAAM,SAACC,EAAGC,GAAJ,OAAUD,IAAMP,EAAeQ,KAExF,YADAC,QAAQC,IAAI,QAASV,GAGzBS,QAAQC,IAAI,iCAAkCV,GAC9CP,EAASS,SAEbT,EAAW,IAAIkB,UAAUvG,cAAc,YAAcwG,KAAKC,UAAUR,KAC3DS,OAAS,SAAAC,GACdN,QAAQC,IAAI,aACZV,EAAiBK,EACjBD,GACIrF,KAAMmE,EAAQK,gBAItBE,EAASuB,UAAY,SAAAC,GACjBR,QAAQC,IAAI,WAAYO,GACxBb,GACIrF,KAAMmE,EAAQI,eACdM,QAASgB,KAAKM,MAAMD,EAAIE,SAGhC1B,EAAS2B,QAAU,SAACjF,GAChBsE,QAAQC,IAAI,cAAcvE,GAC1B6D,KACAI,GACIrF,KAAMmE,EAAQM,gBACdI,QAASzD,KAGjBsD,EAAS4B,QAAU,SAACC,GAChBtB,KACAI,GACIrF,KAAMmE,EAAQM,gBACdI,QAAS0B,iMCtErB,MAAAtC,EAAA/F,EAAA,wCACAgG,EAAAhG,EAAA,IACO,IAAMsI,gBAAc,cACdC,mBAAiB,iBACjBC,kBAAgB,gBAChBC,mBAAiB,iBAEjBC,OAAO,SAACC,GACjB,IAAMT,EAAO,IAAIU,SAASD,GAC1BT,EAAKW,OAAO,SAAUlB,KAAKC,UAAUe,IAErC,IAAMlF,EAAQkF,EAAOG,OAAOnG,IAAI,SAACoG,EAAKC,GAGlC,OAFAd,EAAKW,OAAO,GAAKG,EAAYD,EAAIE,MAAM,IACvCzB,QAAQC,IAAIsB,EAAIE,OACTF,EAAIE,MAAM,KAIrB,OADAzB,QAAQC,IAAIhE,IAER3B,KAAMwG,EACN3B,QAASC,UAAMsC,IAAIlI,WAAW,SAAUkH,KAInCiB,QAAQ,WACjB,OACIrH,KAAM0G,EACN7B,QAASC,UAAMC,IAAI7F,WAAW,YAGzBoI,SAAS,SAAC/H,GACnB,OACIS,KAAMyG,EACN5B,QAASC,UAAMyC,OAAOrI,WAAW,UAAUK,KAItCqF,SAAS,SAACpC,GAAD,OAClBxC,KAAM2G,EACN9B,QAASrC,qGClCGgF,MAAT,SAAeX,GAClB,OACI7G,KAAMyH,EACN5C,QAASC,UAAM4C,KAAKxI,WAAW,SAAU2H,GAAQc,KAAK,SAAAC,GAElD,OADAC,SAASC,cAAcC,QAAQC,cAAgB,UAAUJ,EAAIxB,KACtDwB,MAVnB,MAAA3D,EAAA/F,EAAA,wCACAgG,EAAAhG,EAAA,IAEO,IAAMuJ,UAAQ,8QCHrBtJ,EAAAD,EAAA,IACA+J,EAAA/J,EAAA,QACAA,EAAA,UACAA,EAAA,UACAA,EAAA,UACAA,EAAA,UACAA,EAAA,MACAgK,EAAAhK,EAAA,uDAcaiK,OAAO,SAACC,GACjB,OACIpI,KAAM,cACN6E,QAASuD,eAIF,EAAAjK,EAAAkK,kBACXb,MAAOc,UACPhD,QAASiD,UACTC,QAASC,UACT5H,IAAK6H,UACLC,KAAMC,UACNC,eACAC,KA3BgB,WAEN,IAFOC,EAEPtJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,IADVuJ,WAAY,KACbC,EAAWxJ,UAAA,GACV,OAAQwJ,EAAOjJ,MACX,IAAK,cACD,OAAOkJ,OAAOC,UAAP5I,KAAuBwI,IAAWC,WAAYC,EAAOpE,UAChE,KAAKV,UAAQG,iBAAmB,aAC5B,OAAO4E,OAAOC,UAAP5I,KAAuBwI,IAAWC,WAAY,kBAEzD,QACI,OAAOD,6fClBnBhI,EAAA7C,EAAA,uCACYkL,0JAAZlL,EAAA,KACAgG,EAAAhG,EAAA,sGACMmL,EACF,SAAAA,EAAYC,EAAGC,GAAGC,EAAAzH,KAAAsH,GACdtH,KAAKuH,EAAIA,EACTvH,KAAKwH,EAAIA,GAWXE,cAiBF,SAAAA,EAAY5K,GAAO2K,EAAAzH,KAAA0H,GAAA,IAAAlI,mKAAAmI,CAAA3H,MAAA0H,EAAAE,WAAAT,OAAAU,eAAAH,IAAAI,KAAA9H,KACTlD,IADS,OAEf0C,EAAKV,IAAMhC,EAAMgC,QACjBU,EAAKuI,MAA0B,GAAlBvI,EAAKV,IAAInB,OACtB6B,EAAKwI,SAJUxI,qUAjBLM,yDACGsF,EAAOmC,EAAGC,EAAG/G,GAC1B,IAAI0E,GAAS,EACbxB,QAAQC,IAAInD,GACZ,IAAK,IAAIwH,EAAI,EAAGA,EAAIjI,KAAKlB,IAAIyI,GAAGC,GAAG7J,OAAQsK,IAEvC,GADAtE,QAAQC,IAAI,cAAe5D,KAAKlB,IAAIyI,GAAGC,GAAGS,IACtCjI,KAAKlB,IAAIyI,GAAGC,GAAGS,GAAGzK,IAAMiD,EAAM,CAC9B0E,EAAQ8C,EACR,OAGM,GAAV9C,GAAenF,KAAKkI,IAAIC,OAAO,SAAWZ,EAAI,IAAMC,EAAI,IAAMrC,GAAOiD,SACrEzE,QAAQC,IAAI5D,KAAKkI,IAAIC,OAAO,SAAWZ,EAAI,IAAMC,EAAI,IAAMrC,GAAOiD,QAClEpI,KAAKkI,IAAIC,OAAO,SAAWZ,EAAI,IAAMC,EAAI,IAAMrC,GAAOiD,OAAOlH,IAAMkE,EACnEpF,KAAKkI,IAAIC,OAAO,SAAWZ,EAAI,IAAMC,EAAI,IAAMrC,GAAOkD,KAAK,aAAcjD,uDAS7D,IAAAkD,EAAAtI,KAChBA,KAAKuI,KAAO,EACZvI,KAAKwI,QAAUnB,EAAGc,OAAOnI,KAAKyI,MAAMzD,OAAO,OAC3ChF,KAAK0I,QAAU1I,KAAKwI,QAAQxD,OAAO,KACnChF,KAAK2I,KAAO3I,KAAK0I,QAAQ1D,OAAO,KAChChF,KAAKkI,IAAMlI,KAAK0I,QAAQ1D,OAAO,KAC/BhF,KAAKkI,IAAIG,KAAK,OAAQ,gBACtBrI,KAAKkI,IAAIG,KAAK,QAAS,QACvBrI,KAAKkI,IAAIG,KAAK,SAAU,QACxBrI,KAAKwI,QAAQH,KAAK,QAAS,QAC3BrI,KAAKwI,QAAQH,KAAK,SAAU,QAC5BrI,KAAK0I,QAAQL,KAAK,QAAS,QAC3BrI,KAAK0I,QAAQL,KAAK,SAAU,QAC5BrI,KAAK2I,KAAKN,KAAK,QAAS,QACxBrI,KAAK2I,KAAKN,KAAK,SAAU,QACzBrI,KAAKwI,QAAQI,GAAG,aAAc,SAACC,GAC3B,GAAIP,EAAKQ,WAAaR,EAAKS,eAAgB,CACvCT,EAAKS,eAAexD,SACpB,IAAIyD,EAAMV,EAAKN,MAAMiB,QAAQX,EAAKS,eAAgB,GAC9CC,IAAQ,GACRV,EAAKN,MAAMkB,OAAOF,EAAK,GAE3BV,EAAKS,eAAiB,QAG9B/I,KAAK0I,QAAQE,GAAG,cAAe,WAY3B,OAXAvB,EAAG8B,MAAMC,kBAWF,IAIXpJ,KAAK0I,QAAQE,GAAG,YAAa,SAACC,GAC1B,GAAuB,GAAnBxB,EAAG8B,MAAME,OAAa,CACtBf,EAAKC,KAAO,cACZD,EAAKgB,cAAgBhB,EAAKiB,WAAW,cACrC,IAAIC,EAASnC,EAAGoC,MAAMpC,EAAG8B,MAAMO,eAC3BC,EAAKrB,EAAKsB,mBAAmBtB,EAAKuB,QAAQ,IAAIvC,EAAMkC,EAAO,GAAIA,EAAO,GAAK,KAAM,IACrFlB,EAAKgB,cAAcjB,KAAK,SAAU,WAClCC,EAAKgB,cAAcK,GAAKA,KAGhC3J,KAAK0I,QAAQE,GAAG,UAAW,SAACC,GACxB,OAAQP,EAAKC,MACT,IAAK,cAED,GAAID,EAAKQ,UAKL,IAJA,IAAIgB,EAAKC,KAAKC,IAAI1B,EAAKgB,cAAcK,GAAGpC,EAAGe,EAAKgB,cAAcW,GAAG1C,GAC7D2C,EAAKH,KAAKI,IAAI7B,EAAKgB,cAAcK,GAAGpC,EAAGe,EAAKgB,cAAcW,GAAG1C,GAC7D6C,EAAKL,KAAKC,IAAI1B,EAAKgB,cAAcK,GAAGnC,EAAGc,EAAKgB,cAAcW,GAAGzC,GAC7D6C,EAAKN,KAAKI,IAAI7B,EAAKgB,cAAcK,GAAGnC,EAAGc,EAAKgB,cAAcW,GAAGzC,GACxDD,EAAIuC,EAAIvC,GAAK2C,EAAI3C,IACtB,IAAK,IAAIC,EAAI4C,EAAI5C,GAAK6C,EAAI7C,IACtBc,EAAKxL,MAAMwN,QAAX9L,KAAwB8J,EAAKQ,WAAavB,EAAGC,GAIzDc,EAAKgB,cAAc/D,SAG3B+C,EAAKC,KAAO,IAEhBvI,KAAK0I,QAAQE,GAAG,QAAS,SAACC,GACtB,IAAIW,EAASnC,EAAGoC,MAAMpC,EAAG8B,MAAMO,eAC3Ba,EAAIjC,EAAKsB,mBAAmBtB,EAAKuB,QAAQ,IAAIvC,EAAMkC,EAAO,GAAIA,EAAO,GAAK,KAAM,IAChFlB,EAAKQ,UAKLR,EAAKxL,MAAMwN,QAAX9L,KAAwB8J,EAAKQ,WAAayB,EAAEhD,EAAGgD,EAAE/C,GAGjDc,EAAKxL,MAAM0N,aAAaD,EAAEhD,EAAGgD,EAAE/C,KAKvCxH,KAAK0I,QAAQE,GAAG,YAAa,SAACC,GAC1B,IAAIW,EAASnC,EAAGoC,MAAMpC,EAAG8B,MAAMO,eACzBC,EAAKrB,EAAKsB,mBAAmBtB,EAAKuB,QAAQ,IAAIvC,EAAMkC,EAAO,GAAIA,EAAO,GAAK,KAAM,IAEnFe,EAAIjC,EAAKmC,UAAUnC,EAAKoC,yBAAyBf,EAAI,KAEzD,OAAQrB,EAAKC,MACT,IAAK,cACDD,EAAKgB,cAAcjB,KAAK,SAAUC,EAAKqC,cAAcrC,EAAKgB,cAAcK,GAAIA,IAC5ErB,EAAKgB,cAAcW,GAAKN,EACxB,MAEJ,QAGI,GAFArB,EAAKJ,IAAI0C,UAAU,UACdvC,KAAK,YAAa,aAAgBkC,EAAEhD,EAAK,IAAOgD,EAAE/C,EAAK,KACxDc,EAAKQ,UAGL,GAFAR,EAAKS,eAAiBT,EAAKJ,IAAI0C,UAAU,WAEpCtC,EAAKS,eAAeX,OAgCrBE,EAAKS,eACAV,KAAK,IAAKkC,EAAEhD,EAAI,GAAKe,EAAKQ,UAAU+B,GACpCxC,KAAK,IAAKkC,EAAE/C,EAAIc,EAAKS,eAAeX,OAAO0C,UAAUjK,OAAS,IAE/DyH,EAAKS,eAAeX,QACpBE,EAAKS,eAAeX,OAAO2C,WAAWC,YAAY1C,EAAKS,eAAeX,YArC7C,CAC7B,IAAI6C,EAAQ3C,EAAKQ,UAAU1D,MACvBA,EAAQ,IAAI8F,MAChB9F,EAAM+F,OAAS,SAAChC,GAEZb,EAAKS,eAAiBT,EAAKJ,IAAIlD,OAAO,SACjCqD,KAAK,aAAc4C,GACnB5C,KAAK,IAAKkC,EAAEhD,EAAIe,EAAKQ,UAAU+B,GAC/BxC,KAAK,IAAKkC,EAAE/C,GACZa,KAAK,KAAM,UACXA,KAAK,UAAW,IAChBA,KAAK,QAAS,IAAMC,EAAKQ,UAAU+B,GACxCvC,EAAKN,MAAMoD,KAAK9C,EAAKS,gBAErBT,EAAKS,eAAejB,KAAKT,EAAGgE,OAAOzC,GAAG,OAAQ,SAACC,EAAGyC,EAAGC,GAEjD,IAAIC,EAAcnE,EAAGoC,MAAM8B,EAAED,IACzBf,EAAIjC,EAAKmC,UAAUnC,EAAKoC,yBAAyBpC,EAAKsB,mBAAmBtB,EAAKuB,QAAQ,IAAIvC,EAAMkE,EAAY,GAAIA,EAAY,GAAK,KAAM,IAAK,KAChJlD,EAAKJ,IAAI0C,UAAU,UACdvC,KAAK,YAAa,aAAgBkC,EAAEhD,EAAK,IAAOgD,EAAE/C,EAAK,KAC5DH,EAAGc,OAAOoD,EAAED,IACPjD,KAAK,IAAKkC,EAAEhD,GACZc,KAAK,IAAKkC,EAAE/C,EAAIc,EAAKS,eAAeX,OAAO0C,UAAUjK,UAG3D+H,GAAG,MAAO,SAAC6C,QAIlBrG,EAAMlE,IAAM+J,MAkBhC,IAAIS,EAAOrE,EAAGqE,OACT7I,OAAO,WACJ,OAAOwE,EAAG8B,iBAAiBwC,YAAiC,GAAnBtE,EAAG8B,MAAME,SAErDuC,aAAa,GAAK,KAClBhD,GAAG,OAAQ,WACRN,EAAKI,QAAQL,KAAK,YAAahB,EAAG8B,MAAM0C,aAGhD7L,KAAKwI,QAAQV,KAAK4D,GAAM5D,KAAK4D,EAAKG,UAAWxE,EAAGyE,aAAaC,UAAU/L,KAAK+H,MAAO,GAAGiE,MAAM,KAC5FhM,KAAK0I,QAAQL,KAAK,YAAa,aAAerI,KAAK+H,MAAQ,mBAE3D/H,KAAKiM,YAAW,gDAGhBjM,KAAKiM,aACDjM,KAAKlD,MAAMoP,aACXlM,KAAK8I,UAAY,IAvMzB,SAAAqD,EAAY/G,EAAOyF,EAAGrN,EAAIS,GAAMwJ,EAAAzH,KAAAmM,GAC5BnM,KAAKoF,MAAQA,EACbpF,KAAK6K,EAAIA,EACT7K,KAAKxC,GAAKA,EACVwC,KAAK/B,KAAOA,EAmMS,EAAY,EAAAkE,EAAA5E,aAAYyC,KAAKlD,MAAMoP,aAAaE,IAAK,GAAIpM,KAAKlD,MAAMoP,aAAatL,MAAOZ,KAAKlD,MAAMoP,aAAaE,IAAKpM,KAAKlD,MAAMoP,aAAajO,MAE9J+B,KAAK8I,UAAY,2CAGXa,EAAIM,GACd,IAAIoC,EAAMrM,KAAKyK,UAAUzK,KAAK0K,yBAAyB,IAAIpD,EAAMqC,EAAGpC,EAAGoC,EAAGnC,GAAI,KAC1E8E,EAAMtM,KAAKyK,UAAUzK,KAAK0K,yBAAyB,IAAIpD,EAAMqC,EAAGpC,EAAG0C,EAAGzC,GAAI,KAC1E+E,EAAMvM,KAAKyK,UAAUzK,KAAK0K,yBAAyB,IAAIpD,EAAM2C,EAAG1C,EAAG0C,EAAGzC,GAAI,KAC1EgF,EAAMxM,KAAKyK,UAAUzK,KAAK0K,yBAAyB,IAAIpD,EAAM2C,EAAG1C,EAAGoC,EAAGnC,GAAI,KAE1EsC,EAAKuC,EAAI9E,EAAI,GACb6C,EAAKiC,EAAI7E,EAOb,OAAOsC,EAAK,IAAMM,EAAK,IANdkC,EAAI/E,EAMqB,KALzB+E,EAAI9E,EAAI,IAK4B,KAJpC+E,EAAIhF,EAAI,IAIuC,IAH/CgF,EAAI/E,EAGsD,IAF1DgF,EAAIjF,EAEiE,KADrEiF,EAAIhF,EAAI,IACwE,IAAMsC,EAAK,IAAMM,qCAGnG5M,GAEP,OAAOwC,KAAKkI,IACPlD,OAAO,KACPqD,KAAK,KAAM7K,GACXwH,OAAO,WACPqD,KAAK,SAAUrI,KAAK2K,cAAc,IAAIrD,EAAM,EAAG,GAAI,IAAIA,EAAM,EAAG,KAChEe,KAAK,OAAQ,WACbA,KAAK,SAAU,WACfA,KAAK,eAAgB,GACrBA,KAAK,UAAW,uCAEdoE,GAIP,IAJa,IAAAlL,EAAAvB,KAGT0M,EAAM1M,KAAKlB,IAAInB,QAAU,GACpB+F,EAAI,EAAGA,EAAIgJ,EAAKhJ,IAAK,CAC1B1D,KAAKlB,IAAI4E,GAAK1D,KAAKlB,IAAI4E,OAEvB,IADA,IAAIiJ,EAAM3M,KAAKlB,IAAI4E,GAAG/F,QAAU,GAFNiP,EAAA,SAGjBnB,GACLlK,EAAKzC,IAAI4E,GAAG+H,GAAKlK,EAAKzC,IAAI4E,GAAG+H,OAC7B,IAAIlB,EAAIhJ,EAAKkJ,UAAUlJ,EAAKmJ,yBAAyB,IAAIpD,EAAM5D,EAAG+H,GAAI,KAEtE,GAAIgB,EAAM,CACN,IAAII,EAAK,IAAIvF,EAAM5D,EAAG+H,GACtBlK,EAAKoH,KAAK3D,OAAO,WACZqD,KAAK,SAAU9G,EAAKoJ,cAAckC,EAAIA,IACtCxE,KAAK,OAAQ,WACbA,KAAK,SAAU,WACfA,KAAK,eAAgB,GACrBA,KAAK,UAAW,IAEzB,GAAI9G,EAAKzC,IAAI4E,GAAG+H,GAEZ,IAFgB,IAAAqB,EAAA,SAEPC,GACL,IAAI9B,EAAQ1J,EAAKzC,IAAI4E,GAAG+H,GAAGsB,GAAG3H,MAE9B,GAAI7D,EAAK2G,IAAIC,OAAO,SAAWzE,EAAI,IAAM+H,EAAI,IAAMsB,GAAG3E,OAClD,iBACJ,IAAIhD,EAAQ,IAAI8F,MACZ8B,EAAOzL,EAAKwH,eAAiBxH,EAAK2G,IAAIlD,OAAO,SAC5CqD,KAAK,aAAc4C,GACnB5C,KAAK,IAAKkC,EAAEhD,EAAI,GAAKhG,EAAKzC,IAAI4E,GAAG+H,GAAGsB,GAAGlC,GACvCxC,KAAK,IAAKkC,EAAE/C,EAAI,IAChBa,KAAK,KAAM,QAAU3E,EAAI,IAAM+H,EAAI,IAAMsB,GACzC1E,KAAK,QAAS,IAAM9G,EAAKzC,IAAI4E,GAAG+H,GAAGsB,GAAGlC,GAC3CzF,EAAM+F,OAAS,SAAChC,GACZ6D,EAAK3E,KAAK,IAAKkC,EAAE/C,EAAK,IAAQpC,EAAMxE,MAAQwE,EAAMvE,OAAU,IAC5DU,EAAKyG,MAAMoD,KAAK4B,GAChBzL,EAAK0L,OACLD,EAAKlF,KAAKT,EAAGgE,OAAOzC,GAAG,OAAQ,SAACC,EAAGyC,EAAGC,GAElC,IAAIC,EAAcnE,EAAGoC,MAAM8B,EAAED,IACzBf,EAAIhJ,EAAKkJ,UAAUlJ,EAAKmJ,yBAAyBnJ,EAAKqI,mBAAmBrI,EAAKsI,QAAQ,IAAIvC,EAAMkE,EAAY,GAAIA,EAAY,GAAK,KAAM,IAAK,KAChJnE,EAAGc,OAAOoD,EAAED,IACPjD,KAAK,IAAKkC,EAAEhD,EAAI,IAChBc,KAAK,IAAKkC,EAAE/C,EAAI+D,EAAED,GAAGR,UAAUjK,OAAS,IAC7CU,EAAK0L,SAGNrE,GAAG,MAAO,SAAC6C,QAIlBrG,EAAMlE,IAAM+J,GA9BP8B,EAAI,EAAGA,EAAIxL,EAAKzC,IAAI4E,GAAG+H,GAAG9N,OAAQoP,IAAKD,EAAvCC,IAfRtB,EAAI,EAAGA,EAAIkB,EAAKlB,IAAKmB,EAArBnB,GAmDb,GAAIgB,EACAzM,KAAKkI,IACAlD,OAAO,KACPqD,KAAK,KAAM,SACXrD,OAAO,WACPqD,KAAK,SAAUrI,KAAK2K,cAAc,IAAIrD,EAAM,EAAG,GAAI,IAAIA,EAAM,EAAG,KAChEe,KAAK,OAAQ,WACbA,KAAK,SAAU,WACfA,KAAK,eAAgB,GACrBA,KAAK,UAAW,IACrBrI,KAAKkI,IACAlD,OAAO,KACPqD,KAAK,KAAM,WACXrD,OAAO,WACPqD,KAAK,SAAUrI,KAAK2K,cAAc,IAAIrD,EAAM,EAAG,GAAI,IAAIA,EAAM,EAAG,KAChEe,KAAK,OAAQ,WACbA,KAAK,SAAU,WACfA,KAAK,eAAgB,GACrBA,KAAK,UAAW,SAGrB,GAAIrI,KAAKlD,MAAMoQ,gBAAiB,CAC5B,IAAI3C,EAAIvK,KAAKyK,UAAUzK,KAAK0K,yBAAyB1K,KAAKlD,MAAMoQ,gBAAiB,KACjFlN,KAAKkI,IAAI0C,UAAU,YAAYvC,KAAK,YAAa,aAAgBkC,EAAEhD,EAAK,IAAOgD,EAAE/C,EAAK,qCAQ9F,IADA,IAAIkF,EAAM1M,KAAKlB,IAAInB,QAAU,GACpB+F,EAAI,EAAGA,EAAIgJ,EAAKhJ,IAAK,CAC1B1D,KAAKlB,IAAI4E,GAAK1D,KAAKlB,IAAI4E,OAEvB,IADA,IAAIiJ,EAAM3M,KAAKlB,IAAI4E,GAAG/F,QAAU,GACvB8N,EAAI,EAAGA,EAAIkB,EAAKlB,IACrB,IAAK,IAAIsB,EAAI,EAAGA,EAAI/M,KAAKlB,IAAI4E,GAAG+H,GAAG9N,OAAQoP,IAAK,CAC5C,IAAIlE,EAAI7I,KAAKkI,IAAIC,OAAO,SAAgBzE,EAAI,IAAM+H,EAAI,IAAMsB,GACxDlE,EAAET,QACFS,EAAET,OAAO2C,WAAWC,YAAYnC,EAAET,6CAkBlD+E,aAAanN,KAAKwI,QAAQJ,OAAQ,+CAI9BgF,GAGJ,IAAIC,EAAS,IAAI/F,EAAM,EAAG,GAG1B,OAFA+F,EAAO9F,GAAK,EAAI6F,EAAG5F,EAAI4F,EAAG7F,GAAK,EAC/B8F,EAAO7F,GAAK,EAAI4F,EAAG5F,EAAI4F,EAAG7F,GAAK,EACvB8F,oCAMFD,GAGN,IAAIC,EAAS,IAAI/F,EAAM,EAAG,GAG1B,OAFA+F,EAAO9F,EAAI6F,EAAG7F,EAAI6F,EAAG5F,EACrB6F,EAAO7F,GAAK4F,EAAG7F,EAAI6F,EAAG5F,GAAK,EACnB6F,6CAGOD,EAAIE,GACnB,IAAID,EAAS,IAAI/F,EAAM,EAAG,GAI1B,OAHA+F,EAAO9F,EAAIwC,KAAKwD,MAAMH,EAAG7F,EAAI+F,GAC7BD,EAAO7F,EAAIuC,KAAKwD,MAAMH,EAAG5F,EAAI8F,GAErBD,mDAMaD,EAAIE,GACzB,IAAID,EAAS,IAAI/F,EAAM,EAAG,GAI1B,OAHA+F,EAAO9F,EAAI6F,EAAG7F,EAAI+F,EAClBD,EAAO7F,EAAI4F,EAAG5F,EAAI8F,EAEVD,mCAMH,IAAAG,EAAAxN,KAAAD,EAC0CC,KAAKlD,MAD/CiD,EACG0N,OADH1N,EACW2N,QADX3N,EACoB4N,kBACzB,OAAQ5Q,EAAAN,QAAAO,cAAA,WACJD,EAAAN,QAAAO,cAAA,OAAK2D,OAASC,MAAO,IAAKC,OAAQ,KAAOe,IAAK,SAAAgM,GAAA,OAAMJ,EAAK/E,KAAOmF,wDAI9CC,IAEjB7N,KAAKlD,MAAM2Q,QAAUI,EAAUJ,OAIhCzN,KAAKlD,MAAM2Q,QAAWI,EAAUJ,OAIhCzN,KAAKlD,MAAMgR,eAAkBD,EAAUC,iCAiBpCpG,mFCtbfvL,EAAA,QACA+J,EAAA/J,EAAA,IACAE,EAAAF,EAAA,OACAA,EAAA,IACAA,EAAA,MACAA,EAAA,qEAYe,EAAAE,EAAA0R,SAHS,SAAC/G,GAAD,OACpBgH,WAAYhH,EAAMvB,MAAMpH,QAEb,EACX,EAAA6H,EAAA+H,YAEQnH,KAAM,QACNoH,SAfK,SAAApJ,GACb,IAAMqJ,KAGN,OAFKrJ,EAAOsJ,WAAUD,EAAOC,SAAW,qBACnCtJ,EAAOuJ,WAAUF,EAAOE,SAAW,qBACjCF,IAQP,CAIOG,4TCtBX,MAAApM,EAAA/F,EAAA,wCACAgG,EAAAhG,EAAA,IACO,IAAMoS,gBAAc,cACdC,oBAAkB,kBAClBC,mBAAiB,iBACjBC,oBAAkB,kBAClBC,2BAAyB,yBACzBC,YAAU,UACVC,gBAAc,cAEdC,aAAa,SAACC,GAAD,OACtB9Q,KAAMsQ,EACNzL,QAASiM,IAGAC,UAAU,SAAClQ,GAAD,OACnBb,KAAM2Q,EACN9L,QAAShE,EAAIsN,IAAIrJ,UAAM4C,KAAKxI,WAAW,OAAQ2B,GAAKiE,UAAMsC,IAAIlI,WAAW,OAAQ2B,KAGxEwL,UAAU,SAACyE,EAAMxH,EAAGC,GAAV,OACnBvJ,KAAMuQ,EACN1L,SAAWiM,KAAMA,EAAMxH,EAAGA,EAAGC,EAAGA,KAGvByH,oBAAoB,SAAC1H,EAAEC,GAAH,OAC7BvJ,KAAMwQ,EACN3L,SAAUyE,EAAEA,EAAGC,EAAEA,KAER0H,iBAAiB,SAACpK,GAAD,OAC1B7G,KAAKyQ,EACL5L,QAASgC,IAEAqK,mBAAmB,SAACC,GAAD,OAC5BnR,KAAK0Q,EACL7L,QAASsM,IAEAC,aAAa,SAAC5O,GAAD,OACtBxC,KAAK4Q,EACL/L,QAASrC,oRCvCb,MAAA0B,EAAAhG,EAAA,IACA+F,EAAA/F,EAAA,wCACO,IAAMmT,kBAAgB,gBAEhBC,GADAC,iBAAiB,iBACjBD,gBAAgB,iBAChBE,kBAAgB,gBAChBC,gBAAc,cACdjN,iBAAe,eACfC,oBAAkB,kBAe3BC,GAdSgN,aAAa,kBACtB1R,KAAMyR,IAEGE,eAAe,SAACC,GAAD,OACxB5R,KAAMsR,EACNzM,QAASC,UAAMC,IAAI7F,WAAW,uBAAyB0S,KAG9CC,eAAe,SAACjN,GACzB,OACI5E,KAAMqR,EACNxM,QAASC,UAAMC,IAAO7F,WAAb,qBAA0C0F,EAA1C,oBAGFjF,GACXsF,KACSC,eAAe,WAIxB,OAHIR,GACAA,EAASS,SAGTnF,KAAMyE,IAGDW,gBAAgB,SAACC,EAAUC,GACpC,GAAKA,GAA8B,IAAnBA,EAAQ5F,OAAxB,CAIA,GAHIoS,MAAMC,QAAQzM,KACdA,GAAWA,IAEXZ,EAAU,CAEV,GAAIY,EAAQ5F,QAAUuF,EAAevF,QAAU4F,EAAQC,MAAM,SAACC,EAAGC,GAAJ,OAAUD,IAAMP,EAAeQ,KAExF,YADAC,QAAQC,IAAI,QAASV,GAGzBS,QAAQC,IAAI,iCAAkCV,GAC9CP,EAASS,SAEbT,EAAW,IAAIkB,UAAUvG,cAAc,YAAcwG,KAAKC,UAAUR,KAC3DS,OAAS,SAAAC,GACdN,QAAQC,IAAI,aACZV,EAAiBK,EACjBD,GACIrF,KAAMwE,KAIdE,EAASuB,UAAY,SAAAC,GACjBR,QAAQC,IAAI,WAAYO,GACxBb,GACIrF,KAAMwR,EACN3M,QAASgB,KAAKM,MAAMD,EAAIE,SAGhC1B,EAAS2B,QAAU,SAACjF,GAChBsE,QAAQC,IAAI,cAAcvE,GAC1B6D,KACAI,GACIrF,KAAMyE,KAGdC,EAAS4B,QAAU,SAACC,GAChBtB,KACAI,GACIrF,KAAMyE,mXCzElB1D,EAAA7C,EAAA,cACAA,EAAA,KACAgG,EAAAhG,EAAA,2DACM8T,grBAAmBnQ,4DAEjBE,KAAKkQ,sEAEkBrC,GAAU,IAAAvF,EAAAtI,KACjC,GAAGA,KAAKlD,MAAMqT,SAASxS,QAAUkQ,EAAUsC,SAASxS,QAAUkQ,EAAUsC,SAASxS,OAAS,EAAE,CACxF,IAAMyS,EAAUvC,EAAUsC,SAAS,GACpBnQ,KAAKlD,MAAMuT,WAAWC,WAAWzN,OAAO,SAAAoB,GAAA,OAAGA,EAAEsM,QAAUH,EAAQG,SACvEzR,IAAI,SAAAmF,GACPqE,EAAKkI,OAAOC,qBAAqBC,kBAC7B,EAAAvO,EAAA5E,aAAY0G,EAAE0M,MAAMP,EAAQ3S,MAAMA,OAClCwG,EAAE2M,SAASrJ,EACXtD,EAAE2M,SAASpJ,EAAEvD,EAAE0M,0DAU3BxN,EADuBnD,KAAKlD,MAArBqG,2DAGO,IAAApD,EACsCC,KAAKlD,MAAlD+T,EADO9Q,EACP8Q,gBAAiB1N,EADVpD,EACUoD,aAAckN,EADxBtQ,EACwBsQ,WACnCrQ,KAAK8Q,YACJ3N,IAEDkN,GAAcA,EAAWC,aACxBO,EAAgBR,EAAWC,WAAWxR,IAAI,SAAAmF,GAAA,OAAKA,EAAEsM,UACjDvQ,KAAK8Q,YAAa,oCAKjB,IAAAvP,EAAAvB,KAAAE,EAC4BF,KAAKlD,MAA9BuT,EADHnQ,EACGmQ,WAAYF,EADfjQ,EACeiQ,SADfY,EAE2BV,EAAxB5P,YAFH7C,IAAAmT,EAEU,GAFVA,EAAAC,EAE2BX,EAAbvR,WAFdlB,IAAAoT,OAGL,OAAOjU,EAAAN,QAAAO,cAAA,WACHD,EAAAN,QAAAO,cAAA,UAAKyD,GACL1D,EAAAN,QAAAO,cAACiU,EAAAxU,SAAImF,IAAK,SAAAgM,GAAA,OAAIrM,EAAKiP,OAAS5C,GAAI9O,IAAKA,IAFlC,aAIFqR,EAASrR,IAAI,SAACoS,EAAG/L,GAAJ,OACVpI,EAAAN,QAAAO,cAAA,OAAK+B,IAAKoG,GACVpI,EAAAN,QAAAO,cAAA,SAAIkU,EAAEX,OAAN,IAAeW,EAAEzT,MAAMA,MAAvB,IAAmCV,EAAAN,QAAAO,cAAA,aAAQkU,EAAEzT,MAAM4G,8BAOpD4L,mFCvDf9T,EAAA,QACAE,EAAAF,EAAA,IACAgK,EAAAhK,EAAA,QACAA,EAAA,oEAae,EAAAE,EAAA0R,SAXU,SAAC/G,GAAD,OACrBqJ,WAAYrJ,EAAMJ,KAAKyJ,WACvBF,SAAUnJ,EAAMJ,KAAKuJ,WAEE,SAAA7M,GAAA,OACvBuN,gBAAiB,SAACtN,GACdI,QAAQC,IAAI,mBAAmBL,IAC/B,EAAA4C,EAAA9C,eAAcC,EAAUC,IAE5BJ,8BAEW,CAA8CgO,qVChB7DnS,EAAA7C,EAAA,2CAEMiV,grBAAgBtR,6DAGd8C,EADsB5C,KAAKlD,MAAnB8F,8CAGH,IAAA7C,EAC4BC,KAAKlD,MAA9BuU,EADHtR,EACGsR,KAAKpO,EADRlD,EACQkD,UADRlD,EACkBqG,KACvB,OACIrJ,EAAAN,QAAAO,cAAA,WAEID,EAAAN,QAAAO,cAAA,MAAIuB,UAAU,cACT8S,EAAKvS,IAAI,SAACiQ,EAAM5J,GAAP,OACNpI,EAAAN,QAAAO,cAAA,MAAIsU,QAAS,SAAAjS,GAAA,OAAG4D,EAAU8L,EAAK3C,MAAMrN,IAAKoG,EAAO5G,UAAU,mBACtDwQ,EAAKtO,6BAQnB2Q,mFCvBfjV,EAAA,QACAE,EAAAF,EAAA,IACAgK,EAAAhK,EAAA,QACAA,EAAA,yDAEA,IAGMoV,GACF3O,sBACAK,kCAEW,EAAA5G,EAAA0R,SAPS,SAAC/G,GAAD,OACpBqK,KAAMrK,EAAMJ,KAAKyK,OAMmBE,EAAzB,CAA6CH,2fCZ5DjV,EAAA,QACAA,EAAA,4DACMqV,cAEF,SAAAA,EAAY1U,gGAAM2K,CAAAzH,KAAAwR,GAAA,IAAAhS,mKAAAmI,CAAA3H,MAAAwR,EAAA5J,WAAAT,OAAAU,eAAA2J,IAAA1J,KAAA9H,KACRlD,IADQ,OAAA0C,EAOlBN,kBAAoB,SAACC,EAAeC,EAAeC,GAGhC,SAAXA,EAAEpB,OACF0F,QAAQC,IAAI,iBAAkBzE,GAC9BwE,QAAQC,IAAI,iBAAkBxE,GAC1BD,EAAcxB,SAEd6B,EAAKiS,UAAU7R,MAAMT,IACLE,EAAEM,cAAgBN,EAAEM,aAAaC,SAdzDJ,EAAKwH,OACDpH,UAEJJ,EAAKqF,KAAOrF,EAAKqF,KAAK6M,KAAVlS,GALEA,qUAFOK,UAAMC,kDAwBnBW,GAER,OADUA,EAAKkR,MAAM,KAAK,kCAIxB,IAAArJ,EAAAtI,KACFA,KAAKgH,MAAMpH,MAAMd,IAAI,SAAA8S,GACjBjO,QAAQC,IAAIgO,GACZtJ,EAAKxL,MAAM+H,MACPpE,KAAK6H,EAAKuJ,YAAYD,EAAEnR,MACxBxC,KAAK,QACLgH,SAEQG,OAAOwM,GACPnU,MAAM,yCAQtB,IAAI6C,GACAH,OAAQ,YACRC,UAAU,EACVG,OAAQP,KAAKd,mBAUjB,OACInC,EAAAN,QAAAO,cAAA,WACID,EAAAN,QAAAO,cAAC0D,EAAAjE,QAAD+B,GAAUmC,OATdC,MAAO,OACPC,OAAQ,OACRC,YAAa,MACbC,YAAa,qBACbC,YAAa,SACbC,aAAc,QAImBX,IAG7BvD,EAAAN,QAAAO,cAAA,UAAQ+B,IAAI,IAAIR,UAAU,kBAAkB+S,QAAStR,KAAK6E,MAA1D,UACE7E,KAAKgH,MAAMpH,MACTI,KAAKgH,MAAMpH,MAAMd,IAAI,SAAC8S,EAAGzM,GAAJ,OAAcpI,EAAAN,QAAAO,cAAA,OAAK4D,MAAM,QAAQ7B,IAAKoG,EAAOjE,IAAK0Q,EAAEzQ,YADxD,2CAOtBqQ,iFC1Ef,MAAAxS,EAAA7C,EAAA,uCACA+J,EAAA/J,EAAA,IACA2V,EAAA3V,EAAA,IAEA,IAAM4V,EAAgB,SAAAjU,GAA+C,IAA5CkU,EAA4ClU,EAA5CkU,OAA4C9T,EAAAJ,EAApCK,KAAQE,EAA4BH,EAA5BG,MAAO4T,EAAqB/T,EAArB+T,aAE5C,OAAOlV,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,wBAClBxB,EAAAN,QAAAO,cAAA,UAAQuB,UAAU,oBAAoBN,KAAK,SAASqT,QAAS,kBAAMU,EAAO5G,WAA1E,YADG,IACoG6G,GAAgB5T,GAAStB,EAAAN,QAAAO,cAAA,YAAOqB,GACvItB,EAAAN,QAAAO,cAAA,WAEQgV,EAAOlT,IAAI,SAACoT,EAAQ/M,GAAT,OACPpI,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,QAAQQ,IAAKoG,GACxBpI,EAAAN,QAAAO,cAAA,qBAAamI,EAAQ,GACrBpI,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,OACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,SACXxB,EAAAN,QAAAO,cAACkJ,EAAAiM,OAAMhS,OAAO,YAAYM,KAASyR,EAAT,SAAyBpJ,UAAW7J,eAC5DlC,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,SACjBxB,EAAAN,QAAAO,cAACkJ,EAAAiM,OAAM7T,KAAK,oDAAoDmC,KAASyR,EAAT,UAA0BpJ,UAAWjL,cAAaG,MAAM,YACtHjB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,SACjBxB,EAAAN,QAAAO,cAAA,UAAQuB,UAAU,MAAM+S,QAAS,SAAAjS,GAAO2S,EAAOzM,OAAOJ,KAAWpI,EAAAN,QAAAO,cAAA,KAAGuB,UAAU,2CAoC/F,EAAA2H,EAAA+H,YAAYnH,KAAM,eAAlB,CA1BK,SAAAhK,GAAS,IACjBsV,EAAiBtV,EAAjBsV,aAGJ/Q,GAAQ,EACZ,OAAQtE,EAAAN,QAAAO,cAAA,WACJD,EAAAN,QAAAO,cAAA,UAAQuB,UAAU,MAAM+S,QAAS,SAAAjS,GAAOgC,EAAMgR,SAA9C,KACAtV,EAAAN,QAAAO,cAAC8U,EAAA1Q,OAAMM,MAAM,YAAYE,IAAK,SAAAvC,GAAA,OAAKgC,EAAQhC,GAAGsC,SAAU5E,EAAAN,QAAAO,cAAA,UAAQ+B,IAAI,IAAIR,UAAU,kBAAkB+S,QAASc,GAArD,YACpDrV,EAAAN,QAAAO,cAAA,WACID,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,YACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,uBACXxB,EAAAN,QAAAO,cAACkJ,EAAAiM,OAAMrJ,UAAWjL,cAAa4C,KAAK,OAAOzC,MAAM,OAAOM,KAAK,iDAEjEvB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,uBACXxB,EAAAN,QAAAO,cAACkJ,EAAAiM,OAAMrJ,UAAWpK,oBAAmB+B,KAAK,OAAOzC,MAAM,OAAOa,SAZjE,UAAW,SAAU,SAY8DP,KAAK,6BAG7FvB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,YACXxB,EAAAN,QAAAO,cAACkJ,EAAAoM,YAAW7R,KAAK,SAASqI,UAAWiJ,kVC/CzD/S,EAAA7C,EAAA,aACAA,EAAA,MACAA,EAAA,WACAA,EAAA,MACAgG,EAAAhG,EAAA,2DACMoW,grBAAoBzS,6DAGlBwF,EADkBtF,KAAKlD,MAAfwI,0CAGH,IAAAvF,EAC0BC,KAAKlD,MAA5BuU,EADHtR,EACGsR,KAAMxM,EADT9E,EACS8E,KAAMU,EADfxF,EACewF,OACpB,OACIxI,EAAAN,QAAAO,cAAA,WACID,EAAAN,QAAAO,cAACwV,EAAA/V,SAAeoI,KAAMA,IACtB9H,EAAAN,QAAAO,cAACyV,EAAAhW,SAAYiW,SAAU7N,IACvB9H,EAAAN,QAAAO,cAAA,MAAIuB,UAAU,cACT8S,EAAKvS,IAAI,SAACiQ,EAAM5J,GAAP,OAAiBpI,EAAAN,QAAAO,cAAA,MAAI+B,IAAKoG,EAAO5G,UAAU,mBACrDxB,EAAAN,QAAAO,cAAA,OAAK2D,OAASC,MAAO,IAAMM,KAAK,EAAAiB,EAAA5E,aAAYwR,EAAK3C,IAAK,KACrD2C,EAAK9Q,KAFqB,MAEZ8Q,EAAKtO,KACpB1D,EAAAN,QAAAO,cAAA,KAAGsU,QAAS,SAAAjS,GAAA,OAAKkG,EAAOwJ,EAAK3C,MAAM7N,UAAU,wCAQlDgU,mFC5BfpW,EAAA,QACAE,EAAAF,EAAA,IACAwW,EAAAxW,EAAA,QACAA,EAAA,yDACA,IAGMoV,GACFjM,cACAC,gBACAV,wBAEW,EAAAxI,EAAA0R,SARS,SAAA/G,GAAA,OACpBqK,KAAMrK,EAAMP,QAAQ4K,OAOgBE,EAAzB,CAA6CgB,0BCZ5DK,EAAAC,QAAA,obCAA,MAAA7T,EAAA7C,EAAA,uCACAgG,EAAAhG,EAAA,IACA+J,EAAA/J,EAAA,cACuB,SAACW,GAAU,IACtB6T,EAA8B7T,EAA9B6T,MAAO+B,EAAuB5V,EAAvB4V,SAAU9B,EAAa9T,EAAb8T,SACzB,OAAO7T,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,iBAClBxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,gBACXxB,EAAAN,QAAAO,cAAA,MAAIuB,UAAU,eAAd,UACAxB,EAAAN,QAAAO,cAAA,UAAQiB,KAAK,SAASM,UAAU,QAAQwD,eAAa,QAAQC,aAAW,SACpEjF,EAAAN,QAAAO,cAAA,QAAMiF,cAAY,QAAlB,OAGRlF,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cACXxB,EAAAN,QAAAO,cAAA,WACID,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cACXxB,EAAAN,QAAAO,cAAA,uBACAD,EAAAN,QAAAO,cAAA,SAAGD,EAAAN,QAAAO,cAAA,OAAKkE,KAAK,EAAAiB,EAAA5E,aAAYoT,GAAQhQ,OAAQE,OAAO,OAChD9D,EAAAN,QAAAO,cAAA,wBAAgB4T,EAASrJ,EAAzB,IAA6BqJ,EAASpJ,IAE1CzK,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cACXxB,EAAAN,QAAAO,cAAA,qBACAD,EAAAN,QAAAO,cAACkJ,EAAAiM,OAAMlU,KAAK,OAAO6K,UAAU,QAAQrI,KAAK,OAAOlC,UAAU,eAAeE,YAAY,UAE1F1B,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cACXxB,EAAAN,QAAAO,cAAA,uBACAD,EAAAN,QAAAO,cAACkJ,EAAAiM,OAAMlU,KAAK,OAAO6K,UAAU,QAAQrI,KAAK,SAASlC,UAAU,eAAeE,YAAY,cAIpG1B,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,gBACXxB,EAAAN,QAAAO,cAAA,UAAQiB,KAAK,SAASM,UAAU,oBAAoBwD,eAAa,SAAjE,YACAhF,EAAAN,QAAAO,cAAA,UAAQiB,KAAK,SAASM,UAAU,oBAAoBwD,eAAa,QAAQuP,QAASoB,GAAlF,wQC/BZvW,EAAA,QACAA,EAAA,SACAA,EAAA,MACAgG,EAAAhG,EAAA,iEACmB,SAACW,GAAU,IAClBsV,EAAwGtV,EAAxGsV,aAA4B9B,GAA4ExT,EAA1FoP,aAA0FpP,EAA5EwT,YAAY7J,EAAgE3J,EAAhE2J,QAASqM,EAAuDhW,EAAvDgW,iBAAkB3D,EAAqCrS,EAArCqS,iBAAkBD,EAAmBpS,EAAnBoS,eAC7F,OAAOnS,EAAAN,QAAAO,cAAA,WAEFsT,EAAWxR,IACR,SAACiU,EAAU5N,GAAX,OACIpI,EAAAN,QAAAO,cAAA,OAAK+B,IAAKoG,GACNpI,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,OAAOoC,OAAQC,MAAO,UACjC7D,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,eAAe2C,KAAK,EAAAiB,EAAA5E,aAAYwV,EAASpC,SACxD5T,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,aACXxB,EAAAN,QAAAO,cAAA,MAAIuB,UAAU,cAAcwU,EAAStS,MACrC1D,EAAAN,QAAAO,cAAA,KAAGuB,UAAU,aAAb,WACakI,EAAQuM,KAAK,SAAAjE,GAAA,OAAQA,EAAK3C,MAAQ2G,EAASpC,QAAOlQ,MAE/D1D,EAAAN,QAAAO,cAAA,qBAAa+V,EAASxC,QAAU,cAChCxT,EAAAN,QAAAO,cAAA,UAAQuB,UAAU,mBAAmB+S,QAAS,SAAAjS,GAAO8P,EAAiB4D,KAAtE,cAKnBD,EACG/V,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,eAAeqD,IAAK,SAAAvC,GAAA,OAAK,EAAAiC,EAAA7E,SAAE4C,GAAGgC,SAASQ,SAAS,KAAKC,KAAK,UACrE/E,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,wBAAwBuD,KAAK,YACxC/E,EAAAN,QAAAO,cAACiW,EAAAxW,QAAD+B,KAAoBsU,EAAsBhW,GAAO4V,SAAUN,EAAalD,QAG9E,+UC9BdlQ,EAAA7C,EAAA,YACAA,EAAA,2DAEM+W,grBAAapT,iDAEX,OAAO/C,EAAAN,QAAAO,cAAA,uCAGAkW,iFCRf,QAAA/W,EAAA,QACAA,EAAA,KAEAgG,KADAhG,EAAA,MACAA,EAAA,SACAA,EAAA,UACAA,EAAA,mEACe,SAAAW,GAC8IA,EAAjJoQ,gBAAiJpQ,EAAhIwN,QAAgIxN,EAAvH0N,aADd,IAC4B/D,EAAyG3J,EAAzG2J,QAASqI,EAAgGhS,EAAhGgS,WAAYjM,EAAoF/F,EAApF+F,OAAQsQ,EAA4ErW,EAA5EqW,WAAY7C,EAAgExT,EAAhEwT,WAAYpE,EAAoDpP,EAApDoP,aAAc8C,EAAsClS,EAAtCkS,QAASlQ,EAA6BhC,EAA7BgC,IAAKsU,EAAwBtW,EAAxBsW,QAAS/D,EAAevS,EAAfuS,WAE1I,OAAOtS,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,OAClBxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,SACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,+BAA+BoC,OAASE,OAAQ,KAC3D9D,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,SACXxB,EAAAN,QAAAO,cAAA,SAAOiB,KAAK,OAAOM,UAAU,gBAAgBd,MAAO0V,EAAY1T,SAAU,SAAAJ,GAAA,OAAKwD,EAAOxD,EAAEgU,OAAO5V,QAAQgB,YAAY,YAGtHyN,EACGnP,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,QAAQoC,OAASE,OAAQ,KACpC9D,EAAAN,QAAAO,cAAA,WACID,EAAAN,QAAAO,cAAA,OAAK2D,OAASE,OAAQ,IAAMK,KAAK,EAAAiB,EAAA5E,aAAY2O,EAAaE,OAC1DrP,EAAAN,QAAAO,cAAA,OAAKkE,IAAKoS,UAAYhC,QAAS,SAAAjS,GAAOyP,EAAW,OAASvQ,UAAU,WAG1E,MAEVxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,+BAA+BoC,OAASE,OAAQ,KAC3D9D,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,SACXxB,EAAAN,QAAAO,cAAA,SAAOiB,KAAK,OAAOM,UAAU,gBAAgBd,MAAO2V,EAAS3T,SAAU,SAAAJ,GAAA,OAAKgQ,EAAWhQ,EAAEgU,OAAO5V,QAAQgB,YAAY,kBAExH1B,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,SACXxB,EAAAN,QAAAO,cAAA,UAAQuB,UAAU,MAAM+S,QAAS,SAAAjS,GAAA,OAAK2P,GAAUlQ,IAAKA,EAAK2B,KAAM2S,EAAS9C,WAAYA,MAArF,YAIRvT,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,OACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,UACXxB,EAAAN,QAAAO,cAAA,OAAKQ,GAAG,cACF,QAAS,SAAU,WAAWsB,IAAI,SAAAb,GAAA,OAChClB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,OAAOQ,IAAKd,GACvBlB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cAAcf,GAAI,UAAYS,GACzClB,EAAAN,QAAAO,cAAA,MAAIuB,UAAU,QACVxB,EAAAN,QAAAO,cAAA,UAAQuB,UAAU,eAAegV,cAAY,WAAWC,cAAa,YAAcvV,EAAMwV,gBAAc,OAAOC,gBAAe,WAAazV,GAAOA,KAGzJlB,EAAAN,QAAAO,cAAA,OAAKQ,GAAI,WAAaS,EAAMM,UAAU,gBAAgBoV,kBAAiB,UAAY1V,EAAM2V,cAAY,cACjG7W,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,aACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,MAAMoC,OAASkT,UAAW,SAAUC,UAAW,UACzDrN,EAAQ5D,OAAO,SAAAkM,GAAA,OAAQA,EAAK9Q,OAASA,IAAMa,IAAI,SAACiQ,EAAM5J,GAAP,OAC5CpI,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,QAAQQ,IAAKoG,EAAOmM,QAAS,SAAAjS,GAAOyP,EAAWC,KAC1DhS,EAAAN,QAAAO,cAAA,OAAK2D,OAASE,OAAQ,IAAMK,KAAK,EAAAiB,EAAA5E,aAAYwR,EAAK3C,IAAK,kBAcnGrP,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,SACXxB,EAAAN,QAAAO,cAACiU,EAAAxU,QAAQK,IAEbC,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,SACXxB,EAAAN,QAAAO,cAAC+W,EAAAtX,QAAeK,uFCnE5BX,EAAA,QACAE,EAAAF,EAAA,IACA+J,EAAA/J,EAAA,IACAwW,EAAAxW,EAAA,IACA6X,EAAA7X,EAAA,QAEAA,EAAA,yDAEA,IAUMoV,GACFzC,wBACAjM,gBACAmM,kBACAK,wBACA/E,kBACAE,aAAcyE,oBACdE,oCACAD,4CAEW,EAAAhJ,EAAA+H,YAAYnH,KAAM,kBAAlB,EAAsC,EAAAzK,EAAA0R,SApB7B,SAAA/G,GAAA,OACpBP,QAASO,EAAMP,QAAQwN,YACvBd,WAAYnM,EAAMP,QAAQ5D,OAC1BqJ,aAAclF,EAAMlI,IAAIoN,aACxBgB,gBAAiBlG,EAAMlI,IAAIoO,gBAC3BpO,IAAKkI,EAAMlI,IAAIA,IACfsU,QAASpM,EAAMlI,IAAIsU,QACnB9C,WAAYtJ,EAAMlI,IAAIwR,WACtBwC,iBAAkB9L,EAAMlI,IAAIgU,mBAY8CvB,EAAzB,CAA6C2C,2BC5BlGtB,EAAAC,QAAA,4VCAAD,EAAAC,QAAA,glBCAAD,EAAAC,QAAA,65BCAA7T,EAAA7C,EAAA,cACAA,EAAA,SACAA,EAAA,MACAA,EAAA,KACA,QAAAA,EAAA,UACAA,EAAA,6DAEMgY,grBAAoBrU,4DACF,IACRqD,EAAiBnD,KAAKlD,MAAtBqG,aACJnD,KAAKqB,OAASrB,KAAKlD,MAAMsX,qBACzB,EAAA9S,EAAA7E,SAAEuD,KAAKqB,OAAOA,SACd,EAAAC,EAAA7E,SAAEuD,KAAKqB,OAAOuH,GAAG,kBAAmB,SAAUvJ,GAC1C8D,oGAQS,IAAAmF,EAAAtI,KACjB2D,QAAQC,IAAI,oCADK,IAAA7D,EAE8CC,KAAKlD,MAA5DsX,EAFSrU,EAETqU,kBAAmBvD,EAFV9Q,EAEU8Q,gBAAiBwD,EAF3BtU,EAE2BsU,eACrC9D,EAAkB8D,EAAlB9D,OAAQzL,EAAUuP,EAAVvP,OACX9E,KAAKqB,OAAS+S,IACd,EAAA9S,EAAA7E,SAAEuD,KAAKqB,OAAOA,QAIlB,IAAIgD,KACAS,IACe,KAAXyL,GACAM,EAAgBN,GACpBlM,EAAOS,EAAOwP,OAAO,SAACC,EAAGhJ,GAGrB,OAFAgJ,EAAE,GAAGnJ,KAAK,IAAIoJ,KAAKjJ,EAAElH,OACrBkQ,EAAE,GAAGnJ,KAAKG,EAAE9N,OACL8W,KACN,MAAO,YAEZvU,KAAKyU,SACLzU,KAAKyU,SAASC,MACVC,QAAStQ,IAKbrE,KAAKyU,SAAWG,UAAGC,UACfC,OAAQ9U,KAAK+U,MACbC,MACInU,OAAQ,IACRD,MAAO,KAEXyD,MACIkD,EAAG,IACHoN,QAAStQ,GAEb4Q,MACI1N,GACItJ,KAAM,aACNiX,MACIC,OAAQ,gBAO5BC,WAAW,SAAA/V,GAAA,OAAKiJ,EAAKmM,SAASY,QAASxU,OAAQyH,EAAKyM,MAAMO,aAAc1U,MAAO0H,EAAKyM,MAAMQ,eAAgB,sCAMrG,IAAAhU,EAAAvB,KAAAE,EACqDF,KAAKlD,MAAvDuX,EADHnU,EACGmU,eAAgBmB,EADnBtV,EACmBsV,aAAc3E,EADjC3Q,EACiC2Q,gBAC/BN,EAAU8D,EAAV9D,OACP,OAAQxT,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,eAAeqD,IAAK,SAAAvC,GAAA,OAAKkC,EAAKF,MAAQhC,GAAGwC,SAAS,KAAKC,KAAK,UAC/E/E,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,wBAAwBuD,KAAK,YACxC/E,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,iBACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,gBACXxB,EAAAN,QAAAO,cAAA,MAAIuB,UAAU,eACTiX,EAAezY,EAAAN,QAAAO,cAAA,OAAKkE,IAAKuU,UAAenE,QAAS,kBAAMT,EAAgBN,MACvExT,EAAAN,QAAAO,cAAA,OAAKkE,IAAKwU,UAAgBpE,QAAS,kBAAMT,EAAgBN,MAF9D,cAGqBA,GAAkB,iBAEvCxT,EAAAN,QAAAO,cAAA,UAAQiB,KAAK,SAASM,UAAU,QAAQwD,eAAa,QAAQC,aAAW,SACpEjF,EAAAN,QAAAO,cAAA,QAAMiF,cAAY,QAAlB,OAGRlF,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cACXxB,EAAAN,QAAAO,cAAA,OAAK4E,IAAK,SAAAvC,GAAA,OAAKkC,EAAKwT,MAAQ1V,GAAGsB,OAASE,OAAQ,YAEpD9D,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,gBACXxB,EAAAN,QAAAO,cAAA,UAAQiB,KAAK,SAASM,UAAU,oBAAoBwD,eAAa,SAAjE,gCAOToS,0UCrGfnV,EAAA7C,EAAA,cACAA,EAAA,UACAA,EAAA,yDAEA,IAAMwZ,EAAa,SAAA7X,GAAA,IAAEyS,EAAFzS,EAAEyS,OAAQe,EAAVxT,EAAUwT,QAAV,OAAwBvU,EAAAN,QAAAO,cAAA,OAAKsU,QAASA,EAAS/S,UAAU,0CAC5ExB,EAAAN,QAAAO,cAAA,OAAKkE,IAAK0U,YADiC,QACfrF,IAEtBsF,grBAAmB/V,4DACD,IACRgQ,EAAiB9P,KAAKlD,MAAtBgT,aACRnM,QAAQC,IAAI5D,KAAKlD,OACjBgT,qCAEK,IAAA/P,EAC0DC,KAAKlD,MAA5DuU,EADHtR,EACGsR,KAAMvB,EADT/P,EACS+P,aAAcF,EADvB7P,EACuB6P,aAAawE,EADpCrU,EACoCqU,kBACzC,OACIrX,EAAAN,QAAAO,cAACgC,EAAA8W,SAAD,KACI/Y,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,aACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cACXxB,EAAAN,QAAAO,cAAA,SAAOiB,KAAK,QAAQM,UAAU,eAAekB,SAAU,SAAAJ,GAAOyQ,EAAazQ,EAAEgU,OAAO5V,QAAUgB,YAAY,gBAC1G1B,EAAAN,QAAAO,cAAA,SAAOQ,GAAG,YAAYe,UAAU,wBAAhC,yBAEJxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cACV8S,EAAKvS,IAAI,SAACyR,EAAQpL,GAAT,OAAmBpI,EAAAN,QAAAO,cAAC2Y,GAAWrE,QAAS,SAAAjS,GAAA,OAAKuQ,EAAaW,IAASxR,IAAKoG,EAAOoL,OAAQA,QAGxG6D,EAAkBrX,EAAAN,QAAAO,cAAC+Y,EAAAtZ,QAAgBuD,KAAKlD,OAAU,yBAMpD+Y,mFChCf1Z,EAAA,QACA6Z,EAAA7Z,EAAA,IACAE,EAAAF,EAAA,QAEAA,EAAA,oEAiBe,EAAAE,EAAA0R,SAfS,SAAC/G,GAAD,OACpBqK,KAAMrK,EAAMzD,QAAQ8N,KACpB4E,cAAejP,EAAMzD,QAAQ0S,cAC7B7B,kBAAmBpN,EAAMzD,QAAQ6Q,kBACjCoB,aAAcxO,EAAMzD,QAAQiS,aAC5BnB,eAAgBrN,EAAMzD,QAAQ8Q,iBAGP,SAAC/Q,GAAD,OACvBwM,aAAc,eAACjN,EAADnF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAU,GAAV,OAAiB4F,GAAS,EAAA0S,EAAAlG,cAAajN,KACrD+M,aAAc,SAAAsG,GAAA,OAAY5S,GAAS,EAAA0S,EAAApG,cAAasG,KAChDrF,gBAAiB,SAAAxR,GAAA,OAAG,EAAA2W,EAAA3S,eAAcC,EAAUjE,IAC5C8D,aAAcA,iBAGH,CAA6C0S,0FCrB5D,MAAA7W,EAAA7C,EAAA,uCACA2V,EAAA3V,EAAA,IACA+J,EAAA/J,EAAA,IACA,IAMMmS,EAAY,SAACxR,GAAU,IACjBsV,EAA6BtV,EAA7BsV,aAAcpE,EAAelR,EAAfkR,WACtB,OAAOjR,EAAAN,QAAAO,cAAA,QAAMuB,UAAU,OAAOuD,KAAK,OAAOqU,aAAa,MACnD3Y,GAAG,YAAY4Y,WAAW,IAC1BrZ,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cACXxB,EAAAN,QAAAO,cAACkJ,EAAAiM,OAAMlU,KAAK,OAAOwC,KAAK,WAAWzC,MAAM,SAAS8K,UAAWjL,iBAEjEd,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cACXxB,EAAAN,QAAAO,cAACkJ,EAAAiM,OAAMlU,KAAK,WAAWwC,KAAK,WAAWzC,MAAM,WAAW8K,UAAWjL,iBAEtEmQ,EAAajR,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,qBAAqBuD,KAAK,SAClDkM,GACI,KACTjR,EAAAN,QAAAO,cAAA,UAAQsU,QAASc,EAAc7T,UAAU,qCAAqCf,GAAG,YAAjF,qBAGY,SAACV,GAAS,IACnB4V,EAAY5V,EAAZ4V,SACP,OAAO3V,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,kBAClBxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,OACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,aACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,OACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,oBACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,kBACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,eACXxB,EAAAN,QAAAO,cAAA,MAAIuB,UAAU,QAAd,UAEJxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,aACXxB,EAAAN,QAAAO,cAACsR,GAAUoE,SAAUA,oQCrCrDvM,EAAAhK,EAAA,IACA,IAAMka,GACFhF,QACAhB,cACAF,uBAGW,WAA8C,IAA7CnJ,EAA6CtJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAArC2Y,EAAqCvY,EAAAJ,UAAA,GAApBO,EAAoBH,EAApBG,KAAM6E,EAAchF,EAAdgF,QAC3C,OAAQ7E,GACJ,KAAKmE,UAAQC,WAAa,aACtB,OAAA7D,KAAYwI,GAAOqK,KAAMvO,EAAQuB,OAErC,KAAKjC,UAAQG,iBAAmB,aAC5B,OAAA/D,KAAYwI,GAAOqJ,WAAYvN,EAAQuB,OAE3C,KAAKjC,UAAQK,aAGb,KAAKL,UAAQM,gBACT,OAAAlE,KAAYwI,GAAOmJ,cAEvB,KAAK/N,UAAQI,eACT,OAAAhE,KAAYwI,GAAOmJ,UAAWrN,GAAXwT,6HAAAC,CAAsBvP,EAAMmJ,aAEnD,QACI,OAAOnJ,2PCzBnBgN,EAAA7X,EAAA,4HAIA,IAHA,IAAI2C,KAGK4E,GADE,IAAIqM,MADD,IAED,GAAGrM,EAFF,GAEeA,IACzB5E,EAAIsM,KAAK,IAAI2E,MAHH,KAKd,IAAMsG,GACFnK,aAAc,KACdpN,IAAKA,EACLwR,cACA8C,QAAS,GACTlG,gBAAiB,KACjB4F,iBAAkB,gBAGP,WAA8C,IAA7C9L,EAA6CtJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAArC2Y,EAAqCvY,EAAAJ,UAAA,GAApBO,EAAoBH,EAApBG,KAAM6E,EAAchF,EAAdgF,QAC3C,OAAQ7E,GACJ,KAAKsQ,cAGD,OAFA5K,QAAQC,IAAIoD,GACZrD,QAAQC,IAAId,GACZtE,KAAYwI,GAAOkF,aAAcpJ,IAErC,KAAK0L,kBACD,IAAIxB,cAAWhG,EAAMlI,MAErB,OADAkO,EAAKlK,EAAQyE,GAAGzE,EAAQ0E,GAAG4D,KAAKtI,EAAQiM,MACd,WAAtBjM,EAAQiM,KAAK9Q,MAA2C,YAAtB6E,EAAQiM,KAAK9Q,KAC/CO,KACOwI,GACHlI,IAAKkO,EACLsD,uBAEWtJ,EAAMsJ,cAELK,MAAO7N,EAAQiM,KAAKvR,GACpB+S,OAAQ,GACRK,UAAYrJ,EAAGzE,EAAQyE,EAAGC,EAAG1E,EAAQ0E,QAKzDhJ,KAAYwI,GAAOlI,IAAKkO,IAC5B,KAAKyB,iBACD,OAAAjQ,KAAYwI,GAAOkG,gBAAiBpK,IACxC,KAAK4L,kBAED,OAAAlQ,KACOwI,GAAOsJ,WAAYtJ,EAAMsJ,WAAWxR,IAAI,SAAAmF,GACvC,OAAIA,EAAE0M,OAAS3J,EAAM8L,iBAAiBnC,OAAS1M,EAAE2M,UAAY5J,EAAM8L,iBAAiBlC,SAChFpS,KACOyF,GACHxD,KAAMqC,EAAQrC,KACd8P,OAAQzN,EAAQyN,SAGjBtM,IAEX6O,iBAAkB,OAE1B,KAAKnE,yBACD,OAAAnQ,KAAYwI,GAAO8L,iBAAkBhQ,IAEzC,KAAK+L,cACD,OAAArQ,KAAYwI,GAAOoM,QAAStQ,IAEhC,QACI,OAAOkE,2PClEnB2L,EAAAxW,EAAA,IACA,IAAMka,GACFhF,QACA4C,eACAuC,SAAS,EACT3T,OAAQ,cAIG,WAA8C,IAA7CmE,EAA6CtJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAArC2Y,EAAqCvY,EAAAJ,UAAA,GAApBO,EAAoBH,EAApBG,KAAM6E,EAAchF,EAAdgF,QAC3C,OAAQ7E,GACJ,KAAKwG,cAAc,aACf,OAAAjG,KACOwI,GACHqK,sIAAUrK,EAAMqK,OAAMvO,EAAQuB,SAGtC,KAAKK,iBAAiB,aAClB,OAAAlG,KACOwI,GACHqK,KAAMrK,EAAMqK,KAAKxO,OAAO,SAAAxD,GAAA,OAAKA,EAAE+M,KAAOtJ,EAAQuB,KAAK+H,QAI3D,KAAKzH,gBAAgB,aACjB,OAAAnG,KAAYwI,GAAOqK,KAAMvO,EAAQuB,KAAMmS,SAAS,EAAOvC,YAAajN,EAAMnE,OAASC,EAAQuB,KAAKxB,OAAO,SAAAa,GAAA,OAAKA,EAAEjD,KAAKgW,cAAcxN,QAAQjC,EAAMnE,SAAW,IAAKC,EAAQuB,OAE3K,KAAKM,gBAAgB,YAGrB,KAAKA,gBAAgB,WACjB,OAAAnG,KAAYwI,GAAOqK,QAAUmF,SAAS,IAE1C,KAAK5R,iBACD,OAAApG,KAAYwI,GAAOnE,OAAQC,EAASmR,YAAanR,EAAUkE,EAAMqK,KAAKxO,OAAO,SAAAa,GAAA,OAAKA,EAAEjD,KAAKgW,cAAcxN,QAAQnG,IAAY,IAAKkE,EAAMqK,OAE1I,QACI,OAAOrK,2PCpCnBgP,EAAA7Z,EAAA,IAQA,IAAMua,GACFnG,OAAQ,GACRzL,WAEEuR,GACFhF,QACAgD,eAAgBqC,EAChBtC,mBAAmB,EACnBoB,cAAc,EACdmB,MAAO,eAEI,WAAmC,IAAlC3P,EAAkCtJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA1B2Y,EAAenP,EAAWxJ,UAAA,GAC9C,OAAQwJ,EAAOjJ,MACX,KAAKwE,eACD,OAAAjE,KAAYwI,GAAOwO,cAAc,IAErC,KAAK9S,kBACD,OAAAlE,KAAYwI,GAAOwO,cAAc,EAAMpB,mBAAkB,EAAOC,eAAgBqC,IAEpF,KAAKpH,gBAAgB,aACjB,OAAOnI,OAAOC,UAAWJ,GAASqK,KAAMnK,EAAOpE,QAAQuB,OAE3D,KAAKmL,iBACD,OAAOrI,OAAOC,UAAWJ,GAASqK,UAEtC,KAAK5B,gBACD,IAAMpL,EAAO6C,EAAOpE,QAEpB,GADAa,QAAQC,IAAIS,GACR2C,EAAMqN,gBAAkBrN,EAAMqN,eAAevP,QAAUkC,EAAMqN,eAAe9D,QAAUlM,EAAKkM,OAAQ,CACnG,IAAMqG,EAAoBzP,OAAOC,OAC7BJ,EAAMqN,gBACJvP,QAAST,EAAK5G,OAAd6Y,6HAAAC,CAAwBvP,EAAMqN,eAAevP,WAInD,OAHO8R,EAAkB9R,OAAOnH,OAAQqJ,EAAM2P,OACtCC,EAAkB9R,OAAOoE,OAAOlC,EAAM2P,MAAOC,EAAkB9R,OAAOnH,OAAOqJ,EAAM2P,OAEpFxP,OAAOC,UAAWJ,GAASqN,eAAgBuC,IAEtD,OAAO5P,EAEX,KAAKuI,gBAAgB,aACjB,OAAOpI,OAAOC,UAAWJ,GAASqN,eAAgBnN,EAAOpE,QAAQuB,OAErE,KAAKkL,gBAAgB,YACjB,OAAOpI,OAAOC,UAAWJ,GAASqN,eAAgBqC,EAActC,mBAAmB,IAEvF,KAAK7E,gBAAgB,WACjB,OAAOpI,OAAOC,UAAWJ,GAASqN,eAAgBqC,EAActC,mBAAmB,IAEvF,KAAK1E,cACD,OAAOvI,OAAOC,UAAWJ,GAASqN,eAAgBqC,EAActC,mBAAmB,IACvF,QACI,OAAOpN,8QC5DnB6P,EAAA1a,EAAA,cACe,WAAgD,IAA/C6K,EAA+CtJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,IAAtCoZ,SAAS,EAAMzY,MAAO,IAAK6I,EAAWxJ,UAAA,GAC3D,IAAIwJ,EAAOpE,QAAS,OAAOkE,EAC3B,OAAQE,EAAOjJ,MACX,KAAKyH,QACD,GAAIwB,EAAOpE,QAAQiU,QAAW7P,EAAOpE,QAAQkU,UAAY9P,EAAOpE,QAAQkU,SAASD,OAC7E,OAAQ7P,EAAOpE,QAAQiU,QAAU7P,EAAOpE,QAAQkU,SAASD,QACrD,KAAK,IACD,OAAAvY,KAAWwI,GAAO8P,SAAS,EAAMzY,MAAO,KAC5C,KAAK,IACD,OAAAG,KAAWwI,GAAO8P,SAAS,EAAOzY,MAAO,+BAGrD,OAAAG,KAAWwI,GAAO8P,SAAS,EAAOzY,MAAO,sCAC7C,QACI,OAAO2I,+UCfnBhI,EAAA7C,EAAA,uCACAE,EAAAF,EAAA,IACAA,EAAA,IACAA,EAAA,QAEM8a,cACF,SAAAA,EAAYna,gGAAO2K,CAAAzH,KAAAiX,GAAA,IAAAzX,mKAAAmI,CAAA3H,MAAAiX,EAAArP,WAAAT,OAAAU,eAAAoP,IAAAnP,KAAA9H,KACTlD,IADS,OAEf0C,EAAK4G,KAAO5G,EAAK4G,KAAKsL,KAAVlS,GAFGA,qUADDM,6CAMbuG,GACDrG,KAAKlD,MAAMoa,UAAU7Q,oCAGhB,IAAAiC,EAAAtI,KAAAD,EACsBC,KAAKlD,MAD3Bqa,EAAApX,EACEsG,WADFzI,IAAAuZ,EACQ,GADRA,EACYC,EADZrX,EACYqX,OACjB,OAAOra,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,cAClBxB,EAAAN,QAAAO,cAAA,OAAKsU,QAAS,kBAAMhJ,EAAKlC,KAAK,MAAM7H,UAAW,oBAA6B,KAAP8H,EAAa,SAAW,KAA7F,QAIC+Q,EAAOtY,IAAI,SAACuY,EAAOlS,GACZ,OAAIkS,EAAM3V,MAEF3E,EAAAN,QAAAO,cAAA,OAAKsU,QAAS,kBAAMhJ,EAAKlC,KAAKiR,EAAMC,OAC/B/Y,UAAY,oBAAsB8H,EAAIkR,WAAWF,EAAMC,MAAQ,SAAW,IAC1EvY,IAAKoG,GACLkS,EAAM3V,OAEZ,4BAUZ,EAAArF,EAAA0R,SAHS,SAAC/G,GAAD,OACpBX,IAAKW,EAAMD,KAAKE,aAEL,CAAyBgQ,iVCxCxCjY,EAAA7C,EAAA,UACAqb,EAAArb,EAAA,SACAA,EAAA,KACAE,EAAAF,EAAA,QACAA,EAAA,MACAsb,EAAAtb,EAAA,QACAA,EAAA,SACAA,EAAA,UACAA,EAAA,UACAA,EAAA,UACAA,EAAA,UACAA,EAAA,yDACA,IAAMub,GAAU,EAAAC,EAAAlb,UACZmb,UAAU,IAERR,IAEE1V,MAAO,GACP4V,KAAM,SACNxO,UAAW+O,YAEXnW,MAAO,WACP4V,KAAM,UACNxO,UAAW+M,YAEXnU,MAAO,SACP4V,KAAM,UACNxO,UAAWoL,YAEXxS,MAAO,UACP4V,KAAM,gBACNxO,UAAWyJ,YAGX7Q,MAAO,QACP4V,KAAM,cACNxO,UAAWsI,YAGX1P,MAAO,aACP4V,KAAM,gBACNxO,UAAWqI,UACX2G,MAAM,IAGRC,grBAAqBjY,4DACH,IAAAC,EACWC,KAAKlD,MAAzBoa,EADSnX,EACTmX,UAIHA,EALYnX,EACE0F,MAIJiS,EAAQta,SAAS4a,SAFjB,wDAKInK,GAKlB,OAJGA,EAAU5G,YAAc4G,EAAU5G,YAAcjH,KAAKlD,MAAMmK,YAC1DyQ,EAAQtM,KAAKyC,EAAU5G,aAGpB,mCAGF,IAAA/G,EACsBF,KAAKlD,MAAzBoa,EADFhX,EACEgX,UAAWzR,EADbvF,EACauF,MAClB,OACI1I,EAAAN,QAAAO,cAACwa,EAAAS,QAAOP,QAASA,GACb3a,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,mBACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,OACXxB,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,SACVkH,EAAQ1I,EAAAN,QAAAO,cAACkb,EAAAzb,SAAQ2a,OAAQA,EAAQF,UAAWA,IAAe,MAEhEna,EAAAN,QAAAO,cAAA,OAAKuB,UAAU,UACV6Y,EAAOtY,IAAI,SAACuY,EAAOlS,GAAR,OAAkBpI,EAAAN,QAAAO,cAACwa,EAAAW,OAAMpZ,IAAKoG,EAAOmS,KAAMD,EAAMC,KACxBxO,UAAWuO,EAAMvO,sCAkBnE,EAAAzM,EAAA0R,SAVS,SAAC/G,GAAD,OACpBvB,MAAOuB,EAAMvB,MAAMqR,QACnB7P,WAAYD,EAAMD,KAAKE,aAEP,SAAC3D,GAAD,OAChB4T,UAAW,SAAC7Q,GAER/C,GAAS,EAAAmU,EAAArR,MAAKC,OAGP,CAAsC0R","file":"1.bundle.js","sourcesContent":["import React from 'react';\nimport AppRouter from '../../router/AppRouter';\nimport {createStore, applyMiddleware,} from 'redux'\nimport {Provider} from 'react-redux';\nimport promiseMiddleware from 'redux-promise-middleware'\nimport appReducers from './appReducers';\n\nimport './App.css'\nimport 'popper.js'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap/dist/js/bootstrap.bundle.min'\n\nimport Login from '../login/Login'\nimport {login} from '../login/loginActions'\n\n\nlet store = applyMiddleware(promiseMiddleware())(createStore)(appReducers,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nconst App = props => (\n    <Provider store={store}>\n        <AppRouter/>\n    </Provider>\n);\n\nexport default App;","\nconst BASE_URL = window.location.host === 'localhost:3000' ? 'http://localhost:8080/api' : '/api';\nconst BASE_WS_URL = window.location.host === 'localhost:3000' ?\n    'ws://localhost:8080/api/sensor/wsstatus' :\n    'ws://' + window.location.host + '/api/sensor/wsstatus';\n// const BASE_WS_URL = 'wss://cesuscmobile.azurewebsites.net/api/sensor/wsstatus';\nconst getImageURL = (id, value=0) => {\n    return BASE_URL + '/slice/' + id + \"/imageByValue/\" + value;\n}\nexport { BASE_URL, BASE_WS_URL, getImageURL };","import React, {Component} from 'react'\nimport Dropzone from 'react-dropzone'\nimport $ from 'jquery';\nexport function renderField({ input, label, type, meta: { touched, error }, help }) {\n    return (\n        <div className=\"form-group \">\n            <label>{label}</label>\n            <div>\n                <input className=\"form-control\" {...input} placeholder={label} type={type} />\n                {help && <small className=\"form-text \">* {help}</small>}\n                {touched && error && <small className=\"form-text text-danger\">* {error}</small>}\n            </div>\n        </div>\n    )\n}\nexport function renderFieldSelect({ input, label, meta: { touched, error }, help, options }) {\n    return (\n\n        <div className=\"form-group \">\n            <label>{label}</label>\n            <div>\n                <select className=\"form-control\"  {...input} placeholder={label}>\n                    {options.map(value => <option key={value} value={value}>{value}</option>)}\n                </select>\n                {help && <small className=\"form-text \">* {help}</small>}\n                {touched && error && <small className=\"form-text text-danger\">* {error}</small>}\n            </div>\n        </div>\n    )\n}\n\nexport class FileField extends React.Component {\n\n    handleDropOrClick = (acceptedFiles, rejectedFiles, e) => {\n        let eventOrValue = e;\n        let { input: { onChange, onBlur } } = this.props;\n        if (e.type === 'drop') {\n            if (acceptedFiles.length) {\n                // FileList or [File]\n                eventOrValue = (e.dataTransfer && e.dataTransfer.files) || acceptedFiles;\n            } else {\n                eventOrValue = null;\n            }\n        }\n        onBlur(eventOrValue); // update touched\n        onChange(eventOrValue); // update value\n    }\n\n\n    render() {\n        let { input, meta: { touched, error } } = this.props;\n        let { accept, multiple } = this.props;\n        let selectedFile = (input && input.value && input.value[0]) || null;\n        let dropzoneProps = {\n            accept,\n            multiple,\n            onDrop: this.handleDropOrClick,\n        };\n        let style = {\n            width: '50px',\n            height: '50px',\n            borderWidth: '2px',\n            borderColor: 'rgb(102, 102, 102)',\n            borderStyle: 'dashed',\n            borderRadius: '5px',\n        }\n        return (\n            <div>\n                <input type='hidden' disabled {...input} />\n                {selectedFile ? <span>{selectedFile.name}</span> : 'Selecione um arquivo'}\n                <Dropzone style={style}  {...dropzoneProps} >\n                    {selectedFile ? <img width=\"100%\" src={selectedFile.preview} /> : null}\n                </Dropzone>\n            </div>\n        );\n    }\n}\n\nexport class Modal extends Component {\n    show() {\n        if (this.modal) {\n            $(this.modal).modal()\n        }\n    }\n    render() {\n        const { children, title, buttons } = this.props;\n        return  (\n            <div className=\"modal  fade \" ref={e => this.modal = e} tabIndex=\"-1\" role=\"dialog\">\n                <div className=\"modal-dialog modal-lg\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\">{title}</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            {children}\n                        </div>\n                        <div className=\"modal-footer\">\n                            {buttons ? buttons :\n                                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ) \n    }\n}\n\nexport default {}\n","import axios from 'axios'\nimport {BASE_URL, BASE_WS_URL} from '../../utils/config'\nexport const actions = {\n    FETCH_MAPS:'FETCH_MAPS',\n    SELECT_MAP:'SELECT_MAP',\n    FETCH_MAP_DETAIL: 'FETCH_MAP_DETAIL',\n    WS_MAP_MESSAGE: 'WS_MAP_MESSAGE',\n    WS_CONNECTED: \"WS_CONNECTED\",\n    WS_DISCONNECTED: \"WS_DISCONNECTED\"\n\n}\n\nexport const fetchMaps = (filter)=>({\n    type: actions.FETCH_MAPS,\n    payload: axios.get(BASE_URL+\"/map\")\n})\nexport const selectMap = (id)=>({\n    type: actions.FETCH_MAP_DETAIL,\n    payload: axios.get(BASE_URL+\"/map/\"+id)\n})\n\n\n\n\nlet wsStatus = undefined;\nlet lastConnection = [];\nexport const wsStatusStop = () => {\n    if (wsStatus) {\n        wsStatus.close();\n    }\n}\nexport const wsStatusStart = (dispatch, sensors) => {\n    if (!sensors || sensors.length === 0) return;\n    if (wsStatus) {\n\n        if (sensors.length == lastConnection.length && sensors.every((v, i) => v === lastConnection[i])) {\n            console.log(\"Mesmo\", lastConnection);\n            return;\n        }\n        console.log(\"Não é o mesmo Fechando conexão\", lastConnection);\n        wsStatus.close();\n    }\n    wsStatus = new WebSocket(BASE_WS_URL + \"?sensors=\" + JSON.stringify(sensors));\n    wsStatus.onopen = s => {\n        console.log('onopen ws');\n        lastConnection = sensors;\n        dispatch({\n            type: actions.WS_CONNECTED\n        })\n\n    }\n    wsStatus.onmessage = msg => {\n        console.log('message:', msg)\n        dispatch({\n            type: actions.WS_MAP_MESSAGE,\n            payload: JSON.parse(msg.data)\n        })\n    }\n    wsStatus.onclose = (e) => {\n        console.log(\"WS onclose:\",e)\n        lastConnection = [];\n        dispatch({\n            type: actions.WS_DISCONNECTED,\n            payload: e\n        })\n    }\n    wsStatus.onerror = (err) => {\n        lastConnection = [];\n        dispatch({\n            type: actions.WS_DISCONNECTED,\n            payload: err\n        })\n    }\n}","import axios from 'axios'\nimport { BASE_URL } from '../../utils/config'\nexport const ADD_PALETTE = 'ADD_PALETTE';\nexport const REMOVE_PALETTE = 'REMOVE_PALETTE';\nexport const FETCH_PALETTE = 'FETCH_PALETTE';\nexport const FILTER_PALETTE = 'FILTER_PALETTE';\n\nexport const save = (values) => {\n    const data = new FormData(values);\n    data.append('values', JSON.stringify(values));\n\n    const files = values.images.map((img, index) => {\n        data.append('' + index + '', img.image[0]);\n        console.log(img.image)\n        return img.image[0];\n\n    })\n    console.log(files)\n    return {\n        type: ADD_PALETTE,\n        payload: axios.put(BASE_URL + \"/slice\", data)\n    }\n\n}\nexport const fetch = () => {\n    return {\n        type: FETCH_PALETTE,\n        payload: axios.get(BASE_URL + \"/slice\")\n    }\n}\nexport const remove = (id) => {\n    return {\n        type: REMOVE_PALETTE,\n        payload: axios.delete(BASE_URL + \"/slice/\"+id)\n    }\n}\n\nexport const filter = (name)=> ({\n    type: FILTER_PALETTE,\n    payload: name\n})","import axios from 'axios'\nimport {BASE_URL} from '../../utils/config'\n\nexport const LOGIN = 'LOGIN';\n\nexport function login(values) {\n    return {\n        type: LOGIN,\n        payload: axios.post(BASE_URL + '/login', values).then(res=>{\n            instance.defaultConfig.headers.authorization = 'bearer '+res.data;\n            return res;\n        })\n    }\n}","import { createStore, applyMiddleware, combineReducers } from 'redux'\nimport { reducer as form } from 'redux-form'\nimport loginReducer from '../login/loginReducer'\nimport sensorReducer from '../sensor/sensorReducer'\nimport paletteReducer from '../palette/paletteReducer'\nimport mapReducer from '../editor/mapReducer'\nimport mapsReducer from '../maps/mapsReducer'\nimport {actions} from '../maps/mapsActions'\nconst menuReducer = (state = {\n    currentUrl: '/'\n}, action) => {\n    switch (action.type) {\n        case \"CHANGE_PAGE\":\n            return Object.assign({}, { ...state }, { currentUrl: action.payload })\n        case actions.FETCH_MAP_DETAIL + \"_FULFILLED\":\n            return Object.assign({}, { ...state }, { currentUrl: '/mapas/detail' })\n            break;\n        default:\n            return state\n    }\n};\nexport const goto = (url) => {\n    return {\n        type: \"CHANGE_PAGE\",\n        payload: url,\n\n    }\n};\nexport default combineReducers({\n    login: loginReducer,\n    sensors: sensorReducer,\n    palette: paletteReducer,\n    map: mapReducer,\n    maps: mapsReducer,\n    form,\n    menu: menuReducer\n})","import React, { Component } from 'react'\nimport * as d3 from 'd3'\nimport {getImageURL} from '../utils/config' \nclass Point {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n}\nclass MapItem {\n    constructor(image, w, id, type) {\n        this.image = image;\n        this.w = w;\n        this.id = id;\n        this.type = type;\n    }\n}\nclass Map extends Component {\n    updateSliceImage(image, x, y, name) {\n        let index = -1;\n        console.log(name);\n        for (var z = 0; z < this.map[x][y].length; z++) {\n            console.log(\"Procurando:\", this.map[x][y][z])\n            if (this.map[x][y][z].id == name) {\n                index = z;\n                break;\n            }\n        }\n        if (index != -1 && this.svg.select(\"#comp_\" + x + \"_\" + y + \"_\" + index).node()) {\n            console.log(this.svg.select(\"#comp_\" + x + \"_\" + y + \"_\" + index).node());\n            this.svg.select(\"#comp_\" + x + \"_\" + y + \"_\" + index).node().src = image;\n            this.svg.select(\"#comp_\" + x + \"_\" + y + \"_\" + index).attr(\"xlink:href\", image);\n        }\n    }\n    constructor(props) {\n        super(props)\n        this.map = props.map || [];\n        this.baseX = this.map.length * 25;\n        this.comps = [];\n    }\n    componentDidMount() {\n        this.mode = 0;\n        this.rootsvg = d3.select(this.root).append('svg');//.append('g');\n        this.mainsvg = this.rootsvg.append('g');//.append('g'); \n        this.grid = this.mainsvg.append('g');//.append('g');\n        this.svg = this.mainsvg.append('g');//.append('g');\n        this.svg.attr('fill', 'antiquewhite');\n        this.svg.attr('width', '100%');\n        this.svg.attr('height', '100%');\n        this.rootsvg.attr('width', '100%');\n        this.rootsvg.attr('height', '100%');\n        this.mainsvg.attr('width', '100%');\n        this.mainsvg.attr('height', '100%');\n        this.grid.attr('width', '100%');\n        this.grid.attr('height', '100%');\n        this.rootsvg.on('mouseleave', (a) => {\n            if (this.component && this.dragingElement) {\n                this.dragingElement.remove();\n                let idx = this.comps.indexOf(this.dragingElement, 0);\n                if (idx >= -1) {\n                    this.comps.splice(idx, 1);\n                }\n                this.dragingElement = null;\n            }\n        })\n        this.mainsvg.on(\"contextmenu\", () => {\n            d3.event.preventDefault();\n            // let coords = d3.mouse(d3.event.currentTarget);\n            // let p = this.twoDToIso(this.get2dFromTileCoordinates(this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50), 50));\n\n            // let pmap = this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50);\n            // let i = pmap.x.toFixed(0)\n            // let j = pmap.y.toFixed(0);\n            // this.map[i][j].forEach((item, index) => {\n            //     this.svg.selectAll(\"#comp_\" + i + \"_\" + j + \"_\" + index).remove()\n            // });\n            // this.map[i][j] = []\n            return false\n        });\n\n\n        this.mainsvg.on('mousedown', (a) => {\n            if (d3.event.button == 2) {\n                this.mode = 'SELECT_AREA';\n                this.selectElement = this.createRect('selectArea')\n                let coords = d3.mouse(d3.event.currentTarget);\n                let p1 = this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50);\n                this.selectElement.attr('stroke', '#00FF00');\n                this.selectElement.p1 = p1;\n            }\n        })\n        this.mainsvg.on('mouseup', (a) => {\n            switch (this.mode) {\n                case 'SELECT_AREA':\n                    // TODO Add slices\n                    if (this.component) {\n                        let x1 = Math.min(this.selectElement.p1.x, this.selectElement.p2.x);\n                        let x2 = Math.max(this.selectElement.p1.x, this.selectElement.p2.x);\n                        let y1 = Math.min(this.selectElement.p1.y, this.selectElement.p2.y);\n                        let y2 = Math.max(this.selectElement.p1.y, this.selectElement.p2.y);\n                        for (let x = x1; x <= x2; x++) {\n                            for (let y = y1; y <= y2; y++) {\n                                this.props.addItem({ ...this.component }, x, y)\n                            }\n                        }\n                    }\n                    this.selectElement.remove()\n                    break;\n            }\n            this.mode = 0;\n        })\n        this.mainsvg.on('click', (a) => {\n            let coords = d3.mouse(d3.event.currentTarget);\n            let p = this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50);\n            if (this.component) {\n                // let p = this.twoDToIso(this.get2dFromTileCoordinates(this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50), 50));\n                // let pInMap = (this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50));\n\n\n                this.props.addItem({ ...this.component }, p.x, p.y)\n\n            } else {\n                this.props.itemSelected(p.x, p.y)\n            }\n\n        });\n\n        this.mainsvg.on('mousemove', (a) => {\n            let coords = d3.mouse(d3.event.currentTarget);\n            const p1 = this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50);\n\n            let p = this.twoDToIso(this.get2dFromTileCoordinates(p1, 50));\n\n            switch (this.mode) {\n                case 'SELECT_AREA':\n                    this.selectElement.attr('points', this.getRectPoints(this.selectElement.p1, p1))\n                    this.selectElement.p2 = p1;\n                    break;\n\n                default:\n                    this.svg.selectAll(\"#point\")\n                        .attr('transform', 'translate(' + (p.x) + ',' + (p.y) + ')')\n                    if (this.component) {\n                        this.dragingElement = this.svg.selectAll('#moving');\n\n                        if (!this.dragingElement.node()) {\n                            let teste = this.component.image;\n                            let image = new Image();\n                            image.onload = (event) => {\n\n                                this.dragingElement = this.svg.append('image')\n                                    .attr('xlink:href', teste)\n                                    .attr('x', p.x * this.component.w)\n                                    .attr('y', p.y)\n                                    .attr('id', \"moving\")\n                                    .attr('opacity', 0.5)\n                                    .attr('width', 100 * this.component.w);\n                                this.comps.push(this.dragingElement)\n\n                                this.dragingElement.call(d3.drag().on('drag', (a, b, c) => {\n\n                                    let coordinates = d3.mouse(c[b]);\n                                    let p = this.twoDToIso(this.get2dFromTileCoordinates(this.getTileCoordinates(this.isoTo2D(new Point(coordinates[0], coordinates[1] + 25)), 50), 50));\n                                    this.svg.selectAll(\"#point\")\n                                        .attr('transform', 'translate(' + (p.x) + ',' + (p.y) + ')')\n                                    d3.select(c[b])\n                                        .attr('x', p.x)\n                                        .attr('y', p.y - this.dragingElement.node().getBBox().height)\n                                    //  this.sort()\n\n                                }).on('end', (j) => {\n\n                                }));\n                            };\n                            image.src = teste;\n\n                        } else {\n                            this.dragingElement\n                                .attr('x', p.x - 50 * this.component.w)\n                                .attr('y', p.y - this.dragingElement.node().getBBox().height + 25);\n                            // this.sort()\n                            if (this.dragingElement.node())\n                                this.dragingElement.node().parentNode.appendChild(this.dragingElement.node())\n                        }\n\n                    }\n                    break;\n            }\n\n        });\n\n\n        let zoom = d3.zoom()\n            .filter(() => {\n                return d3.event instanceof WheelEvent || d3.event.button == 1\n            })\n            .scaleExtent([0.1, 10])\n            .on('zoom', () => {\n                this.mainsvg.attr('transform', d3.event.transform);\n            });\n\n        this.rootsvg.call(zoom).call(zoom.transform, d3.zoomIdentity.translate(this.baseX, 0).scale(0.5));\n        this.mainsvg.attr(\"transform\", \"translate(\" + this.baseX + \",0)scale(.5,.5)\");\n        // Desenhar Grid\n        this.createGrid(true);\n    }\n    componentDidUpdate() {\n        this.createGrid();\n        if (this.props.selectedItem) {\n            this.component = new MapItem(getImageURL(this.props.selectedItem._id, 0), this.props.selectedItem.width, this.props.selectedItem._id, this.props.selectedItem.type);\n        } else {\n            this.component = null;\n        }\n    }\n    getRectPoints(p1, p2) {\n        let _p1 = this.twoDToIso(this.get2dFromTileCoordinates(new Point(p1.x, p1.y), 50))\n        let _p2 = this.twoDToIso(this.get2dFromTileCoordinates(new Point(p1.x, p2.y), 50))\n        let _p3 = this.twoDToIso(this.get2dFromTileCoordinates(new Point(p2.x, p2.y), 50))\n        let _p4 = this.twoDToIso(this.get2dFromTileCoordinates(new Point(p2.x, p1.y), 50))\n\n        let x1 = _p1.x - 50;\n        let y1 = _p1.y;\n        let x2 = _p2.x;\n        let y2 = _p2.y - 25;\n        let x3 = _p3.x + 50;\n        let y3 = _p3.y;\n        let x4 = _p4.x;\n        let y4 = _p4.y + 25;\n        return x1 + ',' + y1 + ' ' + x2 + ',' + y2 + ' ' + x3 + ',' + y3 + ' ' + x4 + ',' + y4 + ' ' + x1 + ',' + y1;\n    }\n\n    createRect(id) {\n\n        return this.svg\n            .append('g')\n            .attr('id', id)\n            .append('polygon')\n            .attr('points', this.getRectPoints(new Point(0, 0), new Point(0, 0)))\n            .attr('fill', '#FFFFFF')\n            .attr('stroke', '#FF0000')\n            .attr('stroke-width', 2)\n            .attr('opacity', 0.5)\n    }\n    createGrid(init) {\n        let hw = 100 / 2;\n        let hh = 50 / 2;\n        let len = this.map.length || 50;\n        for (let i = 0; i < len; i++) {\n            this.map[i] = this.map[i] || []\n            let het = this.map[i].length || 50;\n            for (let j = 0; j < het; j++) {\n                this.map[i][j] = this.map[i][j] || []\n                let p = this.twoDToIso(this.get2dFromTileCoordinates(new Point(i, j), 50));\n\n                if (init) {\n                    let _p = new Point(i, j)\n                    this.grid.append('polygon')\n                        .attr('points', this.getRectPoints(_p, _p))\n                        .attr('fill', '#FFFFFF')\n                        .attr('stroke', '#CCCCCC')\n                        .attr('stroke-width', 2)\n                        .attr('opacity', 0.5)\n                }\n                if (this.map[i][j]) {\n\n                    for (let t = 0; t < this.map[i][j].length; t++) {\n                        let teste = this.map[i][j][t].image;\n\n                        if (this.svg.select(\"#comp_\" + i + \"_\" + j + \"_\" + t).node())\n                            continue; // Ignorando pois já esta no svg\n                        let image = new Image();\n                        let temp = this.dragingElement = this.svg.append('image')\n                            .attr('xlink:href', teste)\n                            .attr('x', p.x - 50 * this.map[i][j][t].w)\n                            .attr('y', p.y - 25)\n                            .attr('id', \"comp_\" + i + \"_\" + j + \"_\" + t)\n                            .attr('width', 100 * this.map[i][j][t].w);\n                        image.onload = (event) => {\n                            temp.attr('y', p.y - (100.0 / image.width * image.height) + 25);\n                            this.comps.push(temp);\n                            this.sort()\n                            temp.call(d3.drag().on('drag', (a, b, c) => {\n\n                                let coordinates = d3.mouse(c[b]);\n                                let p = this.twoDToIso(this.get2dFromTileCoordinates(this.getTileCoordinates(this.isoTo2D(new Point(coordinates[0], coordinates[1] + 25)), 50), 50));\n                                d3.select(c[b])\n                                    .attr('x', p.x - 50)\n                                    .attr('y', p.y - c[b].getBBox().height + 25)\n                                this.sort()\n\n\n                            }).on('end', (j) => {\n\n                            }));\n                        };\n                        image.src = teste;\n                    }\n                }\n            }\n        }\n\n        if (init) {\n            this.svg\n                .append('g')\n                .attr('id', 'point')\n                .append('polygon')\n                .attr('points', this.getRectPoints(new Point(0, 0), new Point(0, 0)))\n                .attr('fill', '#FFFFFF')\n                .attr('stroke', '#FF0000')\n                .attr('stroke-width', 2)\n                .attr('opacity', 0.5)\n            this.svg\n                .append('g')\n                .attr('id', '_select')\n                .append('polygon')\n                .attr('points', this.getRectPoints(new Point(0, 0), new Point(0, 0)))\n                .attr('fill', '#CCCCCC')\n                .attr('stroke', '#2222CC')\n                .attr('stroke-width', 2)\n                .attr('opacity', 0.5)\n        } else {\n            // TODO Posicionar baseado no valor de currentSelected\n            if (this.props.currentSelected) {\n                let p = this.twoDToIso(this.get2dFromTileCoordinates(this.props.currentSelected, 50));\n                this.svg.selectAll(\"#_select\").attr('transform', 'translate(' + (p.x) + ',' + (p.y) + ')')\n            }\n\n        }\n    }\n\n    sort() {\n        let len = this.map.length || 50;\n        for (let i = 0; i < len; i++) {\n            this.map[i] = this.map[i] || []\n            let het = this.map[i].length || 50;\n            for (let j = 0; j < het; j++) {\n                for (let t = 0; t < this.map[i][j].length; t++) {\n                    let a = this.svg.select('#' + \"comp_\" + i + \"_\" + j + \"_\" + t)\n                    if (a.node())\n                        a.node().parentNode.appendChild(a.node())\n                }\n            }\n        }\n        // this.map.forEach((m1) => {\n        //     m1.forEach((m2) => {\n        //         m2.forEach((item) => {\n        //             let a = this.svg.select('#' + item.id)\n        //             if (a.node())\n        //                 a.node().parentNode.appendChild(a.node())\n        //         })\n        //     })\n        // })\n    }\n\n\n    download() {\n\n        saveSvgAsPng(this.rootsvg.node(), \"diagram.png\")\n        // this.createGrid();\n        // this.rootsvg.selectAll('polygon').attr('opacity', 0.5);\n    }\n    isoTo2D(pt) {\n        //gx=(2*isoy+isox)/2;\n        //gy=(2*isoy-isox)/2\n        let tempPt = new Point(0, 0);\n        tempPt.x = (2 * pt.y + pt.x) / 2;\n        tempPt.y = (2 * pt.y - pt.x) / 2;\n        return (tempPt);\n    }\n\n    /**\n     * convert a 2d point to isometric\n     * */\n    twoDToIso(pt) {\n        //gx=(isox-isoxy;\n        //gy=(isoy+isox)/2\n        let tempPt = new Point(0, 0);\n        tempPt.x = pt.x - pt.y;\n        tempPt.y = (pt.x + pt.y) / 2;\n        return (tempPt);\n    }\n\n    getTileCoordinates(pt, tileHeight) {\n        let tempPt = new Point(0, 0);\n        tempPt.x = Math.floor(pt.x / tileHeight);\n        tempPt.y = Math.floor(pt.y / tileHeight);\n\n        return (tempPt);\n    }\n\n    /**\n     * convert specific tile row/column to 2d point\n     * */\n    get2dFromTileCoordinates(pt, tileHeight) {\n        let tempPt = new Point(0, 0);\n        tempPt.x = pt.x * tileHeight;\n        tempPt.y = pt.y * tileHeight;\n\n        return (tempPt);\n    }\n\n\n\n\n    render() {\n        const { isOver, canDrop, connectDropTarget } = this.props;\n        return (<div>\n            <div style={{ width: 800, height: 500 }} ref={el => this.root = el}></div>\n        </div>)\n\n    }\n    componentWillReceiveProps(nextProps) {\n\n        if (!this.props.isOver && nextProps.isOver) {\n            // You can use this as enter handler\n        }\n\n        if (this.props.isOver && !nextProps.isOver) {\n            // You can use this as leave handler\n        }\n\n        if (this.props.isOverCurrent && !nextProps.isOverCurrent) {\n            // You can be more specific and track enter/leave\n            // shallowly, not including nested targets\n        }\n    }\n}\n\n// const mapStateToProps = state => ({\n//     selectedItem: state.map.selectedItem,\n//     // map: state.map.map,\n//     currentSelected: state.map.currentSelected\n// })\n// const mapDispatchToProps = ({\n//     addItem: addItem,\n//     itemSelected: itemPointSelected\n// })\n// export default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(Map)\nexport default Map","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { connect } from 'react-redux'\nimport { renderField } from '../../utils/utils'\nimport { login } from './loginActions'\nimport LoginForm from '../../ui/LoginScreen'\nconst validate = values => {\n    const errors = {}\n    if (!values.username) errors.username = 'Campo obrigatório';\n    if (!values.password) errors.password = 'Campo obrigatório';\n    return errors\n}\n\n\nconst mapStateToProps = (state) => ({\n    loginError: state.login.error\n})\nexport default connect(mapStateToProps)(\n    reduxForm(\n        {\n            form: 'login',\n            validate\n        })(LoginForm));","import axios from 'axios'\nimport { BASE_URL } from '../../utils/config'\nexport const SELECT_ITEM = \"SELECT_ITEM\" \nexport const ADD_ITEM_ON_MAP = \"ADD_ITEM_ON_MAP\"\nexport const POINT_SELECTED = \"POINT_SELECTED\"\nexport const SAVE_PROPERTIES = \"SAVE_PROPERTIES\"\nexport const SELECT_EDIT_PROPERTIES = \"SELECT_EDIT_PROPERTIES\"\nexport const SAVEMAP = \"SAVEMAP\"\nexport const CHANGE_NAME = \"CHANGE_NAME\"\n\nexport const selectItem = (item) => ({\n    type: SELECT_ITEM,\n    payload: item\n})\n\nexport const saveMap = (map) => ({\n    type: SAVEMAP,\n    payload: map._id?axios.post(BASE_URL + \"/map\", map):axios.put(BASE_URL + \"/map\", map)\n})\n\nexport const addItem = (item, x, y) => ({\n    type: ADD_ITEM_ON_MAP,\n    payload: { item: item, x: x, y: y }\n})\n\nexport const itemPointSelected = (x,y)=>({\n    type: POINT_SELECTED,\n    payload: {x:x, y:y}\n})\nexport const saveProperties = (values) => ({\n    type:SAVE_PROPERTIES,\n    payload: values\n})\nexport const selectProperties = (prop) => ({\n    type:SELECT_EDIT_PROPERTIES,\n    payload: prop\n})\nexport const changeName = (name) =>({\n    type:CHANGE_NAME,\n    payload: name\n})\n ","import { BASE_URL, BASE_WS_URL } from '../../utils/config';\nimport axios from 'axios';\nexport const FETCH_SENSORS = \"FETCH_SENSORS\";\nexport const INVALID_FILTER = \"INVALID_FILTER\";\nexport const SELECT_SENSOR = \"SELECT_SENSOR\";\nexport const SENSOR_UPDATE = \"SENSOR_UPDATE\";\nexport const CLOSE_CHART = \"CLOSE_CHART\";\nexport const WS_CONNECTED = \"WS_CONNECTED\";\nexport const WS_DISCONNECTED = \"WS_DISCONNECTED\";\nexport const closeChart = () => ({\n    type: CLOSE_CHART\n})\nexport const selectSensor = (sensorName) => ({\n    type: SELECT_SENSOR,\n    payload: axios.get(BASE_URL + '/sensor/values?name=' + sensorName)\n})\n\nexport const fetchSensors = (filter) => {\n    return {\n        type: FETCH_SENSORS,\n        payload: axios.get(`${BASE_URL}/sensor/list?name=${filter}&limit=10`)\n    }\n}\nlet wsStatus = undefined;\nlet lastConnection = [];\nexport const wsStatusStop = () => {\n    if (wsStatus) {\n        wsStatus.close();\n    }\n    return {\n        type: WS_DISCONNECTED\n    }\n}\nexport const wsStatusStart = (dispatch, sensors) => {\n    if (!sensors || sensors.length === 0) return;\n    if(!Array.isArray(sensors)){\n        sensors = [sensors];\n    }\n    if (wsStatus) {\n\n        if (sensors.length == lastConnection.length && sensors.every((v, i) => v === lastConnection[i])) {\n            console.log(\"Mesmo\", lastConnection);\n            return;\n        }\n        console.log(\"Não é o mesmo Fechando conexão\", lastConnection);\n        wsStatus.close();\n    }\n    wsStatus = new WebSocket(BASE_WS_URL + \"?sensors=\" + JSON.stringify(sensors));\n    wsStatus.onopen = s => {\n        console.log('onopen ws');\n        lastConnection = sensors;\n        dispatch({\n            type: WS_CONNECTED\n        })\n\n    }\n    wsStatus.onmessage = msg => {\n        console.log('message:', msg)\n        dispatch({\n            type: SENSOR_UPDATE,\n            payload: JSON.parse(msg.data)\n        })\n    }\n    wsStatus.onclose = (e) => {\n        console.log(\"WS onclose:\",e)\n        lastConnection = [];\n        dispatch({\n            type: WS_DISCONNECTED\n        })\n    }\n    wsStatus.onerror = (err) => {\n        lastConnection = [];\n        dispatch({\n            type: WS_DISCONNECTED\n        })\n    }\n}","import React, { Component } from 'react' \nimport Map from './Map'\nimport {getImageURL} from '../utils/config'\nclass MapsDetail extends Component {\n    componentDidMount(){\n        this.checkConnections()\n    }\n    UNSAFE_componentWillUpdate(nextProps){\n        if(this.props.messages.length != nextProps.messages.length && nextProps.messages.length > 0){   \n            const changed = nextProps.messages[0]\n            const sensor = this.props.currentMap.mapSensors.filter(s=>s.sensor == changed.sensor);\n            sensor.map(s => {\n                this.mapRef.getWrappedInstance().updateSliceImage(\n                    getImageURL(s.slice,changed.value.value),\n                    s.position.x,\n                    s.position.y,s.slice)\n                return\n            })\n            \n        }\n        \n       \n    }\n    componentWillUnmount(){\n        const {wsStatusStop} = this.props\n        wsStatusStop();\n    }\n    checkConnections(){\n        const {startMonitoring, wsStatusStop, currentMap} = this.props;\n        if(this.monitoring){\n            wsStatusStop()\n        }\n        if(currentMap && currentMap.mapSensors){\n            startMonitoring(currentMap.mapSensors.map(s => s.sensor));\n            this.monitoring = true;\n        }\n        \n    }\n    \n    render() {\n        const { currentMap, messages } = this.props\n        const { name = '', map = [] } = currentMap;\n        return <div>\n            <h1>{name}</h1>\n            <Map ref={el=>this.mapRef = el} map={map}></Map>\n            Mensagens:\n            {messages.map((m, index)=>(\n                <div key={index}>\n                <p>{m.sensor}:{m.value.value}&nbsp;<small>{m.value.data}</small></p>\n                </div>\n            ))}\n        </div>\n    }\n}\n\nexport default MapsDetail","import React, { Component } from 'react'\nimport { connect } from 'react-redux'  \nimport { wsStatusStart, wsStatusStop } from './mapsActions'\nimport MapDetail from '../../ui/MapDetail'\n\nconst mapsStateToProps = (state) => ({\n    currentMap: state.maps.currentMap,\n    messages: state.maps.messages\n})\nconst mapDispatchToProps = dispatch=>({\n    startMonitoring: (sensors) => {\n        console.log('startMonitoring:',sensors);\n        wsStatusStart(dispatch, sensors)\n    },\n    wsStatusStop,\n})\nexport default connect(mapsStateToProps, mapDispatchToProps)(MapDetail)","import React, { Component } from 'react'\n\nclass MapList extends Component {\n    componentDidMount() {\n        const { fetchMaps } = this.props;\n        fetchMaps();\n    }\n    render() {\n        const { list,selectMap,goto  } = this.props;\n        return (\n            <div>\n               \n                <ul className=\"list-group\">\n                    {list.map((item, index) =>\n                        <li onClick={e=>selectMap(item._id)} key={index} className=\"list-group-item\">\n                            {item.name}\n                        </li>)}\n                </ul>\n            </div>\n        )\n    }\n}\n\nexport default MapList","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { actions, fetchMaps,selectMap } from './mapsActions' \nimport MapList from '../../ui/MapList'\n\nconst mapStateToProps = (state) => ({\n    list: state.maps.list\n})\nconst mapDispatchToProps = ({\n    fetchMaps,\n    selectMap \n})\nexport default connect(mapStateToProps, mapDispatchToProps)(MapList);","import React, { Component } from 'react'\nimport Dropzone from 'react-dropzone'\nclass FastAddPalette extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            files:[]\n        }\n        this.save = this.save.bind(this)\n    }\n    handleDropOrClick = (acceptedFiles, rejectedFiles, e) => {\n        let eventOrValue = e;\n\n        if (e.type === 'drop') {\n            console.log(\"acceptedFiles:\", acceptedFiles)\n            console.log(\"rejectedFiles:\", rejectedFiles)\n            if (acceptedFiles.length) {\n                // FileList or [File]\n                this.setState({files:acceptedFiles});\n                eventOrValue = (e.dataTransfer && e.dataTransfer.files) || acceptedFiles;\n            } else {\n                eventOrValue = null;\n            }\n        }\n    }\n    awesomeName(name){\n        let ret = name.split('.')[0];\n        return ret;\n        \n    }\n    save(){\n        this.state.files.map(f=>{\n            console.log(f);\n            this.props.save({\n                name:this.awesomeName(f.name)   ,\n                type:'IMAGE',\n                images:[\n                    {\n                        image:[f],\n                        value:1\n                    }\n                ]\n            })\n        })\n    }\n\n    render() {\n        let dropzoneProps = {\n            accept: \"image/png\",\n            multiple: true,\n            onDrop: this.handleDropOrClick,\n        };\n        let style = {\n            width: '50px',\n            height: '50px',\n            borderWidth: '2px',\n            borderColor: 'rgb(102, 102, 102)',\n            borderStyle: 'dashed',\n            borderRadius: '5px',\n        }\n        return (\n            <div>\n                <Dropzone style={style}  {...dropzoneProps} >\n\n                </Dropzone>\n                <button key='1' className='btn btn-primary' onClick={this.save}>Salvar</button>\n                {!this.state.files ? 'Selecione um arquivo' :\n                    this.state.files.map((f, index) => <img width='100px' key={index} src={f.preview}/>)}\n            </div>\n        );\n    }\n}\n\nexport default FastAddPalette","import React from 'react';\nimport { Field, FieldArray, reduxForm } from 'redux-form';\nimport { FileField, renderField, renderFieldSelect } from '../utils/utils'\nimport { Modal } from '../utils/utils'\nconst FileComponent = ({ fields, meta: { error, submitFailed } }) => {\n\n    return <div className=\"form-group col-md-12\">\n        <button className='btn btn-secondary' type=\"button\" onClick={() => fields.push({})}> + Image</button> {submitFailed && error && <span>{error}</span>}\n        <div>\n            {\n                fields.map((member, index) => (\n                    <div className=\"col-6\" key={index}>\n                        <h4>Imagem #{index + 1}</h4>\n                        <div className=\"row\">\n                            <div className=\"col-6\">\n                                <Field accept=\"image/png\" name={`${member}.image`} component={FileField} />\n                            </div><div className=\"col-5\">\n                                <Field help=\"Informe o valor do sensor normalmente entre 0 e 1\" name={`${member}.status`} component={renderField} label=\"Status\" />\n                            </div><div className=\"col-1\">\n                                <button className=\"btn\" onClick={e => { fields.remove(index) }} ><i className=\"fa fa-window-close\" /></button>\n                            </div>\n                        </div>\n                    </div>\n                ))\n            }\n        </div>\n    </div>\n\n}\nconst FormPalette = props => {\n    const { handleSubmit } = props;\n    const options = ['ATUADOR', 'SENSOR', 'IMAGE']\n    let el = false;\n    let modal = false;\n    return (<div>\n        <button className=\"btn\" onClick={e => { modal.show() }}>+</button>\n        <Modal title=\"Novo Item\" ref={e => modal = e} buttons={[<button key='1' className='btn btn-primary' onClick={handleSubmit}>Salvar</button>]}>\n            <div>\n                <div className=\"form-row\">\n                    <div className=\"form-group col-md-6\">\n                        <Field component={renderField} name='name' label=\"Nome\" help=\"Nome do componente para facilitar sua busca\" />\n                    </div>\n                    <div className=\"form-group col-md-6\">\n                        <Field component={renderFieldSelect} name='type' label=\"Tipo\" options={options} help=\"ATUADOR, SENSOR, IMAGE\" />\n                    </div>\n                </div>\n                <div className=\"form-row\">\n                    <FieldArray name=\"images\" component={FileComponent} />\n                </div>\n            </div>\n        </Modal>\n    </div>\n    )\n}\n\nexport default reduxForm({ form: 'FormPalette' })(FormPalette);","import React, { Component } from 'react' \nimport { Modal } from '../utils/utils'\nimport FormPalette from './FormPalette'\nimport FastAddPalette from './FastAddPalette'\nimport {getImageURL} from '../utils/config'\nclass ListPalette extends Component {\n    componentDidMount() {\n        const { fetch } = this.props;\n        fetch()\n    }\n    render() {\n        const { list, save, remove } = this.props\n        return (\n            <div>\n                <FastAddPalette save={save} />\n                <FormPalette onSubmit={save}/>\n                <ul className=\"list-group\">\n                    {list.map((item, index) => <li key={index} className=\"list-group-item\">\n                    <img style={{ width: 50 }} src={getImageURL(item._id, 0)} />\n                    {item.type} - {item.name}\n                    <i onClick={e => remove(item._id)} className=\"fa fa-trash\" /></li>)}\n                </ul>\n\n\n            </div>\n        )\n    }\n}\nexport default ListPalette","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { fetch, remove, save } from './paletteActions'\nimport ListPalette from '../../ui/ListPalette'\nconst mapStateToProps = state => ({\n    list: state.palette.list\n})\nconst mapDispatchToProps = {\n    fetch,\n    remove,\n    save\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ListPalette);","module.exports = \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KICAgIDxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem01IDExSDd2LTJoMTB2MnoiLz4KPC9zdmc+\"","import React from 'react' \nimport {getImageURL} from '../utils/config'\nimport {Field} from 'redux-form'\nconst PropertiesForm = (props) => {\n    const { slice, onSubmit, position } = props\n    return <div className=\"modal-content\">\n        <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Sensor</h5>\n            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n        </div>\n        <div className=\"modal-body\">\n            <div>\n                <div className=\"form-group\">\n                    <label>Image:</label>\n                    <p><img src={getImageURL(slice)} style={{height:50}}/></p>\n                    <small>Posição:{position.x},{position.y}</small>\n                </div>\n                <div className=\"form-group\">\n                    <label>Nome</label>\n                    <Field type=\"text\" component='input' name='name' className=\"form-control\" placeholder=\"Nome\" />\n                </div>\n                <div className=\"form-group\">\n                    <label>Sensor</label>\n                    <Field type=\"text\" component='input' name='sensor' className=\"form-control\" placeholder=\"Sensor\" />\n                </div>\n            </div>\n        </div>\n        <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\n            <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" onClick={onSubmit}>Salvar</button>\n        </div>\n    </div>\n\n}\nexport default PropertiesForm\n","import React from 'react';\nimport $ from 'jquery';\nimport PropertiesForm from './PropertiesForm'\nimport {getImageURL} from '../utils/config'\nconst Properties = (props) => {\n    const { handleSubmit, selectedItem, mapSensors, palette, selectedProperty, selectProperties, saveProperties } = props;\n    return <div>\n\n        {mapSensors.map(\n            (property, index) =>\n                <div key={index}>\n                    <div className=\"card\" style={{width: '18rem'}}>\n                        <img className=\"card-img-top\" src={getImageURL(property.slice)} />\n                        <div className=\"card-body\">\n                            <h5 className=\"card-title\">{property.name}</h5>\n                            <p className=\"card-text\">\n                                Imagem: {palette.find(item => item._id === property.slice).name}\n                            </p>\n                            <p>Sensor:  {property.sensor || 'Não Ligado'}</p>\n                            <button className='btn  btn-primary' onClick={e => { selectProperties(property) }} >Licar</button>\n                        </div>\n                    </div>\n                </div>\n        )}\n        {selectedProperty ?\n            <div className=\"modal  fade \" ref={e => $(e).modal()} tabIndex=\"-1\" role=\"dialog\">\n                <div className=\"modal-dialog modal-lg\" role=\"document\">\n                    <PropertiesForm {...selectedProperty} {...props} onSubmit={handleSubmit(saveProperties)} />\n                </div>\n            </div>\n            : null}\n\n    </div>\n}\n\n \nexport default Properties","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Item extends Component {\n    render() {\n        return <div>item1</div>\n    }\n}\nexport default Item","import React, { Component } from 'react'\nimport Map from './Map'\nimport Item from './Item'\nimport { getImageURL } from '../utils/config'\nimport Properties from './Properties';\nimport removeIcon from '../icons/ic_remove_circle_black_24px.svg'\nconst Editor = props => {\n    const { currentSelected, addItem, itemSelected, palette, selectItem, filter, filterText, mapSensors, selectedItem, saveMap, map, mapName, changeName } = props\n\n    return <div className=\"row\">\n        <div className=\"col-3\">\n            <nav className=\"navbar navbar-light bg-light\" style={{ height: 50 }}>\n                <div className=\"col-6\">\n                    <input type=\"text\" className=\"form-control \" value={filterText} onChange={e => filter(e.target.value)} placeholder=\"Filtro\" />\n                </div>\n\n                {selectedItem ?\n                    <div className=\"col-6\" style={{ height: 50 }}>\n                        <div>\n                            <img style={{ height: 50 }} src={getImageURL(selectedItem._id)} />\n                            <img src={removeIcon} onClick={e => { selectItem(null) }} className=\"mr-3\" />\n                        </div>\n                    </div>\n                    : null}\n            </nav>\n            <nav className=\"navbar navbar-light bg-light\" style={{ height: 50 }}>\n                <div className=\"col-6\">\n                    <input type=\"text\" className=\"form-control \" value={mapName} onChange={e => changeName(e.target.value)} placeholder=\"Nome do Mapa\" />\n                </div>\n                <div className=\"col-6\">\n                    <button className=\"btn\" onClick={e => saveMap({ map: map, name: mapName, mapSensors: mapSensors })} >Salvar</button>\n                </div>\n\n            </nav>\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    <div id=\"accordion\">\n                        {['IMAGE', 'SENSOR', 'ATUADOR'].map(type =>\n                            <div className=\"card\" key={type} >\n                                <div className=\"card-header\" id={\"heading\" + type}>\n                                    <h5 className=\"mb-0\">\n                                        <button className=\"btn btn-link\" data-toggle=\"collapse\" data-target={\"#collapse\" + type} aria-expanded=\"true\" aria-controls={\"collapse\" + type}>{type}</button>\n                                    </h5>\n                                </div>\n                                <div id={\"collapse\" + type} className=\"collapse show\" aria-labelledby={\"heading\" + type} data-parent=\"#accordion\">\n                                    <div className=\"card-body\">\n                                        <div className=\"row\" style={{ overflowY: 'scroll', maxHeight: '200px' }}>\n                                            {palette.filter(item => item.type === type).map((item, index) =>\n                                                <div className=\"col-4\" key={index} onClick={e => { selectItem(item) }} >\n                                                    <img style={{ height: 50 }} src={getImageURL(item._id, 0)} />\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                        }\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        <div className=\"col-7\">\n            <Map {...props} />\n        </div>\n        <div className=\"col-2\">\n            <Properties {...props} />\n        </div>\n    </div>\n}\n\nexport default Editor\n\n\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport {reduxForm} from 'redux-form'\nimport { filter, fetch } from '../palette/paletteActions'\nimport {saveProperties,selectProperties, selectItem, saveMap, changeName, addItem, itemPointSelected } from './mapActions'\n\nimport Editor from '../../ui/Editor'\n\nconst mapStateToProps = state => ({\n    palette: state.palette.listFilterd,\n    filterText: state.palette.filter,\n    selectedItem: state.map.selectedItem,\n    currentSelected: state.map.currentSelected,\n    map: state.map.map,\n    mapName: state.map.mapName,\n    mapSensors: state.map.mapSensors,\n    selectedProperty: state.map.selectedProperty\n})\nconst mapDispatchToProps = ({\n    selectItem,\n    filter,\n    saveMap,\n    changeName,\n    addItem,\n    itemSelected: itemPointSelected,\n    selectProperties,\n    saveProperties\n})\nexport default reduxForm({ form: 'PropertiesForm' })(connect(mapStateToProps, mapDispatchToProps)(Editor))\n\n\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0zLjUgMTguNDlsNi02LjAxIDQgNEwyMiA2LjkybC0xLjQxLTEuNDEtNy4wOSA3Ljk3LTQtNEwyIDE2Ljk5eiIvPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjQUEyMjIyIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGlkPSJhIi8+CiAgICA8L2RlZnM+CiAgICA8Y2xpcFBhdGggaWQ9ImIiPgogICAgICAgIDx1c2Ugb3ZlcmZsb3c9InZpc2libGUiIHhsaW5rOmhyZWY9IiNhIi8+CiAgICA8L2NsaXBQYXRoPgogICAgPHBhdGggY2xpcC1wYXRoPSJ1cmwoI2IpIiBkPSJNOS4wMSAxNEgydjJoNy4wMXYzTDEzIDE1bC0zLjk5LTR2M3ptNS45OC0xdi0zSDIyVjhoLTcuMDFWNUwxMSA5bDMuOTkgNHoiLz4KPC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMjJBQTIyIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGlkPSJhIi8+CiAgICA8L2RlZnM+CiAgICA8Y2xpcFBhdGggaWQ9ImIiPgogICAgICAgIDx1c2Ugb3ZlcmZsb3c9InZpc2libGUiIHhsaW5rOmhyZWY9IiNhIi8+CiAgICA8L2NsaXBQYXRoPgogICAgPHBhdGggY2xpcC1wYXRoPSJ1cmwoI2IpIiBkPSJNOS4wMSAxNEgydjJoNy4wMXYzTDEzIDE1bC0zLjk5LTR2M3ptNS45OC0xdi0zSDIyVjhoLTcuMDFWNUwxMSA5bDMuOTkgNHoiLz4KPC9zdmc+\"","import React, { Component } from 'react'; \nimport $ from 'jquery';\nimport c3 from 'c3';\nimport '../css/c3.min.css'; \nimport connectIconON from '../icons/ic_compare_arrows_green_24px.svg'\nimport connectIconOFF from '../icons/ic_compare_arrows_red_24px.svg'\n\nclass SensorChart extends Component {\n    componentDidMount() {\n        const { wsStatusStop } = this.props;\n        if (this.modal && this.props.hasSelectedSensor) {\n            $(this.modal).modal();\n            $(this.modal).on('hidden.bs.modal', function (e) {\n                wsStatusStop();\n            })\n        }\n    }\n    componentWillUnmount() {\n\n\n    }\n    componentDidUpdate() {\n        console.log('SensorChart - componentDidUpdate')\n        const { hasSelectedSensor, startMonitoring, selectedSensor } = this.props;\n        const {sensor, values} = selectedSensor;\n        if (this.modal && hasSelectedSensor) {\n            $(this.modal).modal();\n\n        }\n\n        let data = [];\n        if (values) {\n            if (sensor !== '')\n                startMonitoring(sensor)\n            data = values.reduce((r, c) => {\n                r[0].push(new Date(c.data));\n                r[1].push(c.value);\n                return r;\n            }, [['x'], ['data1']]);\n        }\n        if (this.chartRef) {\n            this.chartRef.load({\n                columns: data\n            });\n\n\n        } else {\n            this.chartRef = c3.generate({\n                bindto: this.chart,\n                size: {\n                    height: 400,\n                    width: 600\n                },\n                data: {\n                    x: 'x',\n                    columns: data\n                },\n                axis: {\n                    x: {\n                        type: 'timeseries',\n                        tick: {\n                            format: '%H:%M:%S'\n                        }\n                    }\n                }\n            });\n        }\n\n        setTimeout(e => this.chartRef.resize({ height: this.chart.clientHeight, width: this.chart.clientWidth }), 300);\n\n\n\n    }\n\n    render() {\n        const { selectedSensor, wsConnection, startMonitoring } = this.props;\n        const {sensor} = selectedSensor;\n        return (<div className=\"modal  fade \" ref={e => this.modal = e} tabIndex=\"-1\" role=\"dialog\">\n            <div className=\"modal-dialog modal-lg\" role=\"document\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\">\n                            {wsConnection ? <img src={connectIconON} onClick={() => startMonitoring(sensor)} />\n                            :<img src={connectIconOFF} onClick={() => startMonitoring(sensor)} />}\n                            &nbsp; Sensor - {sensor ? sensor : 'Carregando...'}\n                        </h5>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <div ref={e => this.chart = e} style={{ height: '400px' }}></div>\n                    </div>\n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                    </div>\n                </div>\n            </div>\n        </div>)\n    }\n}\nexport default SensorChart","import React, { Component, Fragment } from 'react'  \nimport SensorChart from './SensorChart'; \nimport chartIcon from '../icons/ic_show_chart_black_24px.svg'\n\nconst SensorItem = ({sensor, onClick}) => (<div onClick={onClick} className=\"list-group-item list-group-item-action\">\n<img src={chartIcon}/> ::. {sensor}</div>)\n\nclass SensorList extends Component {\n    componentDidMount() {\n        const { fetchSensors } = this.props;\n        console.log(this.props);\n        fetchSensors();\n    }\n    render() {\n        const { list, fetchSensors, selectSensor,hasSelectedSensor } = this.props;\n        return (\n            <Fragment>\n                <div className=\"container\">\n                    <div className=\"form-group\">\n                        <input type=\"email\" className=\"form-control\" onChange={e => { fetchSensors(e.target.value) }} placeholder=\"Sensor Name\" />\n                        <small id=\"emailHelp\" className=\"form-text text-muted\">Minimun 1 characters</small>\n                    </div>\n                    <div className=\"list-group\">\n                        {list.map((sensor, index) => <SensorItem onClick={e => selectSensor(sensor)} key={index} sensor={sensor}/>)}\n                    </div>\n                </div>\n                {hasSelectedSensor?<SensorChart {...this.props} />:null}\n                \n            </Fragment>\n        )\n    }\n};\nexport default SensorList","import React, { Component, Fragment } from 'react'\nimport { fetchSensors, selectSensor, wsStatusStart, wsStatusStop } from './sensorActions';\nimport { connect } from 'react-redux'; \n\nimport SensorList from '../../ui/SensorList';\n\nconst mapStateToProps = (state) => ({\n    list: state.sensors.list,\n    currentFilter: state.sensors.currentFilter,\n    hasSelectedSensor: state.sensors.hasSelectedSensor,\n    wsConnection: state.sensors.wsConnection,\n    selectedSensor: state.sensors.selectedSensor\n\n});\nconst mapDispatchToProps = (dispatch) => ({\n    fetchSensors: (filter = '') => dispatch(fetchSensors(filter)),\n    selectSensor: selected => dispatch(selectSensor(selected)),\n    startMonitoring: e=>wsStatusStart(dispatch, e),\n    wsStatusStop: wsStatusStop\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SensorList);","import React from 'react'\nimport { renderField } from '../utils/utils' \nimport {Field} from 'redux-form'\nconst validate = values => {\n    const errors = {}\n    if (!values.username) errors.username = 'Campo obrigatório';\n    if (!values.password) errors.password = 'Campo obrigatório';\n    return errors\n}\nconst LoginForm = (props) => {\n    const { handleSubmit, loginError } = props;\n    return <form className=\"form\" role=\"form\" autoComplete=\"off\"\n        id=\"formLogin\" noValidate=\"\">\n        <div className=\"form-group\">\n            <Field type=\"text\" name=\"username\" label=\"E-mail\" component={renderField} />\n        </div>\n        <div className=\"form-group\">\n            <Field type=\"password\" name=\"password\" label=\"Password\" component={renderField} />\n        </div>\n        {loginError ? <div className=\"alert alert-danger\" role=\"alert\">\n            {loginError}\n        </div> : null}\n        <button onClick={handleSubmit} className=\"btn btn-success btn-lg float-right\" id=\"btnLogin\">Login</button>\n    </form>\n}\nconst LoginScreen = (props) =>{\n    const {onSubmit} = props;\n    return <div className=\"container py-5\">\n        <div className=\"row\">\n            <div className=\"col-md-12\">\n                <div className=\"row\">\n                    <div className=\"col-md-6 mx-auto\">\n                        <div className=\"card rounded-0\">\n                            <div className=\"card-header\">\n                                <h3 className=\"mb-0\">Login</h3>\n                            </div>\n                            <div className=\"card-body\">\n                                <LoginForm onSubmit={onSubmit} />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n}\n\nexport default LoginScreen;","import { actions } from './mapsActions'\nconst DEFAULT_STATE = {\n    list: [],\n    currentMap: {},\n    messages: []\n}\n\nexport default (state = DEFAULT_STATE, { type, payload }) => {\n    switch (type) {\n        case actions.FETCH_MAPS + \"_FULFILLED\":\n            return { ...state, list: payload.data }\n            break\n        case actions.FETCH_MAP_DETAIL + \"_FULFILLED\":\n            return { ...state, currentMap: payload.data }\n            break;\n        case actions.WS_CONNECTED:\n            return { ...state, messages: [] }\n            break;\n        case actions.WS_DISCONNECTED:\n            return { ...state, messages: [] }\n            break;\n        case actions.WS_MAP_MESSAGE:\n            return { ...state, messages: [payload,...state.messages] }\n            break;\n        default:\n            return state\n    }\n}","import { CHANGE_NAME, SELECT_ITEM, ADD_ITEM_ON_MAP, POINT_SELECTED, SAVE_PROPERTIES, SELECT_EDIT_PROPERTIES } from './mapActions'\nlet map = [];\nlet mapSize = 10;\nlet temp = new Array(mapSize)\nfor (let i = 0; i < mapSize; i++) {\n    map.push(new Array(mapSize));\n}\nconst DEFAULT_STATE = {\n    selectedItem: null,\n    map: map,\n    mapSensors: [],\n    mapName: \"\",\n    currentSelected: null,\n    selectedProperty: null\n}\n\nexport default (state = DEFAULT_STATE, { type, payload }) => {\n    switch (type) {\n        case SELECT_ITEM:\n            console.log(state);\n            console.log(payload);\n            return { ...state, selectedItem: payload }\n            break;\n        case ADD_ITEM_ON_MAP:\n            let temp = [...state.map]\n            temp[payload.x][payload.y].push(payload.item)\n            if (payload.item.type === 'SENSOR' || payload.item.type === 'ATUADOR') {\n                return {\n                    ...state,\n                    map: temp,\n                    mapSensors:\n                        [\n                            ...state.mapSensors,\n                            {\n                                slice: payload.item.id,\n                                sensor: '',\n                                position: { x: payload.x, y: payload.y }\n                            }\n                        ]\n                }\n            }\n            return { ...state, map: temp }\n        case POINT_SELECTED:\n            return { ...state, currentSelected: payload }\n        case SAVE_PROPERTIES:\n            // TODO: Fazer estado baseado na sel\n            return {\n                ...state, mapSensors: state.mapSensors.map(s => {\n                    if (s.slice == state.selectedProperty.slice && s.position == state.selectedProperty.position) {\n                        return {\n                            ...s,\n                            name: payload.name,\n                            sensor: payload.sensor\n                        }\n                    }\n                    return s;\n                }),\n                selectedProperty: null\n            }\n        case SELECT_EDIT_PROPERTIES:\n            return { ...state, selectedProperty: payload }\n            break;\n        case CHANGE_NAME:\n            return { ...state, mapName: payload }\n            break;\n        default:\n            return state\n            break;\n    }\n}","import { ADD_PALETTE, FETCH_PALETTE, REMOVE_PALETTE, FILTER_PALETTE } from './paletteActions'\nconst DEFAULT_STATE = {\n    list: [],\n    listFilterd: [],\n    loading: false,\n    filter: \"\"\n};\n\n\nexport default (state = DEFAULT_STATE, { type, payload }) => {\n    switch (type) {\n        case ADD_PALETTE + '_FULFILLED':\n            return {\n                ...state,\n                list: [...state.list, payload.data]\n            };\n            break;\n        case REMOVE_PALETTE + '_FULFILLED':\n            return {\n                ...state,\n                list: state.list.filter(e => e._id != payload.data._id)\n            };\n            break;\n\n        case FETCH_PALETTE + '_FULFILLED':\n            return { ...state, list: payload.data, loading: false, listFilterd: state.filter ? payload.data.filter(i => i.name.toLowerCase().indexOf(state.filter) >= 0) : payload.data };\n            break;\n        case FETCH_PALETTE + '_REJECTED':\n            return { ...state, list: [], loading: true };\n            break;\n        case FETCH_PALETTE + '_PENDING':\n            return { ...state, list: [], loading: true };\n            break;\n        case FILTER_PALETTE:\n            return { ...state, filter: payload, listFilterd: payload ? state.list.filter(i => i.name.toLowerCase().indexOf(payload) >= 0) : state.list }\n            break\n        default:\n            return state;\n            break;\n    }\n}","\nimport { \n    FETCH_SENSORS, \n    INVALID_FILTER, \n    SELECT_SENSOR, \n    SENSOR_UPDATE, \n    CLOSE_CHART, \n    WS_CONNECTED, \n    WS_DISCONNECTED } from './sensorActions';\nconst EMPTY_SENSOR = {\n    sensor: '',\n    values: []\n};\nconst DEFAULT_STATE = {\n    list: [],\n    selectedSensor: EMPTY_SENSOR,\n    hasSelectedSensor: false,\n    wsConnection: false,\n    limit: 100\n};\nexport default (state = DEFAULT_STATE, action) => {\n    switch (action.type) {\n        case WS_CONNECTED:\n            return { ...state, wsConnection: true }\n            break\n        case WS_DISCONNECTED:\n            return { ...state, wsConnection: false,hasSelectedSensor:false, selectedSensor: EMPTY_SENSOR }\n            break\n        case FETCH_SENSORS + '_FULFILLED':\n            return Object.assign({}, state, { list: action.payload.data });\n            break;\n        case INVALID_FILTER:\n            return Object.assign({}, state, { list: [] });\n            break;\n        case SENSOR_UPDATE:\n            const data = action.payload;\n            console.log(data)\n            if (state.selectedSensor && state.selectedSensor.values && state.selectedSensor.sensor == data.sensor) {\n                const newselectedSensor = Object.assign(\n                    state.selectedSensor,\n                    { values: [data.value, ...state.selectedSensor.values] })\n                    if(newselectedSensor.values.length> state.limit){\n                        newselectedSensor.values.splice(state.limit, newselectedSensor.values.length-state.limit)\n                    }\n                return Object.assign({}, state, { selectedSensor: newselectedSensor })\n            }\n            return state;\n            break;\n        case SELECT_SENSOR + '_FULFILLED':\n            return Object.assign({}, state, { selectedSensor: action.payload.data });\n            break;\n        case SELECT_SENSOR + '_REJECTED':\n            return Object.assign({}, state, { selectedSensor: EMPTY_SENSOR, hasSelectedSensor: false });\n            break;\n        case SELECT_SENSOR + '_PENDING':\n            return Object.assign({}, state, { selectedSensor: EMPTY_SENSOR, hasSelectedSensor: true });\n            break;\n        case CLOSE_CHART:\n            return Object.assign({}, state, { selectedSensor: EMPTY_SENSOR, hasSelectedSensor: false });\n        default:\n            return state;\n    }\n}","import {LOGIN} from './loginActions';\nexport default (state = {isLoged: true, error: ''}, action) => {\n    if(!action.payload) return state;\n    switch (action.type) {\n        case LOGIN:\n            if (action.payload.status || (action.payload.response && action.payload.response.status)) {\n                switch (action.payload.status || action.payload.response.status) {\n                    case 200:\n                        return {...state, isLoged: true, error: ''}\n                    case 401:\n                        return {...state, isLoged: false, error: 'Usuário ou senha invalidos'}\n                }\n            }\n            return {...state, isLoged: false, error: 'Erro ao tentar acessar o servidor'}\n        default:\n            return state;\n    }\n}","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport {goto} from '../modules/app/appReducers';\n\nclass MenuApp extends Component {\n    constructor(props) {\n        super(props)\n        this.goto = this.goto.bind(this)\n    }\n\n    goto(url) {\n        this.props.changeUrl(url)\n    }\n\n    render() {\n        const {url = \"\", routes} = this.props\n        return <div className=\"list-group\">\n            <div onClick={() => this.goto('/')} className={'list-group-item ' + (url == '/' ? 'active' : '')}>\n                Home\n            </div>\n\n            {routes.map((route, index) => {\n                    if (route.title)\n                        return (\n                            <div onClick={() => this.goto(route.path)}\n                                 className={ 'list-group-item ' + (url.startsWith(route.path) ? 'active' : '')}\n                                 key={index}>\n                                {route.title}\n                            </div>)\n                    return null;\n                }\n            )\n            }\n        </div>\n    }\n}\nconst mapStateToProps = (state) => ({\n    url: state.menu.currentUrl\n});\nexport default connect(mapStateToProps)(MenuApp);","import React, {Component} from 'react'\nimport {Router, Route} from 'react-router';\nimport createHashHistory from 'history/createHashHistory';\nimport {connect} from 'react-redux'\nimport MenuApp from './AppMenu';\nimport {goto} from '../modules/app/appReducers';\nimport Login from '../modules/login/Login';\nimport SensorList from '../modules/sensor/SensorList';\nimport Editor from '../modules/editor/Editor'\nimport ListPalette from '../modules/palette/ListPalette'\nimport MapList from '../modules/maps/MapList'\nimport MapDetail from '../modules/maps/MapDetail';\nconst history = createHashHistory({\n    queryKey: false\n})\nconst routes = [\n    {\n        title: '',\n        path: '/login',\n        component: Login\n    },{\n        title: 'Sensores',\n        path: '/sensor',\n        component: SensorList\n    },{\n        title: 'Editor',\n        path: '/editor',\n        component: Editor\n    },{\n        title: 'Palette',\n        path: '/palette/list',\n        component: ListPalette\n    }\n    ,{\n        title: 'Mapas',\n        path: '/mapas/list',\n        component: MapList\n    }\n    ,{\n        title: 'Map Detail',\n        path: '/mapas/detail',\n        component: MapDetail,\n        hide: true\n    }\n];\nclass RouterConfig extends Component {\n    componentDidMount() {\n        const {changeUrl, login} = this.props;\n        if (!login) {\n            changeUrl('/login')\n        } else {\n            changeUrl(history.location.pathname)\n        }\n    }\n    shouldComponentUpdate(nextProps){\n        if(nextProps.currentUrl && nextProps.currentUrl != this.props.currentUrl){\n            history.push(nextProps.currentUrl)\n            // this.props.changeUrl(nextProps.currentUrl)\n        }\n        return true;\n    }\n\n    render() {\n        const {changeUrl, login} = this.props;\n        return (\n            <Router history={history}>\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-2\">\n                            {login ? <MenuApp routes={routes} changeUrl={changeUrl}/> : null}\n                        </div>\n                        <div className=\"col-10\">\n                            {routes.map((route, index) => <Route key={index} path={route.path}\n                                                                 component={route.component}/>)}\n                        </div>\n                    </div>\n                </div>\n            </Router>\n        );\n    }\n}\nconst mapStateToProps = (state) => ({\n    login: state.login.isLoged,\n    currentUrl: state.menu.currentUrl\n})\nconst mapDispatch = (dispatch) => ({\n    changeUrl: (url) => {\n        //history.push(url);\n        dispatch(goto(url));\n    }\n});\nexport default connect(mapStateToProps, mapDispatch)(RouterConfig);\n"],"sourceRoot":""}