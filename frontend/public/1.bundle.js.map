{"version":3,"sources":["webpack:///./src/login/LoginScreen.jsx","webpack:///./src/maps/MapsDetail.jsx","webpack:///./src/maps/MapList.jsx","webpack:///./src/palette/FastAddPalette.jsx","webpack:///./src/palette/FormPalette.jsx","webpack:///./src/palette/ListPalette.jsx","webpack:///./src/icons/ic_remove_circle_black_24px.svg","webpack:///./src/editor/PropertiesForm.jsx","webpack:///./src/editor/Properties.jsx","webpack:///./src/editor/Item.jsx","webpack:///./src/water.png","webpack:///./src/editor/Editor.jsx","webpack:///./src/icons/ic_show_chart_black_24px.svg","webpack:///./src/App.jsx","webpack:///./src/icons/ic_compare_arrows_red_24px.svg","webpack:///./src/icons/ic_compare_arrows_green_24px.svg","webpack:///./src/sensor/SensorChart.jsx","webpack:///./src/sensor/SensorList.jsx","webpack:///./src/login/LoginForm.jsx","webpack:///./src/maps/mapsReducer.js","webpack:///./src/editor/mapReducer.js","webpack:///./src/palette/paletteReducer.js","webpack:///./src/sensor/sensorReducer.js","webpack:///./src/login/loginReducer.js","webpack:///./src/AppMenu.jsx","webpack:///./src/AppRouter.jsx","webpack:///./src/palette/paletteActions.js","webpack:///./src/utils/config.js","webpack:///./src/utils/utils.jsx","webpack:///./src/maps/mapsActions.js","webpack:///./src/editor/mapActions.js","webpack:///./src/login/loginActions.js","webpack:///./src/sensor/sensorActions.js","webpack:///./src/appReducers.jsx","webpack:///./src/editor/Map.jsx"],"names":["__webpack_require__","props","onSubmit","_react2","default","createElement","className","_LoginForm2","_react","_reactRedux","_paletteActions","_mapsActions","MapsDetail","Component","this","checkConnections","nextProps","_this2","messages","length","changed","currentMap","mapSensors","filter","s","sensor","map","mapRef","getWrappedInstance","updateSliceImage","getImageURL","slice","value","position","x","y","wsStatusStop","_props","startMonitoring","monitoring","_this3","_props2","_currentMap$name","name","undefined","_currentMap$map","_Map2","ref","el","m","index","key","data","connect","state","maps","dispatch","sensors","console","log","wsStatusStart","MapList","fetchMaps","list","selectMap","goto","item","onClick","e","_id","mapDispatchToProps","FastAddPalette","_classCallCheck","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","handleDropOrClick","acceptedFiles","rejectedFiles","type","setState","files","dataTransfer","save","bind","React","split","f","awesomeName","images","image","dropzoneProps","accept","multiple","onDrop","_reactDropzone2","_extends","style","width","height","borderWidth","borderColor","borderStyle","borderRadius","src","preview","_reduxForm","_utils","FileComponent","_ref","fields","_ref$meta","meta","error","submitFailed","push","member","Field","component","FileField","help","renderField","label","remove","reduxForm","form","handleSubmit","modal","show","Modal","title","buttons","renderFieldSelect","options","FieldArray","ListPalette","fetch","loading","_FastAddPalette2","_FormPalette2","palette","module","exports","data-dismiss","aria-label","aria-hidden","placeholder","_mapActions","selectProperties","saveProperties","selectedProperty","selectedItem","currentSelected","property","find","_jquery2","tabIndex","role","_PropertiesForm2","Item","selectItem","saveMap","changeName","listFilterd","filterText","mapName","onChange","target","removeIcon","id","data-toggle","data-target","aria-expanded","aria-controls","aria-labelledby","data-parent","overflowY","maxHeight","_Properties2","_redux","store","applyMiddleware","_reduxPromiseMiddleware2","createStore","appReducers","window","__REDUX_DEVTOOLS_EXTENSION__","Provider","_AppRouter2","_sensorActions","SensorChart","closeChart","hasSelectedSensor","on","values","reduce","r","c","Date","chartRef","load","columns","c3","generate","bindto","chart","size","axis","tick","format","setTimeout","resize","clientHeight","clientWidth","_props3","wsConnection","connectIconON","connectIconOFF","selectedSensor","SensorItem","chartIcon","SensorList","fetchSensors","selectSensor","Fragment","_SensorChart2","currentFilter","arguments","selected","loginError","login","validate","errors","username","password","autoComplete","noValidate","DEFAULT_STATE","__webpack_exports__","payload","_mapsActions__WEBPACK_IMPORTED_MODULE_0__","FETCH_MAPS","FETCH_MAP_DETAIL","WS_CONNECTED","WS_DISCONNECTED","WS_MAP_MESSAGE","Array","i","_mapActions__WEBPACK_IMPORTED_MODULE_0__","temp","_paletteActions__WEBPACK_IMPORTED_MODULE_0__","toLowerCase","indexOf","EMPTY_SENSOR","limit","action","_sensorActions__WEBPACK_IMPORTED_MODULE_0__","assign","newselectedSensor","splice","isLoged","_loginActions__WEBPACK_IMPORTED_MODULE_0__","status","response","MenuApp","url","changeUrl","_props$url","routes","route","path","startsWith","menu","currentUrl","_reactRouter","_appReducers","history","_createHashHistory2","queryKey","LoginScreen","Editor","hide","RouterConfig","location","pathname","Router","_AppMenu2","Route","ADD_PALETTE","REMOVE_PALETTE","FETCH_PALETTE","FILTER_PALETTE","FormData","append","JSON","stringify","img","axios__WEBPACK_IMPORTED_MODULE_0___default","a","put","_utils_config__WEBPACK_IMPORTED_MODULE_1__","get","delete","BASE_URL","host","BASE_WS_URL","input","touched","_ref2","_ref2$meta","eventOrValue","_this$props$input","onBlur","_props$meta","selectedFile","disabled","children","actions","SELECT_MAP","wsStatus","lastConnection","close","every","v","WebSocket","onopen","onmessage","msg","parse","onclose","onerror","err","SELECT_ITEM","ADD_ITEM_ON_MAP","POINT_SELECTED","SAVE_PROPERTIES","SELECT_EDIT_PROPERTIES","SAVEMAP","CHANGE_NAME","post","addItem","itemPointSelected","prop","LOGIN","then","res","instance","defaultConfig","headers","authorization","FETCH_SENSORS","INVALID_FILTER","SELECT_SENSOR","SENSOR_UPDATE","CLOSE_CHART","sensorName","axios__WEBPACK_IMPORTED_MODULE_1___default","_utils_config__WEBPACK_IMPORTED_MODULE_0__","combineReducers","loginReducer","sensorReducer","paletteReducer","mapReducer","mapsReducer","d3","Point","Map","baseX","comps","z","svg","select","node","attr","mode","rootsvg","root","mainsvg","grid","dragingElement","idx","event","preventDefault","button","selectElement","createRect","coords","mouse","currentTarget","p1","getTileCoordinates","isoTo2D","x1","Math","min","p2","x2","max","y1","y2","p","itemSelected","twoDToIso","get2dFromTileCoordinates","getRectPoints","selectAll","w","getBBox","parentNode","appendChild","teste","Image","onload","drag","b","coordinates","j","zoom","WheelEvent","scaleExtent","transform","zoomIdentity","translate","scale","createGrid","MapItem","_p1","_p2","_p3","_p4","init","len","het","_loop","_p","_loop2","t","sort","saveSvgAsPng","pt","tempPt","tileHeight","floor","_this4","isOver","canDrop","connectDropTarget","isOverCurrent","withRef"],"mappings":"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","file":"1.bundle.js","sourcesContent":["import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { connect } from 'react-redux'\nimport { renderField } from '../utils/utils'\nimport { login } from './loginActions'\nimport LoginForm from './LoginForm'\nconst LoginScreen = (props) =>{\n    const {onSubmit} = props;\n    return <div className=\"container py-5\">\n        <div className=\"row\">\n            <div className=\"col-md-12\">\n                <div className=\"row\">\n                    <div className=\"col-md-6 mx-auto\">\n                        <div className=\"card rounded-0\">\n                            <div className=\"card-header\">\n                                <h3 className=\"mb-0\">Login</h3>\n                            </div>\n                            <div className=\"card-body\">\n                                <LoginForm onSubmit={onSubmit} />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n}\n\nexport default LoginScreen;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport Map from '../editor/Map'\nimport {getImageURL} from '../palette/paletteActions'\nimport { wsStatusStart, wsStatusStop } from './mapsActions'\nclass MapsDetail extends Component {\n    componentDidMount(){\n        this.checkConnections()\n    }\n    UNSAFE_componentWillUpdate(nextProps){\n        if(this.props.messages.length != nextProps.messages.length && nextProps.messages.length > 0){   \n            const changed = nextProps.messages[0]\n            const sensor = this.props.currentMap.mapSensors.filter(s=>s.sensor == changed.sensor);\n            sensor.map(s => {\n                this.mapRef.getWrappedInstance().updateSliceImage(\n                    getImageURL(s.slice,changed.value.value),\n                    s.position.x,\n                    s.position.y,s.slice)\n                return\n            })\n            \n        }\n        \n       \n    }\n    componentWillUnmount(){\n        wsStatusStop();\n    }\n    checkConnections(){\n        const {startMonitoring, wsStatusStop, currentMap} = this.props;\n        if(this.monitoring){\n            wsStatusStop()\n        }\n        if(currentMap && currentMap.mapSensors){\n            startMonitoring(currentMap.mapSensors.map(s => s.sensor));\n            this.monitoring = true;\n        }\n        \n    }\n    \n    render() {\n        const { currentMap, messages } = this.props\n        const { name = '', map = [] } = currentMap;\n        return <div>\n            <h1>{name}</h1>\n            <Map ref={el=>this.mapRef = el} map={map}></Map>\n            Mensagens:\n            {messages.map((m, index)=>(\n                <div key={index}>\n                <p>{m.sensor}:{m.value.value}&nbsp;<small>{m.value.data}</small></p>\n                </div>\n            ))}\n        </div>\n    }\n}\n\nconst mapsStateToProps = (state) => ({\n    currentMap: state.maps.currentMap,\n    messages: state.maps.messages\n})\nconst mapDispatchToProps = dispatch=>({\n    startMonitoring: (sensors) => {\n        console.log('startMonitoring:',sensors);\n        wsStatusStart(dispatch, sensors)\n    },\n    wsStatusStop,\n})\nexport default connect(mapsStateToProps, mapDispatchToProps)(MapsDetail)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { actions, fetchMaps,selectMap } from './mapsActions' \n\nclass MapList extends Component {\n    componentDidMount() {\n        const { fetchMaps } = this.props;\n        fetchMaps();\n    }\n    render() {\n        const { list,selectMap,goto  } = this.props;\n        return (\n            <div>\n               \n                <ul className=\"list-group\">\n                    {list.map((item, index) =>\n                        <li onClick={e=>selectMap(item._id)} key={index} className=\"list-group-item\">\n                            {item.name}\n                        </li>)}\n                </ul>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    list: state.maps.list\n})\nconst mapDispatchToProps = ({\n    fetchMaps,\n    selectMap \n})\nexport default connect(mapStateToProps, mapDispatchToProps)(MapList);","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { fetch, save, remove } from './paletteActions'\nimport Dropzone from 'react-dropzone'\nclass FastAddPalette extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            files:[]\n        }\n        this.save = this.save.bind(this)\n    }\n    handleDropOrClick = (acceptedFiles, rejectedFiles, e) => {\n        let eventOrValue = e;\n\n        if (e.type === 'drop') {\n            console.log(\"acceptedFiles:\", acceptedFiles)\n            console.log(\"rejectedFiles:\", rejectedFiles)\n            if (acceptedFiles.length) {\n                // FileList or [File]\n                this.setState({files:acceptedFiles});\n                eventOrValue = (e.dataTransfer && e.dataTransfer.files) || acceptedFiles;\n            } else {\n                eventOrValue = null;\n            }\n        }\n    }\n    awesomeName(name){\n        let ret = name.split('.')[0];\n        return ret;\n        \n    }\n    save(){\n        this.state.files.map(f=>{\n            console.log(f);\n            this.props.save({\n                name:this.awesomeName(f.name)   ,\n                type:'IMAGE',\n                images:[\n                    {\n                        image:[f],\n                        value:1\n                    }\n                ]\n            })\n        })\n    }\n\n    render() {\n        let dropzoneProps = {\n            accept: \"image/png\",\n            multiple: true,\n            onDrop: this.handleDropOrClick,\n        };\n        let style = {\n            width: '50px',\n            height: '50px',\n            borderWidth: '2px',\n            borderColor: 'rgb(102, 102, 102)',\n            borderStyle: 'dashed',\n            borderRadius: '5px',\n        }\n        return (\n            <div>\n                <Dropzone style={style}  {...dropzoneProps} >\n\n                </Dropzone>\n                <button key='1' className='btn btn-primary' onClick={this.save}>Salvar</button>\n                {!this.state.files ? 'Selecione um arquivo' :\n                    this.state.files.map((f, index) => <img width='100px' key={index} src={f.preview}/>)}\n            </div>\n        );\n    }\n}\nconst mapDispatchToProps=({\n    save:save\n})\nexport default connect(null, mapDispatchToProps)(FastAddPalette)","import React from 'react';\nimport { Field, FieldArray, reduxForm } from 'redux-form';\nimport { FileField, renderField, renderFieldSelect } from '../utils/utils'\nimport { Modal } from '../utils/utils'\nconst FileComponent = ({ fields, meta: { error, submitFailed } }) => {\n\n    return <div className=\"form-group col-md-12\">\n        <button className='btn btn-secondary' type=\"button\" onClick={() => fields.push({})}> + Image</button> {submitFailed && error && <span>{error}</span>}\n        <div>\n            {\n                fields.map((member, index) => (\n                    <div className=\"col-6\" key={index}>\n                        <h4>Imagem #{index + 1}</h4>\n                        <div className=\"row\">\n                            <div className=\"col-6\">\n                                <Field accept=\"image/png\" name={`${member}.image`} component={FileField} />\n                            </div><div className=\"col-5\">\n                                <Field help=\"Informe o valor do sensor normalmente entre 0 e 1\" name={`${member}.status`} component={renderField} label=\"Status\" />\n                            </div><div className=\"col-1\">\n                                <button className=\"btn\" onClick={e => { fields.remove(index) }} ><i className=\"fa fa-window-close\" /></button>\n                            </div>\n                        </div>\n                    </div>\n                ))\n            }\n        </div>\n    </div>\n\n}\nconst FormPalette = props => {\n    const { handleSubmit } = props;\n    const options = ['ATUADOR', 'SENSOR', 'IMAGE']\n    let el = false;\n    let modal = false;\n    return (<div>\n        <button className=\"btn\" onClick={e => { modal.show() }}>+</button>\n        <Modal title=\"Novo Item\" ref={e => modal = e} buttons={[<button key='1' className='btn btn-primary' onClick={handleSubmit}>Salvar</button>]}>\n            <div>\n                <div className=\"form-row\">\n                    <div className=\"form-group col-md-6\">\n                        <Field component={renderField} name='name' label=\"Nome\" help=\"Nome do componente para facilitar sua busca\" />\n                    </div>\n                    <div className=\"form-group col-md-6\">\n                        <Field component={renderFieldSelect} name='type' label=\"Tipo\" options={options} help=\"ATUADOR, SENSOR, IMAGE\" />\n                    </div>\n                </div>\n                <div className=\"form-row\">\n                    <FieldArray name=\"images\" component={FileComponent} />\n                </div>\n            </div>\n        </Modal>\n    </div>\n    )\n}\n\nexport default reduxForm({ form: 'FormPalette' })(FormPalette);","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { fetch, getImageURL, save, remove } from './paletteActions'\nimport { Modal } from '../utils/utils'\nimport FormPalette from './FormPalette'\nimport FastAddPalette from './FastAddPalette'\nclass ListPalette extends Component {\n    componentDidMount() {\n        const { fetch } = this.props;\n        fetch()\n    }\n    render() {\n        const { list, loading, save, remove } = this.props\n        return (\n            <div>\n                <FastAddPalette />\n                <FormPalette onSubmit={save} />\n                <ul className=\"list-group\">\n                    {list.map((item, index) => <li key={index} className=\"list-group-item\">\n                    <img style={{ width: 50 }} src={getImageURL(item._id, 0)} />\n                    {item.type} - {item.name}\n                    <i onClick={e => remove(item._id)} className=\"fa fa-trash\" /></li>)}\n                </ul>\n\n\n            </div>\n        )\n    }\n}\nconst mapStateToProps = state => ({\n    list: state.palette.list\n})\nconst mapDispatchToProps = {\n    fetch: fetch,\n    save: save,\n    remove: remove\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ListPalette);","module.exports = \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KICAgIDxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem01IDExSDd2LTJoMTB2MnoiLz4KPC9zdmc+\"","import React from 'react'\nimport { reduxForm, Field } from 'redux-form'\nimport { getImageURL } from '../palette/paletteActions'\n\nconst PropertiesForm = (props) => {\n    const { slice, handleSubmit, position } = props\n    return <div className=\"modal-content\">\n        <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Sensor</h5>\n            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n        </div>\n        <div className=\"modal-body\">\n            <div>\n                <div className=\"form-group\">\n                    <label>Image:</label>\n                    <p><img src={getImageURL(slice)} style={{height:50}}/></p>\n                    <small>Posição:{position.x},{position.y}</small>\n                </div>\n                <div className=\"form-group\">\n                    <label>Nome</label>\n                    <Field type=\"text\" component='input' name='name' className=\"form-control\" placeholder=\"Nome\" />\n                </div>\n                <div className=\"form-group\">\n                    <label>Sensor</label>\n                    <Field type=\"text\" component='input' name='sensor' className=\"form-control\" placeholder=\"Sensor\" />\n                </div>\n            </div>\n        </div>\n        <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\n            <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" onClick={handleSubmit}>Salvar</button>\n        </div>\n    </div>\n\n}\n\nexport default reduxForm({ form: 'PropertiesForm' })(PropertiesForm)","import React from 'react';\nimport { connect } from 'react-redux';\nimport $ from 'jquery';\nimport PropertiesForm from './PropertiesForm'\nimport { selectProperties, saveProperties } from './mapActions'\nimport { getImageURL } from '../palette/paletteActions';\nconst Properties = (props) => {\n    const { selectedItem, mapSensors, palette, selectedProperty, selectProperties, saveProperties } = props;\n    return <div>\n\n        {mapSensors.map(\n            (property, index) =>\n                <div key={index}>\n                    <div className=\"card\" style={{width: '18rem'}}>\n                        <img className=\"card-img-top\" src={getImageURL(property.slice)} />\n                        <div className=\"card-body\">\n                            <h5 className=\"card-title\">{property.name}</h5>\n                            <p className=\"card-text\">\n                                Imagem: {palette.find(item => item._id === property.slice).name}\n                            </p>\n                            <p>Sensor:  {property.sensor || 'Não Ligado'}</p>\n                            <button className='btn  btn-primary' onClick={e => { selectProperties(property) }} >Licar</button>\n                        </div>\n                    </div>\n                </div>\n        )}\n        {selectedProperty ?\n            <div className=\"modal  fade \" ref={e => $(e).modal()} tabIndex=\"-1\" role=\"dialog\">\n                <div className=\"modal-dialog modal-lg\" role=\"document\">\n                    <PropertiesForm {...selectedProperty} onSubmit={saveProperties} />\n                </div>\n            </div>\n            : null}\n\n    </div>\n}\n\nconst mapStateToProps = (state) => ({\n    mapSensors: state.map.mapSensors,\n    palette: state.palette.list,\n    selectedProperty: state.map.selectedProperty,\n    selectedItem: state.map.currentSelected\n})\nconst mapDispatchToProps = ({\n    selectProperties,\n    saveProperties\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(Properties);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Item extends Component {\n    render() {\n        return <div>item1</div>\n    }\n}\nexport default Item","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABACAYAAADs39J0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALrSURBVHhe7dtNSxtBGAfw/Sb5WiIEv0KpND1IexEUTYNFaT1Y9WDpzZt4qBT64sVERJFSqNqA+j1GZtMN62Z28sxkZnZe/sKAxCVh5+fzMjuTLIvg5+DqcYGPCG4l7FvIIS7vh5+vHhgf/HfANGBahShAAOMYYxoEYByBqEIAxhLMrBCAMQRjGgIwmjC2IQBDhHENAZgamKYhAPMfxjeIZGF8h0gGJjSIaGFCh4gGJjaIYGFihwgGJjUIb2FSh/AGBhCjDbG64WyjDBByCGcRAwg1CGswgJgNwhgMIMxCaMMAwi4EGQYQbiGkMFuD2/G5Jlkrh7/ZR+ue3Qyz5bO/bLV/w7YvhtLeGiD2QN7371jn52/24vs1y0GKARh7ky76hy5DcIwJEMC4Adka/BtHRAEhBQGMHRgeEW9O/+SRUDey9R/9ccoqpy+kMnMosogow7w6/sWyk16bfTnoMsCYAyjqhahGiCKDQ7zbXGF7r+dGIMUAjBkUHQiOMQECmNlAqBBLh0dsc62TA1THswgpRwtSGR3HBIQ0QgBDw6BCvDwZsI3eW2FEKEUIYMQwVIhysRalJ+WUVQVJvcaotK9F10SFGKesr732ft3ET3s9la5s+3w4dUHH21mdiCiD7Xbm9vPjz9+68y3ATKYnlxCfFudbE18SAMwIpXGIqkyqMN5BpArjPUQqMFQIvo5Y+9gjrSNEXRUv1sIaQfzKX+1lsaQyFYjVnQ9sZ2lBC8MaRCwRw9cR0/YjePvKIyIIiFBhqAu6YCFCgYkuNanWHF9qDGWrNOjUFAoM9aFfNKnJZ5jiXJPsAEGyEE3UGECohovlh5giEEQEEclG8a8ep+H7Ed4v6Ijz5ewykzCm9iOsPOJwNqOGPsgEjO4OHX/25OwRh6H5cvY2s8CobpUCQoFVB0YFBBGhgFG+VAWGAgIITQiddYwMBBCGIFRgnG4MWbq/YN9WlMqqx2nQvjbAW4ZB19QAQN1HcphYIuIJwUxQEBOaNJ8AAAAASUVORK5CYII=\"","import React, { Component } from 'react'\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport Map from './Map'\nimport Item from './Item'\nimport { connect } from 'react-redux'\nimport { getImageURL, filter, fetch } from '../palette/paletteActions'\nimport { selectItem, saveMap, changeName } from './mapActions'\nimport Properties from './Properties';\nimport removeIcon from '../icons/ic_remove_circle_black_24px.svg'\nconst Editor = props => {\n    const { palette, selectItem, filter, filterText, mapSensors, selectedItem, saveMap, map, mapName, changeName } = props\n\n    return <div className=\"row\">\n        <div className=\"col-3\">\n            <nav className=\"navbar navbar-light bg-light\" style={{ height: 50 }}>\n                <div className=\"col-6\">\n                    <input type=\"text\" className=\"form-control \" value={filterText} onChange={e => filter(e.target.value)} placeholder=\"Filtro\" />\n                </div>\n\n                {selectedItem ?\n                    <div className=\"col-6\" style={{ height: 50 }}>\n                        <div>\n                            <img style={{ height: 50 }} src={getImageURL(selectedItem._id)} />\n                            <img src={removeIcon} onClick={e => { selectItem(null) }} className=\"mr-3\" />\n                        </div>\n                    </div>\n                    : null}\n            </nav>\n            <nav className=\"navbar navbar-light bg-light\" style={{ height: 50 }}>\n                <div className=\"col-6\">\n                    <input type=\"text\" className=\"form-control \" value={mapName} onChange={e => changeName(e.target.value)} placeholder=\"Nome do Mapa\" />\n                </div>\n                <div className=\"col-6\">\n                    <button className=\"btn\" onClick={e => saveMap({ map: map, name: mapName, mapSensors: mapSensors })} >Salvar</button>\n                </div>\n\n            </nav>\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    <div id=\"accordion\">\n                        {['IMAGE', 'SENSOR', 'ATUADOR'].map(type =>\n                            <div className=\"card\" key={type} >\n                                <div className=\"card-header\" id={\"heading\" + type}>\n                                    <h5 className=\"mb-0\">\n                                        <button className=\"btn btn-link\" data-toggle=\"collapse\" data-target={\"#collapse\" + type} aria-expanded=\"true\" aria-controls={\"collapse\" + type}>{type}</button>\n                                    </h5>\n                                </div>\n                                <div id={\"collapse\" + type} className=\"collapse show\" aria-labelledby={\"heading\" + type} data-parent=\"#accordion\">\n                                    <div className=\"card-body\">\n                                        <div className=\"row\"  style={{overflowY:'scroll', maxHeight:'200px'}}>\n                                            {palette.filter(item => item.type === type).map((item, index) =>\n                                                <div className=\"col-4\" key={index} onClick={e => { selectItem(item) }} >\n                                                    <img style={{ height: 50 }} src={getImageURL(item._id, 0)} />\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                        }\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        <div className=\"col-7\">\n            <Map map={map} />\n        </div>\n        <div className=\"col-2\">\n            <Properties />\n        </div>\n    </div>\n}\nconst mapStateToProps = state => ({\n    palette: state.palette.listFilterd,\n    filterText: state.palette.filter,\n    selectedItem: state.map.selectedItem,\n    map: state.map.map,\n    mapName: state.map.mapName,\n    mapSensors: state.map.mapSensors,\n})\nconst mapDispatchToProps = ({\n    selectItem: selectItem,\n    filter: filter,\n    saveMap: saveMap,\n    changeName: changeName\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(Editor)\n\n\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0zLjUgMTguNDlsNi02LjAxIDQgNEwyMiA2LjkybC0xLjQxLTEuNDEtNy4wOSA3Ljk3LTQtNEwyIDE2Ljk5eiIvPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4=\"","import React from 'react';\nimport AppRouter from './AppRouter';\nimport {createStore, applyMiddleware,} from 'redux'\nimport {Provider} from 'react-redux';\nimport promiseMiddleware from 'redux-promise-middleware'\nimport appReducers from './appReducers';\n\nimport './App.css'\nimport 'popper.js'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap/dist/js/bootstrap.bundle.min'\n\nimport LoginScreen from './login/LoginScreen'\nimport {login} from './login/loginActions'\n\n\nlet store = applyMiddleware(promiseMiddleware())(createStore)(appReducers,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nconst App = props => (\n    <Provider store={store}>\n        <AppRouter/>\n    </Provider>\n);\n\nexport default App;","module.exports = \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjQUEyMjIyIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGlkPSJhIi8+CiAgICA8L2RlZnM+CiAgICA8Y2xpcFBhdGggaWQ9ImIiPgogICAgICAgIDx1c2Ugb3ZlcmZsb3c9InZpc2libGUiIHhsaW5rOmhyZWY9IiNhIi8+CiAgICA8L2NsaXBQYXRoPgogICAgPHBhdGggY2xpcC1wYXRoPSJ1cmwoI2IpIiBkPSJNOS4wMSAxNEgydjJoNy4wMXYzTDEzIDE1bC0zLjk5LTR2M3ptNS45OC0xdi0zSDIyVjhoLTcuMDFWNUwxMSA5bDMuOTkgNHoiLz4KPC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMjJBQTIyIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGlkPSJhIi8+CiAgICA8L2RlZnM+CiAgICA8Y2xpcFBhdGggaWQ9ImIiPgogICAgICAgIDx1c2Ugb3ZlcmZsb3c9InZpc2libGUiIHhsaW5rOmhyZWY9IiNhIi8+CiAgICA8L2NsaXBQYXRoPgogICAgPHBhdGggY2xpcC1wYXRoPSJ1cmwoI2IpIiBkPSJNOS4wMSAxNEgydjJoNy4wMXYzTDEzIDE1bC0zLjk5LTR2M3ptNS45OC0xdi0zSDIyVjhoLTcuMDFWNUwxMSA5bDMuOTkgNHoiLz4KPC9zdmc+\"","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport $ from 'jquery';\nimport c3 from 'c3';\nimport '../css/c3.min.css';\nimport { wsStatusStart, wsStatusStop, closeChart } from './sensorActions';\nimport connectIconON from '../icons/ic_compare_arrows_green_24px.svg'\nimport connectIconOFF from '../icons/ic_compare_arrows_red_24px.svg'\n\nclass SensorChart extends Component {\n    componentDidMount() {\n        const { wsStatusStop, closeChart } = this.props;\n        if (this.modal && this.props.hasSelectedSensor) {\n            $(this.modal).modal();\n            $(this.modal).on('hidden.bs.modal', function (e) {\n                console.log('aaaaaaaaaaaaaaaaaaaa');\n                closeChart()\n                wsStatusStop();\n            })\n        }\n    }\n    componentWillUnmount() {\n\n\n    }\n    componentDidUpdate() {\n        console.log('SensorChart - componentDidUpdate')\n        const { hasSelectedSensor, startMonitoring, values, title } = this.props;\n        if (this.modal && hasSelectedSensor) {\n            $(this.modal).modal();\n\n        }\n\n        let data = [];\n        if (values) {\n            if (title !== '')\n                startMonitoring(title)\n            data = values.reduce((r, c) => {\n                r[0].push(new Date(c.data));\n                r[1].push(c.value);\n                return r;\n            }, [['x'], ['data1']]);\n        }\n        if (this.chartRef) {\n            this.chartRef.load({\n                columns: data\n            });\n\n\n        } else {\n            this.chartRef = c3.generate({\n                bindto: this.chart,\n                size: {\n                    height: 400,\n                    width: 600\n                },\n                data: {\n                    x: 'x',\n                    columns: data\n                },\n                axis: {\n                    x: {\n                        type: 'timeseries',\n                        tick: {\n                            format: '%H:%M:%S'\n                        }\n                    }\n                }\n            });\n        }\n\n        setTimeout(e => this.chartRef.resize({ height: this.chart.clientHeight, width: this.chart.clientWidth }), 300);\n\n\n\n    }\n\n    render() {\n        const { title, wsConnection, startMonitoring } = this.props;\n        return (<div className=\"modal  fade \" ref={e => this.modal = e} tabIndex=\"-1\" role=\"dialog\">\n            <div className=\"modal-dialog modal-lg\" role=\"document\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\">\n                            {wsConnection ? <img src={connectIconON} onClick={() => startMonitoring(title)} />\n                            :<img src={connectIconOFF} onClick={() => startMonitoring(title)} />}\n                            &nbsp; Sensor - {title ? title : 'Carregando...'}\n                        </h5>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <div ref={e => this.chart = e} style={{ height: '400px' }}></div>\n                    </div>\n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                    </div>\n                </div>\n            </div>\n        </div>)\n    }\n}\nconst mapStateToProps = state => ({\n    title: state.sensors.selectedSensor.sensor,\n    values: state.sensors.selectedSensor.values,\n    hasSelectedSensor: state.sensors.hasSelectedSensor,\n    wsConnection: state.sensors.wsConnection\n});\nconst mapDispatchToProps = dispatch => ({\n    startMonitoring: (sensor) => {\n        wsStatusStart(dispatch, [sensor])\n    },\n    wsStatusStop,\n    closeChart: () => { dispatch(closeChart()) }\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(SensorChart);","import React, { Component, Fragment } from 'react'\nimport { fetchSensors, selectSensor } from './sensorActions';\nimport { connect } from 'react-redux';\nimport SensorChart from './SensorChart'; \nimport chartIcon from '../icons/ic_show_chart_black_24px.svg'\n\nconst SensorItem = ({sensor, onClick}) => (<div onClick={onClick} className=\"list-group-item list-group-item-action\">\n<img src={chartIcon}/> ::. {sensor}</div>)\n\nclass SensorList extends Component {\n    componentDidMount() {\n        const { fetchSensors } = this.props;\n        console.log(this.props);\n        fetchSensors();\n    }\n    render() {\n        const { list, fetchSensors, selectSensor,hasSelectedSensor } = this.props;\n        return (\n            <Fragment>\n                <div className=\"container\">\n                    <div className=\"form-group\">\n                        <input type=\"email\" className=\"form-control\" onChange={e => { fetchSensors(e.target.value) }} placeholder=\"Sensor Name\" />\n                        <small id=\"emailHelp\" className=\"form-text text-muted\">Minimun 1 characters</small>\n                    </div>\n                    <div className=\"list-group\">\n                        {list.map((sensor, index) => <SensorItem onClick={e => selectSensor(sensor)} key={index} sensor={sensor}/>)}\n                    </div>\n                </div>\n                {hasSelectedSensor?<SensorChart />:null}\n                \n            </Fragment>\n        )\n    }\n};\n\nconst mapStateToProps = (state) => ({\n    list: state.sensors.list,\n    currentFilter: state.sensors.currentFilter,\n    hasSelectedSensor: state.sensors.hasSelectedSensor\n});\nconst mapDispatchToProps = (dispatch) => ({\n    fetchSensors: (filter = '') => dispatch(fetchSensors(filter)),\n    selectSensor: selected => dispatch(selectSensor(selected))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SensorList);","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { connect } from 'react-redux'\nimport { renderField } from '../utils/utils'\nimport { login } from './loginActions'\nconst validate = values => {\n    const errors = {}\n    if (!values.username) errors.username = 'Campo obrigatório';\n    if (!values.password) errors.password = 'Campo obrigatório';\n    return errors\n}\nconst LoginForm = (props) => {\n    const { handleSubmit, loginError } = props;\n    return <form className=\"form\" role=\"form\" autoComplete=\"off\"\n        id=\"formLogin\" noValidate=\"\">\n        <div className=\"form-group\">\n            <Field type=\"text\" name=\"username\" label=\"E-mail\" component={renderField} />\n        </div>\n        <div className=\"form-group\">\n            <Field type=\"password\" name=\"password\" label=\"Password\" component={renderField} />\n        </div>\n        {loginError ? <div className=\"alert alert-danger\" role=\"alert\">\n            {loginError}\n        </div> : null}\n        <button onClick={handleSubmit} className=\"btn btn-success btn-lg float-right\" id=\"btnLogin\">Login</button>\n    </form>\n}\n\nconst mapStateToProps = (state) => ({\n    loginError: state.login.error\n})\nexport default connect(mapStateToProps)(\n    reduxForm(\n        {\n            form: 'login',\n            validate\n        })(LoginForm));","import { actions } from './mapsActions'\nconst DEFAULT_STATE = {\n    list: [],\n    currentMap: {},\n    messages: []\n}\n\nexport default (state = DEFAULT_STATE, { type, payload }) => {\n    switch (type) {\n        case actions.FETCH_MAPS + \"_FULFILLED\":\n            return { ...state, list: payload.data }\n            break\n        case actions.FETCH_MAP_DETAIL + \"_FULFILLED\":\n            return { ...state, currentMap: payload.data }\n            break;\n        case actions.WS_CONNECTED:\n            return { ...state, messages: [] }\n            break;\n        case actions.WS_DISCONNECTED:\n            return { ...state, messages: [] }\n            break;\n        case actions.WS_MAP_MESSAGE:\n            return { ...state, messages: [payload,...state.messages] }\n            break;\n        default:\n            return state\n    }\n}","import { CHANGE_NAME, SELECT_ITEM, ADD_ITEM_ON_MAP, POINT_SELECTED, SAVE_PROPERTIES, SELECT_EDIT_PROPERTIES } from './mapActions'\nlet map = [];\nlet mapSize = 10;\nlet temp = new Array(mapSize)\nfor (let i = 0; i < mapSize; i++) {\n    map.push(new Array(mapSize));\n}\nconst DEFAULT_STATE = {\n    selectedItem: null,\n    map: map,\n    mapSensors: [\n        // {\n        //     sensor: id,\n        //     slice: id,\n        //     name: String\n        // }\n    ],\n    mapName: \"\",\n    currentSelected: null,\n    selectedProperty: null\n}\n\nexport default (state = DEFAULT_STATE, { type, payload }) => {\n    switch (type) {\n        case SELECT_ITEM:\n            return { ...state, selectedItem: payload }\n            break;\n        case ADD_ITEM_ON_MAP:\n            let temp = [...state.map]\n            temp[payload.x][payload.y].push(payload.item)\n            if (payload.item.type === 'SENSOR' || payload.item.type === 'ATUADOR') {\n                return {\n                    ...state,\n                    map: temp,\n                    mapSensors:\n                        [\n                            ...state.mapSensors,\n                            {\n                                slice: payload.item.id,\n                                sensor: '',\n                                position: { x: payload.x, y: payload.y }\n                            }\n                        ]\n                }\n            }\n            return { ...state, map: temp }\n        case POINT_SELECTED:\n            return { ...state, currentSelected: payload }\n        case SAVE_PROPERTIES:\n            // TODO: Fazer estado baseado na sel\n            return {\n                ...state, mapSensors: state.mapSensors.map(s => {\n                    if (s.slice == state.selectedProperty.slice && s.position == state.selectedProperty.position) {\n                        return {\n                            ...s,\n                            name: payload.name,\n                            sensor: payload.sensor\n                        }\n                    }\n                    return s;\n                }),\n                selectedProperty: null\n            }\n        case SELECT_EDIT_PROPERTIES:\n            return { ...state, selectedProperty: payload }\n            break;\n        case CHANGE_NAME:\n            return { ...state, mapName: payload }\n            break;\n        default:\n            return state\n            break;\n    }\n}","import { ADD_PALETTE, FETCH_PALETTE, REMOVE_PALETTE, FILTER_PALETTE } from './paletteActions'\nconst DEFAULT_STATE = {\n    list: [],\n    listFilterd: [],\n    loading: false,\n    filter: \"\"\n};\n\n\nexport default (state = DEFAULT_STATE, { type, payload }) => {\n    switch (type) {\n        case ADD_PALETTE + '_FULFILLED':\n            return {\n                ...state,\n                list: [...state.list, payload.data]\n            };\n            break;\n        case REMOVE_PALETTE + '_FULFILLED':\n            return {\n                ...state,\n                list: state.list.filter(e => e._id != payload.data._id)\n            };\n            break;\n\n        case FETCH_PALETTE + '_FULFILLED':\n            return { ...state, list: payload.data, loading: false, listFilterd: state.filter ? payload.data.filter(i => i.name.toLowerCase().indexOf(state.filter) >= 0) : payload.data };\n            break;\n        case FETCH_PALETTE + '_REJECTED':\n            return { ...state, list: [], loading: true };\n            break;\n        case FETCH_PALETTE + '_PENDING':\n            return { ...state, list: [], loading: true };\n            break;\n        case FILTER_PALETTE:\n            return { ...state, filter: payload, listFilterd: payload ? state.list.filter(i => i.name.toLowerCase().indexOf(payload) >= 0) : state.list }\n            break\n        default:\n            return state;\n            break;\n    }\n}","\nimport { \n    FETCH_SENSORS, \n    INVALID_FILTER, \n    SELECT_SENSOR, \n    SENSOR_UPDATE, \n    CLOSE_CHART, \n    WS_CONNECTED, \n    WS_DISCONNECTED } from './sensorActions';\nconst EMPTY_SENSOR = {\n    sensor: '',\n    values: []\n};\nconst DEFAULT_STATE = {\n    list: [],\n    selectedSensor: EMPTY_SENSOR,\n    hasSelectedSensor: false,\n    wsConnection: false,\n    limit: 100\n};\nexport default (state = DEFAULT_STATE, action) => {\n    switch (action.type) {\n        case WS_CONNECTED:\n            return { ...state, wsConnection: true }\n            break\n        case WS_DISCONNECTED:\n            return { ...state, wsConnection: false }\n            break\n        case FETCH_SENSORS + '_FULFILLED':\n            return Object.assign({}, state, { list: action.payload.data });\n            break;\n        case INVALID_FILTER:\n            return Object.assign({}, state, { list: [] });\n            break;\n        case SENSOR_UPDATE:\n            const data = action.payload;\n            console.log(data)\n            if (state.selectedSensor && state.selectedSensor.values && state.selectedSensor.sensor == data.sensor) {\n                const newselectedSensor = Object.assign(\n                    state.selectedSensor,\n                    { values: [data.value, ...state.selectedSensor.values] })\n                    if(newselectedSensor.values.length> state.limit){\n                        newselectedSensor.values.splice(state.limit, newselectedSensor.values.length-state.limit)\n                    }\n                return Object.assign({}, state, { selectedSensor: newselectedSensor })\n            }\n            return state;\n            break;\n        case SELECT_SENSOR + '_FULFILLED':\n            return Object.assign({}, state, { selectedSensor: action.payload.data });\n            break;\n        case SELECT_SENSOR + '_REJECTED':\n            return Object.assign({}, state, { selectedSensor: EMPTY_SENSOR, hasSelectedSensor: false });\n            break;\n        case SELECT_SENSOR + '_PENDING':\n            return Object.assign({}, state, { selectedSensor: EMPTY_SENSOR, hasSelectedSensor: true });\n            break;\n        case CLOSE_CHART:\n            return Object.assign({}, state, { selectedSensor: EMPTY_SENSOR, hasSelectedSensor: false });\n        default:\n            return state;\n    }\n}","import {LOGIN} from './loginActions';\nexport default (state = {isLoged: true, error: ''}, action) => {\n    if(!action.payload) return state;\n    switch (action.type) {\n        case LOGIN:\n            if (action.payload.status || (action.payload.response && action.payload.response.status)) {\n                switch (action.payload.status || action.payload.response.status) {\n                    case 200:\n                        return {...state, isLoged: true, error: ''}\n                    case 401:\n                        return {...state, isLoged: false, error: 'Usuário ou senha invalidos'}\n                }\n            }\n            return {...state, isLoged: false, error: 'Erro ao tentar acessar o servidor'}\n        default:\n            return state;\n    }\n}","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport {goto} from './appReducers';\n\nclass MenuApp extends Component {\n    constructor(props) {\n        super(props)\n        this.goto = this.goto.bind(this)\n    }\n\n    goto(url) {\n        this.props.changeUrl(url)\n    }\n\n    render() {\n        const {url = \"\", routes} = this.props\n        return <div className=\"list-group\">\n            <div onClick={() => this.goto('/')} className={'list-group-item ' + (url == '/' ? 'active' : '')}>\n                Home\n            </div>\n\n            {routes.map((route, index) => {\n                    if (route.title)\n                        return (\n                            <div onClick={() => this.goto(route.path)}\n                                 className={ 'list-group-item ' + (url.startsWith(route.path) ? 'active' : '')}\n                                 key={index}>\n                                {route.title}\n                            </div>)\n                    return null;\n                }\n            )\n            }\n        </div>\n    }\n}\nconst mapStateToProps = (state) => ({\n    url: state.menu.currentUrl\n});\nexport default connect(mapStateToProps)(MenuApp);","import React, {Component} from 'react'\nimport {Router, Route} from 'react-router';\nimport createHashHistory from 'history/createHashHistory';\nimport {connect} from 'react-redux'\nimport MenuApp from './AppMenu';\nimport {goto} from './appReducers';\nimport LoginScreen from './login/LoginScreen';\nimport SensorList from './sensor/SensorList';\nimport Editor from './editor/Editor'\nimport ListPalette from './palette/ListPalette'\nimport MapList from './maps/MapList'\nimport MapsDetail from './maps/MapsDetail';\nconst history = createHashHistory({\n    queryKey: false\n})\nconst routes = [\n    {\n        title: '',\n        path: '/login',\n        component: LoginScreen\n    },{\n        title: 'Sensores',\n        path: '/sensor',\n        component: SensorList\n    },{\n        title: 'Editor',\n        path: '/editor',\n        component: Editor\n    },{\n        title: 'Palette',\n        path: '/palette/list',\n        component: ListPalette\n    }\n    ,{\n        title: 'Mapas',\n        path: '/mapas/list',\n        component: MapList\n    }\n    ,{\n        title: 'Map Detail',\n        path: '/mapas/detail',\n        component: MapsDetail,\n        hide: true\n    }\n];\nclass RouterConfig extends Component {\n    componentDidMount() {\n        const {changeUrl, login} = this.props;\n        if (!login) {\n            changeUrl('/login')\n        } else {\n            changeUrl(history.location.pathname)\n        }\n    }\n    shouldComponentUpdate(nextProps){\n        if(nextProps.currentUrl && nextProps.currentUrl != this.props.currentUrl){\n            history.push(nextProps.currentUrl)\n            // this.props.changeUrl(nextProps.currentUrl)\n        }\n        return true;\n    }\n\n    render() {\n        const {changeUrl, login} = this.props;\n        return (\n            <Router history={history}>\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-2\">\n                            {login ? <MenuApp routes={routes} changeUrl={changeUrl}/> : null}\n                        </div>\n                        <div className=\"col-10\">\n                            {routes.map((route, index) => <Route key={index} path={route.path}\n                                                                 component={route.component}/>)}\n                        </div>\n                    </div>\n                </div>\n            </Router>\n        );\n    }\n}\nconst mapStateToProps = (state) => ({\n    login: state.login.isLoged,\n    currentUrl: state.menu.currentUrl\n})\nconst mapDispatch = (dispatch) => ({\n    changeUrl: (url) => {\n        //history.push(url);\n        dispatch(goto(url));\n    }\n});\nexport default connect(mapStateToProps, mapDispatch)(RouterConfig);\n","import axios from 'axios'\nimport { BASE_URL } from '../utils/config'\nexport const ADD_PALETTE = 'ADD_PALETTE';\nexport const REMOVE_PALETTE = 'REMOVE_PALETTE';\nexport const FETCH_PALETTE = 'FETCH_PALETTE';\nexport const FILTER_PALETTE = 'FILTER_PALETTE';\n\nexport const save = (values) => {\n    const data = new FormData(values);\n    data.append('values', JSON.stringify(values));\n\n    const files = values.images.map((img, index) => {\n        data.append('' + index + '', img.image[0]);\n        console.log(img.image)\n        return img.image[0];\n\n    })\n    console.log(files)\n    return {\n        type: ADD_PALETTE,\n        payload: axios.put(BASE_URL + \"/slice\", data)\n    }\n\n}\nexport const fetch = () => {\n    return {\n        type: FETCH_PALETTE,\n        payload: axios.get(BASE_URL + \"/slice\")\n    }\n}\nexport const remove = (id) => {\n    return {\n        type: REMOVE_PALETTE,\n        payload: axios.delete(BASE_URL + \"/slice/\"+id)\n    }\n}\nexport const getImageURL = (id, value=0) => {\n    return BASE_URL + '/slice/' + id + \"/imageByValue/\" + value;\n}\nexport const filter = (name)=> ({\n    type: FILTER_PALETTE,\n    payload: name\n})","\nconst BASE_URL = window.location.host === 'localhost:3000' ? 'http://localhost:8080/api' : '/api';\nconst BASE_WS_URL = window.location.host === 'localhost:3000' ?\n    'ws://localhost:8080/api/sensor/wsstatus' :\n    'ws://' + window.location.host + '/api/sensor/wsstatus';\n// const BASE_WS_URL = 'wss://cesuscmobile.azurewebsites.net/api/sensor/wsstatus';\n\nexport { BASE_URL, BASE_WS_URL };","import React, {Component} from 'react'\nimport Dropzone from 'react-dropzone'\nimport $ from 'jquery';\nexport function renderField({ input, label, type, meta: { touched, error }, help }) {\n    return (\n        <div className=\"form-group \">\n            <label>{label}</label>\n            <div>\n                <input className=\"form-control\" {...input} placeholder={label} type={type} />\n                {help && <small className=\"form-text \">* {help}</small>}\n                {touched && error && <small className=\"form-text text-danger\">* {error}</small>}\n            </div>\n        </div>\n    )\n}\nexport function renderFieldSelect({ input, label, meta: { touched, error }, help, options }) {\n    return (\n\n        <div className=\"form-group \">\n            <label>{label}</label>\n            <div>\n                <select className=\"form-control\"  {...input} placeholder={label}>\n                    {options.map(value => <option key={value} value={value}>{value}</option>)}\n                </select>\n                {help && <small className=\"form-text \">* {help}</small>}\n                {touched && error && <small className=\"form-text text-danger\">* {error}</small>}\n            </div>\n        </div>\n    )\n}\n\nexport class FileField extends React.Component {\n\n    handleDropOrClick = (acceptedFiles, rejectedFiles, e) => {\n        let eventOrValue = e;\n        let { input: { onChange, onBlur } } = this.props;\n        if (e.type === 'drop') {\n            if (acceptedFiles.length) {\n                // FileList or [File]\n                eventOrValue = (e.dataTransfer && e.dataTransfer.files) || acceptedFiles;\n            } else {\n                eventOrValue = null;\n            }\n        }\n        onBlur(eventOrValue); // update touched\n        onChange(eventOrValue); // update value\n    }\n\n\n    render() {\n        let { input, meta: { touched, error } } = this.props;\n        let { accept, multiple } = this.props;\n        let selectedFile = (input && input.value && input.value[0]) || null;\n        let dropzoneProps = {\n            accept,\n            multiple,\n            onDrop: this.handleDropOrClick,\n        };\n        let style = {\n            width: '50px',\n            height: '50px',\n            borderWidth: '2px',\n            borderColor: 'rgb(102, 102, 102)',\n            borderStyle: 'dashed',\n            borderRadius: '5px',\n        }\n        return (\n            <div>\n                <input type='hidden' disabled {...input} />\n                {selectedFile ? <span>{selectedFile.name}</span> : 'Selecione um arquivo'}\n                <Dropzone style={style}  {...dropzoneProps} >\n                    {selectedFile ? <img width=\"100%\" src={selectedFile.preview} /> : null}\n                </Dropzone>\n            </div>\n        );\n    }\n}\n\nexport class Modal extends Component {\n    show() {\n        if (this.modal) {\n            $(this.modal).modal()\n        }\n    }\n    render() {\n        const { children, title, buttons } = this.props;\n        return  (\n            <div className=\"modal  fade \" ref={e => this.modal = e} tabIndex=\"-1\" role=\"dialog\">\n                <div className=\"modal-dialog modal-lg\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\">{title}</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            {children}\n                        </div>\n                        <div className=\"modal-footer\">\n                            {buttons ? buttons :\n                                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ) \n    }\n}\n\nexport default {}\n","import axios from 'axios'\nimport {BASE_URL, BASE_WS_URL} from '../utils/config'\nexport const actions = {\n    FETCH_MAPS:'FETCH_MAPS',\n    SELECT_MAP:'SELECT_MAP',\n    FETCH_MAP_DETAIL: 'FETCH_MAP_DETAIL',\n    WS_MAP_MESSAGE: 'WS_MAP_MESSAGE',\n    WS_CONNECTED: \"WS_CONNECTED\",\n    WS_DISCONNECTED: \"WS_DISCONNECTED\"\n\n}\n\nexport const fetchMaps = (filter)=>({\n    type: actions.FETCH_MAPS,\n    payload: axios.get(BASE_URL+\"/map\")\n})\nexport const selectMap = (id)=>({\n    type: actions.FETCH_MAP_DETAIL,\n    payload: axios.get(BASE_URL+\"/map/\"+id)\n})\n\n\n\n\nlet wsStatus = undefined;\nlet lastConnection = [];\nexport const wsStatusStop = () => {\n    if (wsStatus) {\n        wsStatus.close();\n    }\n}\nexport const wsStatusStart = (dispatch, sensors) => {\n    if (!sensors || sensors.length === 0) return;\n    if (wsStatus) {\n\n        if (sensors.length == lastConnection.length && sensors.every((v, i) => v === lastConnection[i])) {\n            console.log(\"Mesmo\", lastConnection);\n            return;\n        }\n        console.log(\"Não é o mesmo Fechando conexão\", lastConnection);\n        wsStatus.close();\n    }\n    wsStatus = new WebSocket(BASE_WS_URL + \"?sensors=\" + JSON.stringify(sensors));\n    wsStatus.onopen = s => {\n        console.log('onopen ws');\n        lastConnection = sensors;\n        dispatch({\n            type: actions.WS_CONNECTED\n        })\n\n    }\n    wsStatus.onmessage = msg => {\n        console.log('message:', msg)\n        dispatch({\n            type: actions.WS_MAP_MESSAGE,\n            payload: JSON.parse(msg.data)\n        })\n    }\n    wsStatus.onclose = (e) => {\n        console.log(\"WS onclose:\",e)\n        lastConnection = [];\n        dispatch({\n            type: actions.WS_DISCONNECTED,\n            payload: e\n        })\n    }\n    wsStatus.onerror = (err) => {\n        lastConnection = [];\n        dispatch({\n            type: actions.WS_DISCONNECTED,\n            payload: err\n        })\n    }\n}","import axios from 'axios'\nimport { BASE_URL } from '../utils/config'\nexport const SELECT_ITEM = \"SELECT_ITEM\" \nexport const ADD_ITEM_ON_MAP = \"ADD_ITEM_ON_MAP\"\nexport const POINT_SELECTED = \"POINT_SELECTED\"\nexport const SAVE_PROPERTIES = \"SAVE_PROPERTIES\"\nexport const SELECT_EDIT_PROPERTIES = \"SELECT_EDIT_PROPERTIES\"\nexport const SAVEMAP = \"SAVEMAP\"\nexport const CHANGE_NAME = \"CHANGE_NAME\"\n\nexport const selectItem = (item) => ({\n    type: SELECT_ITEM,\n    payload: item\n})\n\nexport const saveMap = (map) => ({\n    type: SAVEMAP,\n    payload: map._id?axios.post(BASE_URL + \"/map\", map):axios.put(BASE_URL + \"/map\", map)\n})\n\nexport const addItem = (item, x, y) => ({\n    type: ADD_ITEM_ON_MAP,\n    payload: { item: item, x: x, y: y }\n})\n\nexport const itemPointSelected = (x,y)=>({\n    type: POINT_SELECTED,\n    payload: {x:x, y:y}\n})\nexport const saveProperties = (values) => ({\n    type:SAVE_PROPERTIES,\n    payload: values\n})\nexport const selectProperties = (prop) => ({\n    type:SELECT_EDIT_PROPERTIES,\n    payload: prop\n})\nexport const changeName = (name) =>({\n    type:CHANGE_NAME,\n    payload: name\n})\n ","import axios from 'axios'\nimport {BASE_URL} from '../utils/config'\n\nexport const LOGIN = 'LOGIN';\n\nexport function login(values) {\n    return {\n        type: LOGIN,\n        payload: axios.post(BASE_URL + '/login', values).then(res=>{\n            instance.defaultConfig.headers.authorization = 'bearer '+res.data;\n            return res;\n        })\n    }\n}","import { BASE_URL, BASE_WS_URL } from '../utils/config';\nimport axios from 'axios';\nexport const FETCH_SENSORS = \"FETCH_SENSORS\";\nexport const INVALID_FILTER = \"INVALID_FILTER\";\nexport const SELECT_SENSOR = \"SELECT_SENSOR\";\nexport const SENSOR_UPDATE = \"SENSOR_UPDATE\";\nexport const CLOSE_CHART = \"CLOSE_CHART\";\nexport const WS_CONNECTED = \"WS_CONNECTED\";\nexport const WS_DISCONNECTED = \"WS_DISCONNECTED\";\nexport const closeChart = () => ({\n    type: CLOSE_CHART\n})\nexport const selectSensor = (sensorName) => ({\n    type: SELECT_SENSOR,\n    payload: axios.get(BASE_URL + '/sensor/values?name=' + sensorName)\n})\n\nexport const fetchSensors = (filter) => {\n    if (!filter || filter.length < 1) {\n        return {\n            type: INVALID_FILTER\n        }\n    }\n    return {\n        type: FETCH_SENSORS,\n        payload: axios.get(BASE_URL + '/sensor/list?name=' + filter)\n    }\n}\nlet wsStatus = undefined;\nlet lastConnection = [];\nexport const wsStatusStop = () => {\n    if (wsStatus) {\n        wsStatus.close();\n    }\n}\nexport const wsStatusStart = (dispatch, sensors) => {\n    if (!sensors || sensors.length === 0) return;\n    if (wsStatus) {\n\n        if (sensors.length == lastConnection.length && sensors.every((v, i) => v === lastConnection[i])) {\n            console.log(\"Mesmo\", lastConnection);\n            return;\n        }\n        console.log(\"Não é o mesmo Fechando conexão\", lastConnection);\n        wsStatus.close();\n    }\n    wsStatus = new WebSocket(BASE_WS_URL + \"?sensors=\" + JSON.stringify(sensors));\n    wsStatus.onopen = s => {\n        console.log('onopen ws');\n        lastConnection = sensors;\n        dispatch({\n            type: WS_CONNECTED\n        })\n\n    }\n    wsStatus.onmessage = msg => {\n        console.log('message:', msg)\n        dispatch({\n            type: SENSOR_UPDATE,\n            payload: JSON.parse(msg.data)\n        })\n    }\n    wsStatus.onclose = (e) => {\n        console.log(\"WS onclose:\",e)\n        lastConnection = [];\n        dispatch({\n            type: WS_DISCONNECTED\n        })\n    }\n    wsStatus.onerror = (err) => {\n        lastConnection = [];\n        dispatch({\n            type: WS_DISCONNECTED\n        })\n    }\n}","import { createStore, applyMiddleware, combineReducers } from 'redux'\nimport { reducer as form } from 'redux-form'\nimport loginReducer from './login/loginReducer'\nimport sensorReducer from './sensor/sensorReducer'\nimport paletteReducer from './palette/paletteReducer'\nimport mapReducer from './editor/mapReducer'\nimport mapsReducer from './maps/mapsReducer'\nimport {actions} from './maps/mapsActions'\nconst menuReducer = (state = {\n    currentUrl: '/'\n}, action) => {\n    switch (action.type) {\n        case \"CHANGE_PAGE\":\n            return Object.assign({}, { ...state }, { currentUrl: action.payload })\n        case actions.FETCH_MAP_DETAIL + \"_FULFILLED\":\n            return Object.assign({}, { ...state }, { currentUrl: '/mapas/detail' })\n            break;\n        default:\n            return state\n    }\n};\nexport const goto = (url) => {\n    return {\n        type: \"CHANGE_PAGE\",\n        payload: url,\n\n    }\n};\nexport default combineReducers({\n    login: loginReducer,\n    sensors: sensorReducer,\n    palette: paletteReducer,\n    map: mapReducer,\n    maps: mapsReducer,\n    form,\n    menu: menuReducer\n})","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport * as d3 from 'd3'\nimport water from '../water.png'\nimport { getImageURL } from '../palette/paletteActions';\nimport { addItem, itemPointSelected } from './mapActions'\nclass Point {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n}\nclass MapItem {\n    constructor(image, w, id, type) {\n        this.image = image;\n        this.w = w;\n        this.id = id;\n        this.type = type;\n    }\n}\nclass Map extends Component {\n    updateSliceImage(image, x, y, name) {\n        let index = -1;\n        console.log(name);\n        for (var z = 0; z < this.map[x][y].length; z++) {\n            console.log(\"Procurando:\", this.map[x][y][z])\n            if (this.map[x][y][z].id == name) {\n                index = z;\n                break;\n            }\n        }\n        if (index != -1 && this.svg.select(\"#comp_\" + x + \"_\" + y + \"_\" + index).node()) {\n            console.log(this.svg.select(\"#comp_\" + x + \"_\" + y + \"_\" + index).node());\n            this.svg.select(\"#comp_\" + x + \"_\" + y + \"_\" + index).node().src = image;\n            this.svg.select(\"#comp_\" + x + \"_\" + y + \"_\" + index).attr(\"xlink:href\", image);\n        }\n    }\n    constructor(props) {\n        super(props)\n        this.map = props.map || [];\n        this.baseX = this.map.length * 25;\n        this.comps = [];\n    }\n    componentDidMount() {\n        this.mode = 0;\n        this.rootsvg = d3.select(this.root).append('svg');//.append('g');\n        this.mainsvg = this.rootsvg.append('g');//.append('g'); \n        this.grid = this.mainsvg.append('g');//.append('g');\n        this.svg = this.mainsvg.append('g');//.append('g');\n        this.svg.attr('fill', 'antiquewhite');\n        this.svg.attr('width', '100%');\n        this.svg.attr('height', '100%');\n        this.rootsvg.attr('width', '100%');\n        this.rootsvg.attr('height', '100%');\n        this.mainsvg.attr('width', '100%');\n        this.mainsvg.attr('height', '100%');\n        this.grid.attr('width', '100%');\n        this.grid.attr('height', '100%');\n        this.rootsvg.on('mouseleave', (a) => {\n            if (this.component && this.dragingElement) {\n                this.dragingElement.remove();\n                let idx = this.comps.indexOf(this.dragingElement, 0);\n                if (idx >= -1) {\n                    this.comps.splice(idx, 1);\n                }\n                this.dragingElement = null;\n            }\n        })\n        this.mainsvg.on(\"contextmenu\", () => {\n            d3.event.preventDefault();\n            // let coords = d3.mouse(d3.event.currentTarget);\n            // let p = this.twoDToIso(this.get2dFromTileCoordinates(this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50), 50));\n\n            // let pmap = this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50);\n            // let i = pmap.x.toFixed(0)\n            // let j = pmap.y.toFixed(0);\n            // this.map[i][j].forEach((item, index) => {\n            //     this.svg.selectAll(\"#comp_\" + i + \"_\" + j + \"_\" + index).remove()\n            // });\n            // this.map[i][j] = []\n            return false\n        });\n\n\n        this.mainsvg.on('mousedown', (a) => {\n            if (d3.event.button == 2) {\n                this.mode = 'SELECT_AREA';\n                this.selectElement = this.createRect('selectArea')\n                let coords = d3.mouse(d3.event.currentTarget);\n                let p1 = this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50);\n                this.selectElement.attr('stroke', '#00FF00');\n                this.selectElement.p1 = p1;\n            }\n        })\n        this.mainsvg.on('mouseup', (a) => {\n            switch (this.mode) {\n                case 'SELECT_AREA':\n                    // TODO Add slices\n                    if (this.component) {\n                        let x1 = Math.min(this.selectElement.p1.x, this.selectElement.p2.x);\n                        let x2 = Math.max(this.selectElement.p1.x, this.selectElement.p2.x);\n                        let y1 = Math.min(this.selectElement.p1.y, this.selectElement.p2.y);\n                        let y2 = Math.max(this.selectElement.p1.y, this.selectElement.p2.y);\n                        for (let x = x1; x <= x2; x++) {\n                            for (let y = y1; y <= y2; y++) {\n                                this.props.addItem({ ...this.component }, x, y)\n                            }\n                        }\n                    }\n                    this.selectElement.remove()\n                    break;\n            }\n            this.mode = 0;\n        })\n        this.mainsvg.on('click', (a) => {\n            let coords = d3.mouse(d3.event.currentTarget);\n            let p = this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50);\n            if (this.component) {\n                // let p = this.twoDToIso(this.get2dFromTileCoordinates(this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50), 50));\n                // let pInMap = (this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50));\n\n\n                this.props.addItem({ ...this.component }, p.x, p.y)\n\n            } else {\n                this.props.itemSelected(p.x, p.y)\n            }\n\n        });\n\n        this.mainsvg.on('mousemove', (a) => {\n            let coords = d3.mouse(d3.event.currentTarget);\n            const p1 = this.getTileCoordinates(this.isoTo2D(new Point(coords[0], coords[1] + 25)), 50);\n\n            let p = this.twoDToIso(this.get2dFromTileCoordinates(p1, 50));\n\n            switch (this.mode) {\n                case 'SELECT_AREA':\n                    this.selectElement.attr('points', this.getRectPoints(this.selectElement.p1, p1))\n                    this.selectElement.p2 = p1;\n                    break;\n\n                default:\n                    this.svg.selectAll(\"#point\")\n                        .attr('transform', 'translate(' + (p.x) + ',' + (p.y) + ')')\n                    if (this.component) {\n                        this.dragingElement = this.svg.selectAll('#moving');\n\n                        if (!this.dragingElement.node()) {\n                            let teste = this.component.image;\n                            let image = new Image();\n                            image.onload = (event) => {\n\n                                this.dragingElement = this.svg.append('image')\n                                    .attr('xlink:href', teste)\n                                    .attr('x', p.x * this.component.w)\n                                    .attr('y', p.y)\n                                    .attr('id', \"moving\")\n                                    .attr('opacity', 0.5)\n                                    .attr('width', 100 * this.component.w);\n                                this.comps.push(this.dragingElement)\n\n                                this.dragingElement.call(d3.drag().on('drag', (a, b, c) => {\n\n                                    let coordinates = d3.mouse(c[b]);\n                                    let p = this.twoDToIso(this.get2dFromTileCoordinates(this.getTileCoordinates(this.isoTo2D(new Point(coordinates[0], coordinates[1] + 25)), 50), 50));\n                                    this.svg.selectAll(\"#point\")\n                                        .attr('transform', 'translate(' + (p.x) + ',' + (p.y) + ')')\n                                    d3.select(c[b])\n                                        .attr('x', p.x)\n                                        .attr('y', p.y - this.dragingElement.node().getBBox().height)\n                                    //  this.sort()\n\n                                }).on('end', (j) => {\n\n                                }));\n                            };\n                            image.src = teste;\n\n                        } else {\n                            this.dragingElement\n                                .attr('x', p.x - 50 * this.component.w)\n                                .attr('y', p.y - this.dragingElement.node().getBBox().height + 25);\n                            // this.sort()\n                            if (this.dragingElement.node())\n                                this.dragingElement.node().parentNode.appendChild(this.dragingElement.node())\n                        }\n\n                    }\n                    break;\n            }\n\n        });\n\n\n        let zoom = d3.zoom()\n            .filter(() => {\n                return d3.event instanceof WheelEvent || d3.event.button == 1\n            })\n            .scaleExtent([0.1, 10])\n            .on('zoom', () => {\n                this.mainsvg.attr('transform', d3.event.transform);\n            });\n\n        this.rootsvg.call(zoom).call(zoom.transform, d3.zoomIdentity.translate(this.baseX, 0).scale(0.5));\n        this.mainsvg.attr(\"transform\", \"translate(\" + this.baseX + \",0)scale(.5,.5)\");\n        // Desenhar Grid\n        this.createGrid(true);\n    }\n    componentDidUpdate() {\n        this.createGrid();\n        if (this.props.selectedItem) {\n            this.component = new MapItem(getImageURL(this.props.selectedItem._id, 0), this.props.selectedItem.width, this.props.selectedItem._id, this.props.selectedItem.type);\n        } else {\n            this.component = null;\n        }\n    }\n    getRectPoints(p1, p2) {\n        let _p1 = this.twoDToIso(this.get2dFromTileCoordinates(new Point(p1.x, p1.y), 50))\n        let _p2 = this.twoDToIso(this.get2dFromTileCoordinates(new Point(p1.x, p2.y), 50))\n        let _p3 = this.twoDToIso(this.get2dFromTileCoordinates(new Point(p2.x, p2.y), 50))\n        let _p4 = this.twoDToIso(this.get2dFromTileCoordinates(new Point(p2.x, p1.y), 50))\n\n        let x1 = _p1.x - 50;\n        let y1 = _p1.y;\n        let x2 = _p2.x;\n        let y2 = _p2.y - 25;\n        let x3 = _p3.x + 50;\n        let y3 = _p3.y;\n        let x4 = _p4.x;\n        let y4 = _p4.y + 25;\n        return x1 + ',' + y1 + ' ' + x2 + ',' + y2 + ' ' + x3 + ',' + y3 + ' ' + x4 + ',' + y4 + ' ' + x1 + ',' + y1;\n    }\n\n    createRect(id) {\n\n        return this.svg\n            .append('g')\n            .attr('id', id)\n            .append('polygon')\n            .attr('points', this.getRectPoints(new Point(0, 0), new Point(0, 0)))\n            .attr('fill', '#FFFFFF')\n            .attr('stroke', '#FF0000')\n            .attr('stroke-width', 2)\n            .attr('opacity', 0.5)\n    }\n    createGrid(init) {\n        let hw = 100 / 2;\n        let hh = 50 / 2;\n        let len = this.map.length || 50;\n        for (let i = 0; i < len; i++) {\n            this.map[i] = this.map[i] || []\n            let het = this.map[i].length || 50;\n            for (let j = 0; j < het; j++) {\n                this.map[i][j] = this.map[i][j] || []\n                let p = this.twoDToIso(this.get2dFromTileCoordinates(new Point(i, j), 50));\n\n                if (init) {\n                    let _p = new Point(i, j)\n                    this.grid.append('polygon')\n                        .attr('points', this.getRectPoints(_p, _p))\n                        .attr('fill', '#FFFFFF')\n                        .attr('stroke', '#CCCCCC')\n                        .attr('stroke-width', 2)\n                        .attr('opacity', 0.5)\n                }\n                if (this.map[i][j]) {\n\n                    for (let t = 0; t < this.map[i][j].length; t++) {\n                        let teste = this.map[i][j][t].image;\n\n                        if (this.svg.select(\"#comp_\" + i + \"_\" + j + \"_\" + t).node())\n                            continue; // Ignorando pois já esta no svg\n                        let image = new Image();\n                        let temp = this.dragingElement = this.svg.append('image')\n                            .attr('xlink:href', teste)\n                            .attr('x', p.x - 50 * this.map[i][j][t].w)\n                            .attr('y', p.y - 25)\n                            .attr('id', \"comp_\" + i + \"_\" + j + \"_\" + t)\n                            .attr('width', 100 * this.map[i][j][t].w);\n                        image.onload = (event) => {\n                            temp.attr('y', p.y - (100.0 / image.width * image.height) + 25);\n                            this.comps.push(temp);\n                            this.sort()\n                            temp.call(d3.drag().on('drag', (a, b, c) => {\n\n                                let coordinates = d3.mouse(c[b]);\n                                let p = this.twoDToIso(this.get2dFromTileCoordinates(this.getTileCoordinates(this.isoTo2D(new Point(coordinates[0], coordinates[1] + 25)), 50), 50));\n                                d3.select(c[b])\n                                    .attr('x', p.x - 50)\n                                    .attr('y', p.y - c[b].getBBox().height + 25)\n                                this.sort()\n\n\n                            }).on('end', (j) => {\n\n                            }));\n                        };\n                        image.src = teste;\n                    }\n                }\n            }\n        }\n\n        if (init) {\n            this.svg\n                .append('g')\n                .attr('id', 'point')\n                .append('polygon')\n                .attr('points', this.getRectPoints(new Point(0, 0), new Point(0, 0)))\n                .attr('fill', '#FFFFFF')\n                .attr('stroke', '#FF0000')\n                .attr('stroke-width', 2)\n                .attr('opacity', 0.5)\n            this.svg\n                .append('g')\n                .attr('id', '_select')\n                .append('polygon')\n                .attr('points', this.getRectPoints(new Point(0, 0), new Point(0, 0)))\n                .attr('fill', '#CCCCCC')\n                .attr('stroke', '#2222CC')\n                .attr('stroke-width', 2)\n                .attr('opacity', 0.5)\n        } else {\n            // TODO Posicionar baseado no valor de currentSelected\n            if (this.props.currentSelected) {\n                let p = this.twoDToIso(this.get2dFromTileCoordinates(this.props.currentSelected, 50));\n                this.svg.selectAll(\"#_select\").attr('transform', 'translate(' + (p.x) + ',' + (p.y) + ')')\n            }\n\n        }\n    }\n\n    sort() {\n        let len = this.map.length || 50;\n        for (let i = 0; i < len; i++) {\n            this.map[i] = this.map[i] || []\n            let het = this.map[i].length || 50;\n            for (let j = 0; j < het; j++) {\n                for (let t = 0; t < this.map[i][j].length; t++) {\n                    let a = this.svg.select('#' + \"comp_\" + i + \"_\" + j + \"_\" + t)\n                    if (a.node())\n                        a.node().parentNode.appendChild(a.node())\n                }\n            }\n        }\n        // this.map.forEach((m1) => {\n        //     m1.forEach((m2) => {\n        //         m2.forEach((item) => {\n        //             let a = this.svg.select('#' + item.id)\n        //             if (a.node())\n        //                 a.node().parentNode.appendChild(a.node())\n        //         })\n        //     })\n        // })\n    }\n\n\n    download() {\n\n        saveSvgAsPng(this.rootsvg.node(), \"diagram.png\")\n        // this.createGrid();\n        // this.rootsvg.selectAll('polygon').attr('opacity', 0.5);\n    }\n    isoTo2D(pt) {\n        //gx=(2*isoy+isox)/2;\n        //gy=(2*isoy-isox)/2\n        let tempPt = new Point(0, 0);\n        tempPt.x = (2 * pt.y + pt.x) / 2;\n        tempPt.y = (2 * pt.y - pt.x) / 2;\n        return (tempPt);\n    }\n\n    /**\n     * convert a 2d point to isometric\n     * */\n    twoDToIso(pt) {\n        //gx=(isox-isoxy;\n        //gy=(isoy+isox)/2\n        let tempPt = new Point(0, 0);\n        tempPt.x = pt.x - pt.y;\n        tempPt.y = (pt.x + pt.y) / 2;\n        return (tempPt);\n    }\n\n    getTileCoordinates(pt, tileHeight) {\n        let tempPt = new Point(0, 0);\n        tempPt.x = Math.floor(pt.x / tileHeight);\n        tempPt.y = Math.floor(pt.y / tileHeight);\n\n        return (tempPt);\n    }\n\n    /**\n     * convert specific tile row/column to 2d point\n     * */\n    get2dFromTileCoordinates(pt, tileHeight) {\n        let tempPt = new Point(0, 0);\n        tempPt.x = pt.x * tileHeight;\n        tempPt.y = pt.y * tileHeight;\n\n        return (tempPt);\n    }\n\n\n\n\n    render() {\n        const { isOver, canDrop, connectDropTarget } = this.props;\n        return (<div>\n            <div style={{ width: 800, height: 500 }} ref={el => this.root = el}></div>\n        </div>)\n\n    }\n    componentWillReceiveProps(nextProps) {\n\n        if (!this.props.isOver && nextProps.isOver) {\n            // You can use this as enter handler\n        }\n\n        if (this.props.isOver && !nextProps.isOver) {\n            // You can use this as leave handler\n        }\n\n        if (this.props.isOverCurrent && !nextProps.isOverCurrent) {\n            // You can be more specific and track enter/leave\n            // shallowly, not including nested targets\n        }\n    }\n}\n\nconst mapStateToProps = state => ({\n    selectedItem: state.map.selectedItem,\n    // map: state.map.map,\n    currentSelected: state.map.currentSelected\n})\nconst mapDispatchToProps = ({\n    addItem: addItem,\n    itemSelected: itemPointSelected\n})\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(Map)"],"sourceRoot":""}